# rifted with FR v5.7.2

Name : 'monsters',
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'Cave Bat',
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 1,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Cave Bat',
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'bat_red',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.699999988079071,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'bat_fly',
                Repeating : 1,
                SpeedMultiplier : 2.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 105,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 107,
            EntityComponent{ # EntityComponent
                FacingDirection : 18446744073709551615,
                PhysicsEnabled : 0,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 111,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 113,
            HealthComponent{ # HealthComponent
                MaxHealth : 1,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 115,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -20.0,
                    Y : -7.7837300300598145,
                    Width : 40.0,
                    Height : 42.783729553222656,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 118,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'bat_attack',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 119,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 107,
                AnimationControllerId : 105,
                DefaultMoveAnimationId : 103,
                RoamAreaId : 115,
                DefaultMoveSpeed : 100.0,
                DefaultAcceleration : 800.0,
                TargetingDistance : 350.0,
                MovementBehavior : 1,
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 122,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;

local function ShouldAttack()
    if EntityController.Target(self) == nil then 
        return false; 
    end

    return (EntityController.Target(self):position() - self:position()):length() < 400;
end

local targetPosition = self:position();

local timeSinceAttack = 3;

while true do
    Program.Wait(0.1);
    timeSinceAttack = timeSinceAttack + 0.1;

    if EntityController.IsIdle(self) then    

        if EntityController.Target(self) ~= nil then
            EntityController.SetFacingDirection(self, 
                DirectionToTargetFromPosition(EntityController.Target(self):position(), self:position()));
        end

        local delta = targetPosition - self:position();

        PhysicsObject.SetGravityDirection(self, delta:normalized());
        PhysicsObject.SetGravityMagnitude(self, 1);
        PhysicsObject.SetDecelerationForce(self, 2);

        if timeSinceAttack > 5 and ShouldAttack() then
            timeSinceAttack = 0;
            EntityController.PerformAction(self, 128);
        end
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xc9\x03\x00\x00local self = ...;\r\n\r\nlocal function ShouldAttack()\r\n\tif EntityController.Target(self) == nil then \r\n\t\treturn false; \r\n\tend\r\n\r\n\treturn (EntityController.Target(self):position() - self:position()):length() < 400;\r\nend\r\n\r\nlocal targetPosition = self:position();\r\n\r\nlocal timeSinceAttack = 3;\r\n\r\nwhile true do\r\n\tProgram.Wait(0.1);\r\n\ttimeSinceAttack = timeSinceAttack + 0.1;\r\n\r\n\tif EntityController.IsIdle(self) then\t\r\n\r\n\t\tif EntityController.Target(self) ~= nil then\r\n\t\t\tEntityController.SetFacingDirection(self, \r\n\t\t\t\tDirectionToTargetFromPosition(EntityController.Target(self):position(), self:position()));\r\n\t\tend\r\n\r\n\t\tlocal delta = targetPosition - self:position();\r\n\r\n\t\tPhysicsObject.SetGravityDirection(self, delta:normalized());\r\n\t\tPhysicsObject.SetGravityMagnitude(self, 1);\r\n\t\tPhysicsObject.SetDecelerationForce(self, 2);\r\n\r\n\t\tif timeSinceAttack > 5 and ShouldAttack() then\r\n\t\t\ttimeSinceAttack = 0;\r\n\t\t\tEntityController.PerformAction(self, 128);\r\n\t\tend\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\nF\x00\x00\x00%\x00\x00\x01d\x00\x00\x00\x00\x00\x00\x00\x8b\x00@\x00\x9c\x80\x00\x01\xc1@\x00\x00\x05\x81\x00\x00\x06\xc1@\x02A\x01\x01\x00\x1cA\x00\x01\xcc\x00\xc1\x01\x05A\x01\x00\x06\x81A\x02@\x01\x00\x00\x1c\x81\x00\x01\x1a\x01\x00\x00\x16\x00\xfd\x7f\x05A\x01\x00\x06\xc1A\x02@\x01\x00\x00\x1c\x81\x00\x01W\x00B\x02\x16@\x03\x80\x05A\x01\x00\x06AB\x02@\x01\x00\x00\x85\x81\x02\x00\xc5A\x01\x00\xc6\xc1\xc1\x03\x00\x02\x00\x00\xdc\x81\x00\x01\xcb\x01\xc0\x03\xdc\x81\x00\x01\x0b\x02@\x00\x1c\x02\x00\x01\x9c\x01\x00\x00\x1cA\x00\x00\x0b\x01@\x00\x1c\x81\x00\x01\r\x01\x01\x01E\xc1\x02\x00F\x01\xc3\x02\x80\x01\x00\x00\xcbAC\x02\xdc\x01\x00\x01\\A\x00\x00E\xc1\x02\x00F\x81\xc3\x02\x80\x01\x00\x00\xc1\xc1\x03\x00\\A\x80\x01E\xc1\x02\x00F\x01\xc4\x02\x80\x01\x00\x00\xc1A\x04\x00\\A\x80\x01\x18\xc0\x00\x89\x16\xc0\xf2\x7f@\x01\x80\x00\\\x81\x80\x00Z\x01\x00\x00\x16\xc0\xf1\x7f\xc1\xc0\x04\x00EA\x01\x00F\x01\xc5\x02\x80\x01\x00\x00\xc1A\x05\x00\\A\x80\x01\x16\x00\xf0\x7f\x1e\x00\x80\x00\x16\x00\x00\x00\x04\t\x00\x00\x00position\x00\x03\x00\x00\x00\x00\x00\x00\x08@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00IsIdle\x00\x04\x07\x00\x00\x00Target\x00\x00\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\x1e\x00\x00\x00DirectionToTargetFromPosition\x00\x04\x0e\x00\x00\x00PhysicsObject\x00\x04\x14\x00\x00\x00SetGravityDirection\x00\x04\x0b\x00\x00\x00normalized\x00\x04\x14\x00\x00\x00SetGravityMagnitude\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\x15\x00\x00\x00SetDecelerationForce\x00\x03\x00\x00\x00\x00\x00\x00\x00@\x03\x00\x00\x00\x00\x00\x00\x14@\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x00`@\x01\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\t\x00\x00\x00\x01\x00\x00\x03\x1a\x00\x00\x00\x05\x00\x00\x00\x06@@\x00D\x00\x00\x00\x1c\x80\x00\x01\x17\x80@\x00\x16@\x00\x80\x02\x00\x00\x00\x1e\x00\x00\x01\x05\x00\x00\x00\x06@@\x00D\x00\x00\x00\x1c\x80\x00\x01\x0b\xc0@\x00\x1c\x80\x00\x01D\x00\x00\x00K\xc0\xc0\x00\\\x80\x00\x01\r@\x00\x00\x0b\x00A\x00\x1c\x80\x00\x01X@A\x00\x16\x00\x00\x80\x02@\x00\x00\x02\x00\x80\x00\x1e\x00\x00\x01\x1e\x00\x80\x00\x06\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x00\x04\t\x00\x00\x00position\x00\x04\x07\x00\x00\x00length\x00\x03\x00\x00\x00\x00\x00\x00y@\x00\x00\x00\x00\x1a\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x05\x00\x00\x00self\x00F\x00\x00\x00\x01\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x16\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00!\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00$\x00\x00\x00%\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00E\x00\x00\x00\r\x00\x00\x00ShouldAttack\x00\x03\x00\x00\x00E\x00\x00\x00\x0f\x00\x00\x00targetPosition\x00\x05\x00\x00\x00E\x00\x00\x00\x10\x00\x00\x00timeSinceAttack\x00\x06\x00\x00\x00E\x00\x00\x00\x06\x00\x00\x00delta\x00(\x00\x00\x00D\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'PhysicsObject',
            Identifier : 125,
            PhysicsObjectComponent{ # PhysicsObjectComponent
                PhysicsEnabled : 1,
                GroundDeceleration : 1500.0,
                AirDeceleration : 0.0,
                MaxSpeed : 700.0,
                AllowRotation : 0,
                Elasticity : 0.0,
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 128,
            Label : 'attack',
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local attackAnimation = 118;

PhysicsObject.SetGravityMagnitude(self, 0);
PhysicsObject.SetDecelerationForce(self, 0);

self:setVelocity(Vector3.New(0, 0, 0));
AnimationController.BlendToAnimation(self, attackAnimation);

Program.Wait(0.5);

local speed = 550;

local delta = (EntityController.Target(self):position() - self:position());
self:setVelocity(delta:normalized() * speed);

Program.Wait(0.9 * delta:length() / speed);

$end
                    Bytes : "\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xd3\x01\x00\x00local self = ...;\r\n\r\nlocal attackAnimation = 118;\r\n\r\nPhysicsObject.SetGravityMagnitude(self, 0);\r\nPhysicsObject.SetDecelerationForce(self, 0);\r\n\r\nself:setVelocity(Vector3.New(0, 0, 0));\r\nAnimationController.BlendToAnimation(self, attackAnimation);\r\n\r\nProgram.Wait(0.5);\r\n\r\nlocal speed = 550;\r\n\r\nlocal delta = (EntityController.Target(self):position() - self:position());\r\nself:setVelocity(delta:normalized() * speed);\r\n\r\nProgram.Wait(0.9 * delta:length() / speed);\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x084\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x85@\x00\x00\x86\x80@\x01\xc0\x00\x00\x00\x01\xc1\x00\x00\x9c@\x80\x01\x85@\x00\x00\x86\x00A\x01\xc0\x00\x00\x00\x01\xc1\x00\x00\x9c@\x80\x01\x8b@A\x00\x05\x81\x01\x00\x06\xc1A\x02A\xc1\x00\x00\x81\xc1\x00\x00\xc1\xc1\x00\x00\x1c\x01\x00\x02\x9c@\x00\x00\x85\x00\x02\x00\x86@B\x01\xc0\x00\x00\x00\x00\x01\x80\x00\x9c@\x80\x01\x85\x80\x02\x00\x86\xc0B\x01\xc1\x00\x03\x00\x9c@\x00\x01\x81@\x03\x00\xc5\x80\x03\x00\xc6\xc0\xc3\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xcb\x00\xc4\x01\xdc\x80\x00\x01\x0b\x01D\x00\x1c\x81\x00\x01\xcd\x00\x81\x01\x0bAA\x00\x8bA\xc4\x01\x9c\x81\x00\x01\x8e\x81\x00\x03\x1cA\x80\x01\x05\x81\x02\x00\x06\xc1B\x02K\x81\xc4\x01\\\x81\x00\x01NA\x81\x89O\x81\x80\x02\x1cA\x00\x01\x1e\x00\x80\x00\x14\x00\x00\x00\x03\x00\x00\x00\x00\x00\x80]@\x04\x0e\x00\x00\x00PhysicsObject\x00\x04\x14\x00\x00\x00SetGravityMagnitude\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x15\x00\x00\x00SetDecelerationForce\x00\x04\x0c\x00\x00\x00setVelocity\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x00\x00\x00\x00\x00\x00\xe0?\x03\x00\x00\x00\x00\x000\x81@\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\t\x00\x00\x00position\x00\x04\x0b\x00\x00\x00normalized\x00\x04\x07\x00\x00\x00length\x00\x03\xcd\xcc\xcc\xcc\xcc\xcc\xec?\x00\x00\x00\x004\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x003\x00\x00\x00\x10\x00\x00\x00attackAnimation\x00\x02\x00\x00\x003\x00\x00\x00\x06\x00\x00\x00speed\x00\x1e\x00\x00\x003\x00\x00\x00\x06\x00\x00\x00delta\x00'\x00\x00\x003\x00\x00\x00\x00\x00\x00\x00",
                }
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -20.0,
            Y : -7.7837300300598145,
            Width : 40.0,
            Height : 42.783729553222656,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'Stag Beetle',
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 1,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 2,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Beetle',
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'kilpikonna_red',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.6000000238418579,
                    G : 0.20000000298023224,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 102,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 103,
                AnimationControllerId : 104,
                DefaultMoveAnimationId : 105,
                RoamAreaId : 0,
                DefaultMoveSpeed : 0.0,
                DefaultAcceleration : 3000.0,
                TargetingDistance : 1000.0,
                MovementBehavior : 3,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 103,
            EntityComponent{ # EntityComponent
                FacingDirection : 18446744073709551615,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                    String : $
SoundLibrary.PlayEffect("insect_die2");
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00(\x00\x00\x00SoundLibrary.PlayEffect("insect_die2");\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x02\x05\x00\x00\x00\x05\x00\x00\x00\x06@@\x00A\x80\x00\x00\x1c@\x00\x01\x1e\x00\x80\x00\x03\x00\x00\x00\x04\r\x00\x00\x00SoundLibrary\x00\x04\x0b\x00\x00\x00PlayEffect\x00\x04\x0c\x00\x00\x00insect_die2\x00\x00\x00\x00\x00\x05\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00',
                }
                OnHurt{ # Program
                    String : $
local self =...;
local var = 0;
local incr = 0.3;
while ( var < 1.5) do
    if EntityController.IsIdle(self) then 
        EntityController.PerformAction(self, 135);
    end
    Program.Wait(incr);
    var = var + incr;
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xd7\x00\x00\x00local self =...;\r\nlocal var = 0;\r\nlocal incr = 0.3;\r\nwhile ( var < 1.5) do\r\n\tif EntityController.IsIdle(self) then \r\n\t\tEntityController.PerformAction(self, 135);\r\n\tend\r\n\tProgram.Wait(incr);\r\n\tvar = var + incr;\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x06\x17\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\x18\x80\xc0\x00\x16\x00\x04\x80\xc5\xc0\x00\x00\xc6\x00\xc1\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xda\x00\x00\x00\x16\x00\x01\x80\xc5\xc0\x00\x00\xc6@\xc1\x01\x00\x01\x00\x00A\x81\x01\x00\xdc@\x80\x01\xc5\xc0\x01\x00\xc6\x00\xc2\x01\x00\x01\x00\x01\xdc@\x00\x01L\x80\x80\x00\x16\x00\xfb\x7f\x1e\x00\x80\x00\t\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03333333\xd3?\x03\x00\x00\x00\x00\x00\x00\xf8?\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\xe0`@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x00\x00\x00\x00\x17\x00\x00\x00\x01\x00\x00\x00\x02\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x16\x00\x00\x00\x04\x00\x00\x00var\x00\x02\x00\x00\x00\x16\x00\x00\x00\x05\x00\x00\x00incr\x00\x03\x00\x00\x00\x16\x00\x00\x00\x00\x00\x00\x00',
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 104,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 105,
            Label : 'stand',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'kilpikonna_stand',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 106,
            Label : 'shoot',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'kilpikonna_shoot',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 107,
            Label : 'hide',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'kilpikonna_hide',
                Repeating : 0,
                SpeedMultiplier : 1.7000000476837158,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 108,
            Label : 'unhide',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'kilpikonna_unhide',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 109,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -30.0,
                    Y : -23.0,
                    Width : 60.0,
                    Height : 53.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 111,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -35.0,
                    Y : -30.0,
                    Width : 70.0,
                    Height : 65.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                MinDepth : -15.0,
                MaxDepth : 15.0,
                SpecialType : 5,
                Enabled : 0,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 115,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -35.0,
                    Y : -30.0,
                    Width : 35.0,
                    Height : 77.41497802734375,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                MinDepth : -15.0,
                MaxDepth : 15.0,
                SpecialType : 5,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 120,
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local shootAnimation = 106;

KeyframeAnimation.SetCurrentTime(self, shootAnimation, 0.0);
AnimationController.BlendToAnimation(self, shootAnimation);

Program.Wait(KeyframeAnimation.TimeToFrame(self, shootAnimation, 18));

local projectile = Scene.CreateObject("snart_projectile", "projectile", self);

local direction = EntityController.FacingDirection(self);

projectile:setPosition(self:position() + Vector3.New(direction * 45, 0, 0));
projectile:setVelocity(Vector3.New(direction * 350, 0,0));
--SoundLibrary.PlayEffect("plop2");

Program.Wait(KeyframeAnimation.TimeToCompletion(self, shootAnimation));

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x85\x02\x00\x00local self = ...;\r\n\r\nlocal shootAnimation = 106;\r\n\r\nKeyframeAnimation.SetCurrentTime(self, shootAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, shootAnimation);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, shootAnimation, 18));\r\n\r\nlocal projectile = Scene.CreateObject("snart_projectile", "projectile", self);\r\n\r\nlocal direction = EntityController.FacingDirection(self);\r\n\r\nprojectile:setPosition(self:position() + Vector3.New(direction * 45, 0, 0));\r\nprojectile:setVelocity(Vector3.New(direction * 350, 0,0));\r\n--SoundLibrary.PlayEffect("plop2");\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, shootAnimation));\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x0b<\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x85@\x00\x00\x86\x80@\x01\xc0\x00\x00\x00\x00\x01\x80\x00A\xc1\x00\x00\x9c@\x00\x02\x85\x00\x01\x00\x86@A\x01\xc0\x00\x00\x00\x00\x01\x80\x00\x9c@\x80\x01\x85\x80\x01\x00\x86\xc0A\x01\xc5@\x00\x00\xc6\x00\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\x81A\x02\x00\xdc\x00\x00\x02\x9c@\x00\x00\x85\x80\x02\x00\x86\xc0B\x01\xc1\x00\x03\x00\x01A\x03\x00@\x01\x00\x00\x9c\x80\x00\x02\xc5\x80\x03\x00\xc6\xc0\xc3\x01\x00\x01\x00\x00\xdc\x80\x00\x01\x0b\x01D\x01\x8bAD\x00\x9c\x81\x00\x01\xc5\x81\x04\x00\xc6\xc1\xc4\x03\x0e\x02\xc5\x01A\xc2\x00\x00\x81\xc2\x00\x00\xdc\x81\x00\x02\x8c\xc1\x01\x03\x1cA\x80\x01\x0bAE\x01\x85\x81\x04\x00\x86\xc1D\x03\xce\x81\xc5\x01\x01\xc2\x00\x00A\xc2\x00\x00\x9c\x01\x00\x02\x1cA\x00\x00\x05\x81\x01\x00\x06\xc1A\x02EA\x00\x00F\xc1\xc5\x02\x80\x01\x00\x00\xc0\x01\x80\x00\\\x01\x80\x01\x1cA\x00\x00\x1e\x00\x80\x00\x18\x00\x00\x00\x03\x00\x00\x00\x00\x00\x80Z@\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x002@\x04\x06\x00\x00\x00Scene\x00\x04\r\x00\x00\x00CreateObject\x00\x04\x11\x00\x00\x00snart_projectile\x00\x04\x0b\x00\x00\x00projectile\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x10\x00\x00\x00FacingDirection\x00\x04\x0c\x00\x00\x00setPosition\x00\x04\t\x00\x00\x00position\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\x80F@\x04\x0c\x00\x00\x00setVelocity\x00\x03\x00\x00\x00\x00\x00\xe0u@\x04\x11\x00\x00\x00TimeToCompletion\x00\x00\x00\x00\x00<\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00;\x00\x00\x00\x0f\x00\x00\x00shootAnimation\x00\x02\x00\x00\x00;\x00\x00\x00\x0b\x00\x00\x00projectile\x00\x1c\x00\x00\x00;\x00\x00\x00\n\x00\x00\x00direction\x00 \x00\x00\x00;\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 125,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;

local timeToAttack = 0;
local updateInterval = 0.3;

while true do 
    Program.Wait(updateInterval);

    timeToAttack = timeToAttack - updateInterval;

    if EntityController.IsIdle(self) then 
        if timeToAttack < 0.0 then
            timeToAttack = 2.0;
            EntityController.PerformAction(self, 120);
        end
    end
end

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00R\x01\x00\x00local self = ...;\r\n\r\nlocal timeToAttack = 0;\r\nlocal updateInterval = 0.3;\r\n\r\nwhile true do \r\n\tProgram.Wait(updateInterval);\r\n\r\n\ttimeToAttack = timeToAttack - updateInterval;\r\n\r\n\tif EntityController.IsIdle(self) then \r\n\t\tif timeToAttack < 0.0 then\r\n\t\t\ttimeToAttack = 2.0;\r\n\t\t\tEntityController.PerformAction(self, 120);\r\n\t\tend\r\n\tend\r\nend\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x06\x18\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x00\x01\x00\x01\xdc@\x00\x01M\x80\x80\x00\xc5\x00\x01\x00\xc6@\xc1\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xda\x00\x00\x00\x16\x00\xfd\x7f\x18\x00\xc0\x00\x16\x80\xfc\x7fA\x80\x01\x00\xc5\x00\x01\x00\xc6\xc0\xc1\x01\x00\x01\x00\x00A\x01\x02\x00\xdc@\x80\x01\x16\xc0\xfa\x7f\x1e\x00\x80\x00\t\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03333333\xd3?\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00IsIdle\x00\x03\x00\x00\x00\x00\x00\x00\x00@\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x00^@\x00\x00\x00\x00\x18\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x17\x00\x00\x00\r\x00\x00\x00timeToAttack\x00\x02\x00\x00\x00\x17\x00\x00\x00\x0f\x00\x00\x00updateInterval\x00\x03\x00\x00\x00\x17\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 130,
            HealthComponent{ # HealthComponent
                MaxHealth : 2,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 135,
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local hideAnimation = 107;
local unhideAnimation = 108;

Program.Wait(0.5);

KeyframeAnimation.SetCurrentTime(self, hideAnimation, 0.0);
AnimationController.BlendToAnimation(self, hideAnimation);

Program.Wait(KeyframeAnimation.TimeToFrame(self, hideAnimation, 15));

CollisionShape.SetEnabled(self, 111, true);

Program.Wait(KeyframeAnimation.TimeToFrame(self, hideAnimation, 23));

KeyframeAnimation.SetRunning(self, hideAnimation, false);

Program.Wait(3);

KeyframeAnimation.SetRunning(self, hideAnimation, true);

AnimationController.BlendToAnimation(self, unhideAnimation);

Program.Wait(KeyframeAnimation.TimeToFrame(self, unhideanimation, 23));

CollisionShape.SetEnabled(self, 111, false);

Program.Wait(KeyframeAnimation.TimeToCompletion(self, unhideAnimation));


$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x008\x03\x00\x00local self = ...;\r\n\r\nlocal hideAnimation = 107;\r\nlocal unhideAnimation = 108;\r\n\r\nProgram.Wait(0.5);\r\n\r\nKeyframeAnimation.SetCurrentTime(self, hideAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, hideAnimation);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, hideAnimation, 15));\r\n\r\nCollisionShape.SetEnabled(self, 111, true);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, hideAnimation, 23));\r\n\r\nKeyframeAnimation.SetRunning(self, hideAnimation, false);\r\n\r\nProgram.Wait(3);\r\n\r\nKeyframeAnimation.SetRunning(self, hideAnimation, true);\r\n\r\nAnimationController.BlendToAnimation(self, unhideAnimation);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, unhideanimation, 23));\r\n\r\nCollisionShape.SetEnabled(self, 111, false);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, unhideAnimation));\r\n\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x08W\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x01\x01\x01\x00\xdc@\x00\x01\xc5@\x01\x00\xc6\x80\xc1\x01\x00\x01\x00\x00@\x01\x80\x00\x81\xc1\x01\x00\xdc@\x00\x02\xc5\x00\x02\x00\xc6@\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\xdc@\x80\x01\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x05A\x01\x00\x06\x81B\x02@\x01\x00\x00\x80\x01\x80\x00\xc1\xc1\x02\x00\x1c\x01\x00\x02\xdc@\x00\x00\xc5\x00\x03\x00\xc6@\xc3\x01\x00\x01\x00\x00A\x81\x03\x00\x82\x01\x80\x00\xdc@\x00\x02\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x05A\x01\x00\x06\x81B\x02@\x01\x00\x00\x80\x01\x80\x00\xc1\xc1\x03\x00\x1c\x01\x00\x02\xdc@\x00\x00\xc5@\x01\x00\xc6\x00\xc4\x01\x00\x01\x00\x00@\x01\x80\x00\x82\x01\x00\x00\xdc@\x00\x02\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x01A\x04\x00\xdc@\x00\x01\xc5@\x01\x00\xc6\x00\xc4\x01\x00\x01\x00\x00@\x01\x80\x00\x82\x01\x80\x00\xdc@\x00\x02\xc5\x00\x02\x00\xc6@\xc2\x01\x00\x01\x00\x00@\x01\x00\x01\xdc@\x80\x01\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x05A\x01\x00\x06\x81B\x02@\x01\x00\x00\x85\x81\x04\x00\xc1\xc1\x03\x00\x1c\x01\x00\x02\xdc@\x00\x00\xc5\x00\x03\x00\xc6@\xc3\x01\x00\x01\x00\x00A\x81\x03\x00\x82\x01\x00\x00\xdc@\x00\x02\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x05A\x01\x00\x06\xc1D\x02@\x01\x00\x00\x80\x01\x00\x01\x1c\x01\x80\x01\xdc@\x00\x00\x1e\x00\x80\x00\x14\x00\x00\x00\x03\x00\x00\x00\x00\x00\xc0Z@\x03\x00\x00\x00\x00\x00\x00[@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x00\x00\x00\x00\x00\x00\xe0?\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00.@\x04\x0f\x00\x00\x00CollisionShape\x00\x04\x0b\x00\x00\x00SetEnabled\x00\x03\x00\x00\x00\x00\x00\xc0[@\x03\x00\x00\x00\x00\x00\x007@\x04\x0b\x00\x00\x00SetRunning\x00\x03\x00\x00\x00\x00\x00\x00\x08@\x04\x10\x00\x00\x00unhideanimation\x00\x04\x11\x00\x00\x00TimeToCompletion\x00\x00\x00\x00\x00W\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00V\x00\x00\x00\x0e\x00\x00\x00hideAnimation\x00\x02\x00\x00\x00V\x00\x00\x00\x10\x00\x00\x00unhideAnimation\x00\x03\x00\x00\x00V\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -35.0,
            Y : -30.0,
            Width : 70.0,
            Height : 77.41497802734375,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'bat',
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 1,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Bat',
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'bat',
                YRotation : 0.0,
                EmissionFactor : 0.699999988079071,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'bat_fly',
                Repeating : 1,
                SpeedMultiplier : 2.5,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 105,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 107,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'BatMonsterController',
            Identifier : 109,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 100.0,
                AnimationControllerId : 105,
                EntityId : 107,
                RoamAreaId : 0,
            }
            BatMonsterControllerComponent{ # BatMonsterControllerComponent
                FlyAnimationId : 103,
                FlapSoundId : 0,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 111,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 113,
            HealthComponent{ # HealthComponent
                MaxHealth : 1,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 115,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -20.0,
                    Y : -7.7837300300598145,
                    Width : 40.0,
                    Height : 42.783729553222656,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -20.0,
            Y : -7.7837300300598145,
            Width : 40.0,
            Height : 42.783729553222656,
        }
        Hidden : 0,
    }
    Scaling : 0.699999988079071,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'bat_blue_strike',
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 1,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Imperial Bat',
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'bat_blue',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.699999988079071,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'bat_fly',
                Repeating : 1,
                SpeedMultiplier : 2.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 105,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 107,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 0,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 111,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 113,
            HealthComponent{ # HealthComponent
                MaxHealth : 1,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 115,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -20.0,
                    Y : -7.7837300300598145,
                    Width : 40.0,
                    Height : 42.783729553222656,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 118,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'bat_attack',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 119,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 107,
                AnimationControllerId : 105,
                DefaultMoveAnimationId : 103,
                RoamAreaId : 115,
                DefaultMoveSpeed : 100.0,
                DefaultAcceleration : 800.0,
                TargetingDistance : 350.0,
                MovementBehavior : 1,
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 122,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;

local function ShouldAttack()
    if EntityController.Target(self) == nil then 
        return false; 
    end

    return (EntityController.Target(self):position() - self:position()):length() < 400;
end

local targetPosition = self:position();

local timeSinceAttack = 3;

while true do
    Program.Wait(0.1);
    timeSinceAttack = timeSinceAttack + 0.1;

    if EntityController.IsIdle(self) then    

        if EntityController.Target(self) ~= nil then
            EntityController.SetFacingDirection(self, 
                DirectionToTargetFromPosition(EntityController.Target(self):position(), self:position()));
        end

        local delta = targetPosition - self:position();

        PhysicsObject.SetGravityDirection(self, delta:normalized());
        PhysicsObject.SetGravityMagnitude(self, 1);
        PhysicsObject.SetDecelerationForce(self, 2);

        if timeSinceAttack > 5 and ShouldAttack() then
            timeSinceAttack = 0;
            EntityController.PerformAction(self, 128);
        end
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xc9\x03\x00\x00local self = ...;\r\n\r\nlocal function ShouldAttack()\r\n\tif EntityController.Target(self) == nil then \r\n\t\treturn false; \r\n\tend\r\n\r\n\treturn (EntityController.Target(self):position() - self:position()):length() < 400;\r\nend\r\n\r\nlocal targetPosition = self:position();\r\n\r\nlocal timeSinceAttack = 3;\r\n\r\nwhile true do\r\n\tProgram.Wait(0.1);\r\n\ttimeSinceAttack = timeSinceAttack + 0.1;\r\n\r\n\tif EntityController.IsIdle(self) then\t\r\n\r\n\t\tif EntityController.Target(self) ~= nil then\r\n\t\t\tEntityController.SetFacingDirection(self, \r\n\t\t\t\tDirectionToTargetFromPosition(EntityController.Target(self):position(), self:position()));\r\n\t\tend\r\n\r\n\t\tlocal delta = targetPosition - self:position();\r\n\r\n\t\tPhysicsObject.SetGravityDirection(self, delta:normalized());\r\n\t\tPhysicsObject.SetGravityMagnitude(self, 1);\r\n\t\tPhysicsObject.SetDecelerationForce(self, 2);\r\n\r\n\t\tif timeSinceAttack > 5 and ShouldAttack() then\r\n\t\t\ttimeSinceAttack = 0;\r\n\t\t\tEntityController.PerformAction(self, 128);\r\n\t\tend\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\nF\x00\x00\x00%\x00\x00\x01d\x00\x00\x00\x00\x00\x00\x00\x8b\x00@\x00\x9c\x80\x00\x01\xc1@\x00\x00\x05\x81\x00\x00\x06\xc1@\x02A\x01\x01\x00\x1cA\x00\x01\xcc\x00\xc1\x01\x05A\x01\x00\x06\x81A\x02@\x01\x00\x00\x1c\x81\x00\x01\x1a\x01\x00\x00\x16\x00\xfd\x7f\x05A\x01\x00\x06\xc1A\x02@\x01\x00\x00\x1c\x81\x00\x01W\x00B\x02\x16@\x03\x80\x05A\x01\x00\x06AB\x02@\x01\x00\x00\x85\x81\x02\x00\xc5A\x01\x00\xc6\xc1\xc1\x03\x00\x02\x00\x00\xdc\x81\x00\x01\xcb\x01\xc0\x03\xdc\x81\x00\x01\x0b\x02@\x00\x1c\x02\x00\x01\x9c\x01\x00\x00\x1cA\x00\x00\x0b\x01@\x00\x1c\x81\x00\x01\r\x01\x01\x01E\xc1\x02\x00F\x01\xc3\x02\x80\x01\x00\x00\xcbAC\x02\xdc\x01\x00\x01\\A\x00\x00E\xc1\x02\x00F\x81\xc3\x02\x80\x01\x00\x00\xc1\xc1\x03\x00\\A\x80\x01E\xc1\x02\x00F\x01\xc4\x02\x80\x01\x00\x00\xc1A\x04\x00\\A\x80\x01\x18\xc0\x00\x89\x16\xc0\xf2\x7f@\x01\x80\x00\\\x81\x80\x00Z\x01\x00\x00\x16\xc0\xf1\x7f\xc1\xc0\x04\x00EA\x01\x00F\x01\xc5\x02\x80\x01\x00\x00\xc1A\x05\x00\\A\x80\x01\x16\x00\xf0\x7f\x1e\x00\x80\x00\x16\x00\x00\x00\x04\t\x00\x00\x00position\x00\x03\x00\x00\x00\x00\x00\x00\x08@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00IsIdle\x00\x04\x07\x00\x00\x00Target\x00\x00\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\x1e\x00\x00\x00DirectionToTargetFromPosition\x00\x04\x0e\x00\x00\x00PhysicsObject\x00\x04\x14\x00\x00\x00SetGravityDirection\x00\x04\x0b\x00\x00\x00normalized\x00\x04\x14\x00\x00\x00SetGravityMagnitude\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\x15\x00\x00\x00SetDecelerationForce\x00\x03\x00\x00\x00\x00\x00\x00\x00@\x03\x00\x00\x00\x00\x00\x00\x14@\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x00`@\x01\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\t\x00\x00\x00\x01\x00\x00\x03\x1a\x00\x00\x00\x05\x00\x00\x00\x06@@\x00D\x00\x00\x00\x1c\x80\x00\x01\x17\x80@\x00\x16@\x00\x80\x02\x00\x00\x00\x1e\x00\x00\x01\x05\x00\x00\x00\x06@@\x00D\x00\x00\x00\x1c\x80\x00\x01\x0b\xc0@\x00\x1c\x80\x00\x01D\x00\x00\x00K\xc0\xc0\x00\\\x80\x00\x01\r@\x00\x00\x0b\x00A\x00\x1c\x80\x00\x01X@A\x00\x16\x00\x00\x80\x02@\x00\x00\x02\x00\x80\x00\x1e\x00\x00\x01\x1e\x00\x80\x00\x06\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x00\x04\t\x00\x00\x00position\x00\x04\x07\x00\x00\x00length\x00\x03\x00\x00\x00\x00\x00\x00y@\x00\x00\x00\x00\x1a\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x05\x00\x00\x00self\x00F\x00\x00\x00\x01\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x16\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00!\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00$\x00\x00\x00%\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00E\x00\x00\x00\r\x00\x00\x00ShouldAttack\x00\x03\x00\x00\x00E\x00\x00\x00\x0f\x00\x00\x00targetPosition\x00\x05\x00\x00\x00E\x00\x00\x00\x10\x00\x00\x00timeSinceAttack\x00\x06\x00\x00\x00E\x00\x00\x00\x06\x00\x00\x00delta\x00(\x00\x00\x00D\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'PhysicsObject',
            Identifier : 125,
            PhysicsObjectComponent{ # PhysicsObjectComponent
                PhysicsEnabled : 1,
                GroundDeceleration : 1500.0,
                AirDeceleration : 0.0,
                MaxSpeed : 700.0,
                AllowRotation : 0,
                Elasticity : 0.0,
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 128,
            Label : 'attack',
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local attackAnimation = 118;

PhysicsObject.SetGravityMagnitude(self, 0);
PhysicsObject.SetDecelerationForce(self, 0);

self:setVelocity(Vector3.New(0, 0, 0));
AnimationController.BlendToAnimation(self, attackAnimation);

Program.Wait(0.5);

local speed = 550;

local delta = (EntityController.Target(self):position() - self:position());
self:setVelocity(delta:normalized() * speed);

Program.Wait(0.9 * delta:length() / speed);

$end
                    Bytes : "\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xd3\x01\x00\x00local self = ...;\r\n\r\nlocal attackAnimation = 118;\r\n\r\nPhysicsObject.SetGravityMagnitude(self, 0);\r\nPhysicsObject.SetDecelerationForce(self, 0);\r\n\r\nself:setVelocity(Vector3.New(0, 0, 0));\r\nAnimationController.BlendToAnimation(self, attackAnimation);\r\n\r\nProgram.Wait(0.5);\r\n\r\nlocal speed = 550;\r\n\r\nlocal delta = (EntityController.Target(self):position() - self:position());\r\nself:setVelocity(delta:normalized() * speed);\r\n\r\nProgram.Wait(0.9 * delta:length() / speed);\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x084\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x85@\x00\x00\x86\x80@\x01\xc0\x00\x00\x00\x01\xc1\x00\x00\x9c@\x80\x01\x85@\x00\x00\x86\x00A\x01\xc0\x00\x00\x00\x01\xc1\x00\x00\x9c@\x80\x01\x8b@A\x00\x05\x81\x01\x00\x06\xc1A\x02A\xc1\x00\x00\x81\xc1\x00\x00\xc1\xc1\x00\x00\x1c\x01\x00\x02\x9c@\x00\x00\x85\x00\x02\x00\x86@B\x01\xc0\x00\x00\x00\x00\x01\x80\x00\x9c@\x80\x01\x85\x80\x02\x00\x86\xc0B\x01\xc1\x00\x03\x00\x9c@\x00\x01\x81@\x03\x00\xc5\x80\x03\x00\xc6\xc0\xc3\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xcb\x00\xc4\x01\xdc\x80\x00\x01\x0b\x01D\x00\x1c\x81\x00\x01\xcd\x00\x81\x01\x0bAA\x00\x8bA\xc4\x01\x9c\x81\x00\x01\x8e\x81\x00\x03\x1cA\x80\x01\x05\x81\x02\x00\x06\xc1B\x02K\x81\xc4\x01\\\x81\x00\x01NA\x81\x89O\x81\x80\x02\x1cA\x00\x01\x1e\x00\x80\x00\x14\x00\x00\x00\x03\x00\x00\x00\x00\x00\x80]@\x04\x0e\x00\x00\x00PhysicsObject\x00\x04\x14\x00\x00\x00SetGravityMagnitude\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x15\x00\x00\x00SetDecelerationForce\x00\x04\x0c\x00\x00\x00setVelocity\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x00\x00\x00\x00\x00\x00\xe0?\x03\x00\x00\x00\x00\x000\x81@\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\t\x00\x00\x00position\x00\x04\x0b\x00\x00\x00normalized\x00\x04\x07\x00\x00\x00length\x00\x03\xcd\xcc\xcc\xcc\xcc\xcc\xec?\x00\x00\x00\x004\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x003\x00\x00\x00\x10\x00\x00\x00attackAnimation\x00\x02\x00\x00\x003\x00\x00\x00\x06\x00\x00\x00speed\x00\x1e\x00\x00\x003\x00\x00\x00\x06\x00\x00\x00delta\x00'\x00\x00\x003\x00\x00\x00\x00\x00\x00\x00",
                }
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -20.0,
            Y : -7.7837300300598145,
            Width : 40.0,
            Height : 42.783729553222656,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'bat_strike',
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 1,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Bat',
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'bat',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.699999988079071,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'bat_fly',
                Repeating : 1,
                SpeedMultiplier : 2.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 105,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 107,
            EntityComponent{ # EntityComponent
                FacingDirection : 18446744073709551615,
                PhysicsEnabled : 0,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 111,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 113,
            HealthComponent{ # HealthComponent
                MaxHealth : 1,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 115,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -20.0,
                    Y : -7.7837300300598145,
                    Width : 40.0,
                    Height : 42.783729553222656,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 118,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'bat_attack',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 119,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 107,
                AnimationControllerId : 105,
                DefaultMoveAnimationId : 103,
                RoamAreaId : 115,
                DefaultMoveSpeed : 100.0,
                DefaultAcceleration : 800.0,
                TargetingDistance : 350.0,
                MovementBehavior : 1,
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 122,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;

local function ShouldAttack()
    if EntityController.Target(self) == nil then 
        return false; 
    end

    return (EntityController.Target(self):position() - self:position()):length() < 400;
end

local targetPosition = self:position();

local timeSinceAttack = 3;

while true do
    Program.Wait(0.1);
    timeSinceAttack = timeSinceAttack + 0.1;

    if EntityController.IsIdle(self) then    

        if EntityController.Target(self) ~= nil then
            EntityController.SetFacingDirection(self, 
                DirectionToTargetFromPosition(EntityController.Target(self):position(), self:position()));
        end

        local delta = targetPosition - self:position();

        PhysicsObject.SetGravityDirection(self, delta:normalized());
        PhysicsObject.SetGravityMagnitude(self, 1);
        PhysicsObject.SetDecelerationForce(self, 2);

        if timeSinceAttack > 5 and ShouldAttack() then
            timeSinceAttack = 0;
            EntityController.PerformAction(self, 128);
        end
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xc9\x03\x00\x00local self = ...;\r\n\r\nlocal function ShouldAttack()\r\n\tif EntityController.Target(self) == nil then \r\n\t\treturn false; \r\n\tend\r\n\r\n\treturn (EntityController.Target(self):position() - self:position()):length() < 400;\r\nend\r\n\r\nlocal targetPosition = self:position();\r\n\r\nlocal timeSinceAttack = 3;\r\n\r\nwhile true do\r\n\tProgram.Wait(0.1);\r\n\ttimeSinceAttack = timeSinceAttack + 0.1;\r\n\r\n\tif EntityController.IsIdle(self) then\t\r\n\r\n\t\tif EntityController.Target(self) ~= nil then\r\n\t\t\tEntityController.SetFacingDirection(self, \r\n\t\t\t\tDirectionToTargetFromPosition(EntityController.Target(self):position(), self:position()));\r\n\t\tend\r\n\r\n\t\tlocal delta = targetPosition - self:position();\r\n\r\n\t\tPhysicsObject.SetGravityDirection(self, delta:normalized());\r\n\t\tPhysicsObject.SetGravityMagnitude(self, 1);\r\n\t\tPhysicsObject.SetDecelerationForce(self, 2);\r\n\r\n\t\tif timeSinceAttack > 5 and ShouldAttack() then\r\n\t\t\ttimeSinceAttack = 0;\r\n\t\t\tEntityController.PerformAction(self, 128);\r\n\t\tend\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\nF\x00\x00\x00%\x00\x00\x01d\x00\x00\x00\x00\x00\x00\x00\x8b\x00@\x00\x9c\x80\x00\x01\xc1@\x00\x00\x05\x81\x00\x00\x06\xc1@\x02A\x01\x01\x00\x1cA\x00\x01\xcc\x00\xc1\x01\x05A\x01\x00\x06\x81A\x02@\x01\x00\x00\x1c\x81\x00\x01\x1a\x01\x00\x00\x16\x00\xfd\x7f\x05A\x01\x00\x06\xc1A\x02@\x01\x00\x00\x1c\x81\x00\x01W\x00B\x02\x16@\x03\x80\x05A\x01\x00\x06AB\x02@\x01\x00\x00\x85\x81\x02\x00\xc5A\x01\x00\xc6\xc1\xc1\x03\x00\x02\x00\x00\xdc\x81\x00\x01\xcb\x01\xc0\x03\xdc\x81\x00\x01\x0b\x02@\x00\x1c\x02\x00\x01\x9c\x01\x00\x00\x1cA\x00\x00\x0b\x01@\x00\x1c\x81\x00\x01\r\x01\x01\x01E\xc1\x02\x00F\x01\xc3\x02\x80\x01\x00\x00\xcbAC\x02\xdc\x01\x00\x01\\A\x00\x00E\xc1\x02\x00F\x81\xc3\x02\x80\x01\x00\x00\xc1\xc1\x03\x00\\A\x80\x01E\xc1\x02\x00F\x01\xc4\x02\x80\x01\x00\x00\xc1A\x04\x00\\A\x80\x01\x18\xc0\x00\x89\x16\xc0\xf2\x7f@\x01\x80\x00\\\x81\x80\x00Z\x01\x00\x00\x16\xc0\xf1\x7f\xc1\xc0\x04\x00EA\x01\x00F\x01\xc5\x02\x80\x01\x00\x00\xc1A\x05\x00\\A\x80\x01\x16\x00\xf0\x7f\x1e\x00\x80\x00\x16\x00\x00\x00\x04\t\x00\x00\x00position\x00\x03\x00\x00\x00\x00\x00\x00\x08@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00IsIdle\x00\x04\x07\x00\x00\x00Target\x00\x00\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\x1e\x00\x00\x00DirectionToTargetFromPosition\x00\x04\x0e\x00\x00\x00PhysicsObject\x00\x04\x14\x00\x00\x00SetGravityDirection\x00\x04\x0b\x00\x00\x00normalized\x00\x04\x14\x00\x00\x00SetGravityMagnitude\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\x15\x00\x00\x00SetDecelerationForce\x00\x03\x00\x00\x00\x00\x00\x00\x00@\x03\x00\x00\x00\x00\x00\x00\x14@\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x00`@\x01\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\t\x00\x00\x00\x01\x00\x00\x03\x1a\x00\x00\x00\x05\x00\x00\x00\x06@@\x00D\x00\x00\x00\x1c\x80\x00\x01\x17\x80@\x00\x16@\x00\x80\x02\x00\x00\x00\x1e\x00\x00\x01\x05\x00\x00\x00\x06@@\x00D\x00\x00\x00\x1c\x80\x00\x01\x0b\xc0@\x00\x1c\x80\x00\x01D\x00\x00\x00K\xc0\xc0\x00\\\x80\x00\x01\r@\x00\x00\x0b\x00A\x00\x1c\x80\x00\x01X@A\x00\x16\x00\x00\x80\x02@\x00\x00\x02\x00\x80\x00\x1e\x00\x00\x01\x1e\x00\x80\x00\x06\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x00\x04\t\x00\x00\x00position\x00\x04\x07\x00\x00\x00length\x00\x03\x00\x00\x00\x00\x00\x00y@\x00\x00\x00\x00\x1a\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x05\x00\x00\x00self\x00F\x00\x00\x00\x01\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x16\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00!\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00$\x00\x00\x00%\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00E\x00\x00\x00\r\x00\x00\x00ShouldAttack\x00\x03\x00\x00\x00E\x00\x00\x00\x0f\x00\x00\x00targetPosition\x00\x05\x00\x00\x00E\x00\x00\x00\x10\x00\x00\x00timeSinceAttack\x00\x06\x00\x00\x00E\x00\x00\x00\x06\x00\x00\x00delta\x00(\x00\x00\x00D\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'PhysicsObject',
            Identifier : 125,
            PhysicsObjectComponent{ # PhysicsObjectComponent
                PhysicsEnabled : 1,
                GroundDeceleration : 1500.0,
                AirDeceleration : 0.0,
                MaxSpeed : 700.0,
                AllowRotation : 0,
                Elasticity : 0.0,
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 128,
            Label : 'attack',
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local attackAnimation = 118;

PhysicsObject.SetGravityMagnitude(self, 0);
PhysicsObject.SetDecelerationForce(self, 0);

self:setVelocity(Vector3.New(0, 0, 0));
AnimationController.BlendToAnimation(self, attackAnimation);

Program.Wait(0.5);

local speed = 550;

local delta = (EntityController.Target(self):position() - self:position());
self:setVelocity(delta:normalized() * speed);

Program.Wait(0.9 * delta:length() / speed);

$end
                    Bytes : "\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xd3\x01\x00\x00local self = ...;\r\n\r\nlocal attackAnimation = 118;\r\n\r\nPhysicsObject.SetGravityMagnitude(self, 0);\r\nPhysicsObject.SetDecelerationForce(self, 0);\r\n\r\nself:setVelocity(Vector3.New(0, 0, 0));\r\nAnimationController.BlendToAnimation(self, attackAnimation);\r\n\r\nProgram.Wait(0.5);\r\n\r\nlocal speed = 550;\r\n\r\nlocal delta = (EntityController.Target(self):position() - self:position());\r\nself:setVelocity(delta:normalized() * speed);\r\n\r\nProgram.Wait(0.9 * delta:length() / speed);\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x084\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x85@\x00\x00\x86\x80@\x01\xc0\x00\x00\x00\x01\xc1\x00\x00\x9c@\x80\x01\x85@\x00\x00\x86\x00A\x01\xc0\x00\x00\x00\x01\xc1\x00\x00\x9c@\x80\x01\x8b@A\x00\x05\x81\x01\x00\x06\xc1A\x02A\xc1\x00\x00\x81\xc1\x00\x00\xc1\xc1\x00\x00\x1c\x01\x00\x02\x9c@\x00\x00\x85\x00\x02\x00\x86@B\x01\xc0\x00\x00\x00\x00\x01\x80\x00\x9c@\x80\x01\x85\x80\x02\x00\x86\xc0B\x01\xc1\x00\x03\x00\x9c@\x00\x01\x81@\x03\x00\xc5\x80\x03\x00\xc6\xc0\xc3\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xcb\x00\xc4\x01\xdc\x80\x00\x01\x0b\x01D\x00\x1c\x81\x00\x01\xcd\x00\x81\x01\x0bAA\x00\x8bA\xc4\x01\x9c\x81\x00\x01\x8e\x81\x00\x03\x1cA\x80\x01\x05\x81\x02\x00\x06\xc1B\x02K\x81\xc4\x01\\\x81\x00\x01NA\x81\x89O\x81\x80\x02\x1cA\x00\x01\x1e\x00\x80\x00\x14\x00\x00\x00\x03\x00\x00\x00\x00\x00\x80]@\x04\x0e\x00\x00\x00PhysicsObject\x00\x04\x14\x00\x00\x00SetGravityMagnitude\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x15\x00\x00\x00SetDecelerationForce\x00\x04\x0c\x00\x00\x00setVelocity\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x00\x00\x00\x00\x00\x00\xe0?\x03\x00\x00\x00\x00\x000\x81@\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\t\x00\x00\x00position\x00\x04\x0b\x00\x00\x00normalized\x00\x04\x07\x00\x00\x00length\x00\x03\xcd\xcc\xcc\xcc\xcc\xcc\xec?\x00\x00\x00\x004\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x003\x00\x00\x00\x10\x00\x00\x00attackAnimation\x00\x02\x00\x00\x003\x00\x00\x00\x06\x00\x00\x00speed\x00\x1e\x00\x00\x003\x00\x00\x00\x06\x00\x00\x00delta\x00'\x00\x00\x003\x00\x00\x00\x00\x00\x00\x00",
                }
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -20.0,
            Y : -7.7837300300598145,
            Width : 40.0,
            Height : 42.783729553222656,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'beetle_wasteland',
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 1,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Fel Beetle',
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 2,
            DamageComponent{ # DamageComponent
                MinDamage : 2,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'kilpikonna_wasteland',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.30000001192092896,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 102,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 103,
                AnimationControllerId : 104,
                DefaultMoveAnimationId : 105,
                RoamAreaId : 0,
                DefaultMoveSpeed : 0.0,
                DefaultAcceleration : 5000.0,
                TargetingDistance : 1000.0,
                MovementBehavior : 3,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 103,
            EntityComponent{ # EntityComponent
                FacingDirection : 18446744073709551615,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                    String : $
SoundLibrary.PlayEffect("insect_die2");
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00(\x00\x00\x00SoundLibrary.PlayEffect("insect_die2");\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x02\x05\x00\x00\x00\x05\x00\x00\x00\x06@@\x00A\x80\x00\x00\x1c@\x00\x01\x1e\x00\x80\x00\x03\x00\x00\x00\x04\r\x00\x00\x00SoundLibrary\x00\x04\x0b\x00\x00\x00PlayEffect\x00\x04\x0c\x00\x00\x00insect_die2\x00\x00\x00\x00\x00\x05\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00',
                }
                OnHurt{ # Program
                    String : $
local self =...;
local var = 0;
local incr = 0.3;
while ( var < 1.5) do
    if EntityController.IsIdle(self) then 
        EntityController.PerformAction(self, 135);
    end
    Program.Wait(incr);
    var = var + incr;
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xd7\x00\x00\x00local self =...;\r\nlocal var = 0;\r\nlocal incr = 0.3;\r\nwhile ( var < 1.5) do\r\n\tif EntityController.IsIdle(self) then \r\n\t\tEntityController.PerformAction(self, 135);\r\n\tend\r\n\tProgram.Wait(incr);\r\n\tvar = var + incr;\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x06\x17\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\x18\x80\xc0\x00\x16\x00\x04\x80\xc5\xc0\x00\x00\xc6\x00\xc1\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xda\x00\x00\x00\x16\x00\x01\x80\xc5\xc0\x00\x00\xc6@\xc1\x01\x00\x01\x00\x00A\x81\x01\x00\xdc@\x80\x01\xc5\xc0\x01\x00\xc6\x00\xc2\x01\x00\x01\x00\x01\xdc@\x00\x01L\x80\x80\x00\x16\x00\xfb\x7f\x1e\x00\x80\x00\t\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03333333\xd3?\x03\x00\x00\x00\x00\x00\x00\xf8?\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\xe0`@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x00\x00\x00\x00\x17\x00\x00\x00\x01\x00\x00\x00\x02\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x16\x00\x00\x00\x04\x00\x00\x00var\x00\x02\x00\x00\x00\x16\x00\x00\x00\x05\x00\x00\x00incr\x00\x03\x00\x00\x00\x16\x00\x00\x00\x00\x00\x00\x00',
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 104,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 105,
            Label : 'stand',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'kilpikonna_stand',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 106,
            Label : 'shoot',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'kilpikonna_shoot',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 107,
            Label : 'hide',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'kilpikonna_hide',
                Repeating : 0,
                SpeedMultiplier : 1.7000000476837158,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 108,
            Label : 'unhide',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'kilpikonna_unhide',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 109,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -30.0,
                    Y : -23.0,
                    Width : 60.0,
                    Height : 53.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 111,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -35.0,
                    Y : -30.0,
                    Width : 70.0,
                    Height : 65.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                MinDepth : -15.0,
                MaxDepth : 15.0,
                SpecialType : 5,
                Enabled : 0,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 115,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -35.0,
                    Y : -30.0,
                    Width : 35.0,
                    Height : 77.41497802734375,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                MinDepth : -15.0,
                MaxDepth : 15.0,
                SpecialType : 5,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 120,
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local shootAnimation = 106;

KeyframeAnimation.SetCurrentTime(self, shootAnimation, 0.0);
AnimationController.BlendToAnimation(self, shootAnimation);

Program.Wait(KeyframeAnimation.TimeToFrame(self, shootAnimation, 18));

local projectile = Scene.CreateObject("snart_projectile", "projectile", self);

local direction = EntityController.FacingDirection(self);

projectile:setPosition(self:position() + Vector3.New(direction * 45, 0, 0));
projectile:setVelocity(Vector3.New(direction * 400, 0,0));
--SoundLibrary.PlayEffect("plop2");

Program.Wait(KeyframeAnimation.TimeToCompletion(self, shootAnimation));

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x85\x02\x00\x00local self = ...;\r\n\r\nlocal shootAnimation = 106;\r\n\r\nKeyframeAnimation.SetCurrentTime(self, shootAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, shootAnimation);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, shootAnimation, 18));\r\n\r\nlocal projectile = Scene.CreateObject("snart_projectile", "projectile", self);\r\n\r\nlocal direction = EntityController.FacingDirection(self);\r\n\r\nprojectile:setPosition(self:position() + Vector3.New(direction * 45, 0, 0));\r\nprojectile:setVelocity(Vector3.New(direction * 400, 0,0));\r\n--SoundLibrary.PlayEffect("plop2");\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, shootAnimation));\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x0b<\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x85@\x00\x00\x86\x80@\x01\xc0\x00\x00\x00\x00\x01\x80\x00A\xc1\x00\x00\x9c@\x00\x02\x85\x00\x01\x00\x86@A\x01\xc0\x00\x00\x00\x00\x01\x80\x00\x9c@\x80\x01\x85\x80\x01\x00\x86\xc0A\x01\xc5@\x00\x00\xc6\x00\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\x81A\x02\x00\xdc\x00\x00\x02\x9c@\x00\x00\x85\x80\x02\x00\x86\xc0B\x01\xc1\x00\x03\x00\x01A\x03\x00@\x01\x00\x00\x9c\x80\x00\x02\xc5\x80\x03\x00\xc6\xc0\xc3\x01\x00\x01\x00\x00\xdc\x80\x00\x01\x0b\x01D\x01\x8bAD\x00\x9c\x81\x00\x01\xc5\x81\x04\x00\xc6\xc1\xc4\x03\x0e\x02\xc5\x01A\xc2\x00\x00\x81\xc2\x00\x00\xdc\x81\x00\x02\x8c\xc1\x01\x03\x1cA\x80\x01\x0bAE\x01\x85\x81\x04\x00\x86\xc1D\x03\xce\x81\xc5\x01\x01\xc2\x00\x00A\xc2\x00\x00\x9c\x01\x00\x02\x1cA\x00\x00\x05\x81\x01\x00\x06\xc1A\x02EA\x00\x00F\xc1\xc5\x02\x80\x01\x00\x00\xc0\x01\x80\x00\\\x01\x80\x01\x1cA\x00\x00\x1e\x00\x80\x00\x18\x00\x00\x00\x03\x00\x00\x00\x00\x00\x80Z@\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x002@\x04\x06\x00\x00\x00Scene\x00\x04\r\x00\x00\x00CreateObject\x00\x04\x11\x00\x00\x00snart_projectile\x00\x04\x0b\x00\x00\x00projectile\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x10\x00\x00\x00FacingDirection\x00\x04\x0c\x00\x00\x00setPosition\x00\x04\t\x00\x00\x00position\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\x80F@\x04\x0c\x00\x00\x00setVelocity\x00\x03\x00\x00\x00\x00\x00\x00y@\x04\x11\x00\x00\x00TimeToCompletion\x00\x00\x00\x00\x00<\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00;\x00\x00\x00\x0f\x00\x00\x00shootAnimation\x00\x02\x00\x00\x00;\x00\x00\x00\x0b\x00\x00\x00projectile\x00\x1c\x00\x00\x00;\x00\x00\x00\n\x00\x00\x00direction\x00 \x00\x00\x00;\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 125,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;

local timeToAttack = 0;
local updateInterval = 0.3;

while true do 
    Program.Wait(updateInterval);

    timeToAttack = timeToAttack - updateInterval;

    if EntityController.IsIdle(self) then 
        if timeToAttack < 0.0 then
            timeToAttack = 1.5*Math.RandomFloat(1,1.3);
            EntityController.PerformAction(self, 120);
        end
    end
end

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00j\x01\x00\x00local self = ...;\r\n\r\nlocal timeToAttack = 0;\r\nlocal updateInterval = 0.3;\r\n\r\nwhile true do \r\n\tProgram.Wait(updateInterval);\r\n\r\n\ttimeToAttack = timeToAttack - updateInterval;\r\n\r\n\tif EntityController.IsIdle(self) then \r\n\t\tif timeToAttack < 0.0 then\r\n\t\t\ttimeToAttack = 1.5*Math.RandomFloat(1,1.3);\r\n\t\t\tEntityController.PerformAction(self, 120);\r\n\t\tend\r\n\tend\r\nend\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x06\x1d\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x00\x01\x00\x01\xdc@\x00\x01M\x80\x80\x00\xc5\x00\x01\x00\xc6@\xc1\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xda\x00\x00\x00\x16\x00\xfd\x7f\x18\x00\xc0\x00\x16\x80\xfc\x7f\xc5\x80\x01\x00\xc6\xc0\xc1\x01\x01\x01\x02\x00AA\x02\x00\xdc\x80\x80\x01N\xc0\x00\x85\xc5\x00\x01\x00\xc6\xc0\xc2\x01\x00\x01\x00\x00A\x01\x03\x00\xdc@\x80\x01\x16\x80\xf9\x7f\x1e\x00\x80\x00\r\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03333333\xd3?\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00IsIdle\x00\x04\x05\x00\x00\x00Math\x00\x04\x0c\x00\x00\x00RandomFloat\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x03\xcd\xcc\xcc\xcc\xcc\xcc\xf4?\x03\x00\x00\x00\x00\x00\x00\xf8?\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x00^@\x00\x00\x00\x00\x1d\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x1c\x00\x00\x00\r\x00\x00\x00timeToAttack\x00\x02\x00\x00\x00\x1c\x00\x00\x00\x0f\x00\x00\x00updateInterval\x00\x03\x00\x00\x00\x1c\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 130,
            HealthComponent{ # HealthComponent
                MaxHealth : 5,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 135,
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local hideAnimation = 107;
local unhideAnimation = 108;

Program.Wait(0.2);

KeyframeAnimation.SetCurrentTime(self, hideAnimation, 0.0);
AnimationController.BlendToAnimation(self, hideAnimation);

Program.Wait(KeyframeAnimation.TimeToFrame(self, hideAnimation, 15));

CollisionShape.SetEnabled(self, 111, true);

Program.Wait(KeyframeAnimation.TimeToFrame(self, hideAnimation, 23));

KeyframeAnimation.SetRunning(self, hideAnimation, false);

Program.Wait(3);

KeyframeAnimation.SetRunning(self, hideAnimation, true);

AnimationController.BlendToAnimation(self, unhideAnimation);

Program.Wait(KeyframeAnimation.TimeToFrame(self, unhideanimation, 23));

CollisionShape.SetEnabled(self, 111, false);

Program.Wait(KeyframeAnimation.TimeToCompletion(self, unhideAnimation));


$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x008\x03\x00\x00local self = ...;\r\n\r\nlocal hideAnimation = 107;\r\nlocal unhideAnimation = 108;\r\n\r\nProgram.Wait(0.2);\r\n\r\nKeyframeAnimation.SetCurrentTime(self, hideAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, hideAnimation);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, hideAnimation, 15));\r\n\r\nCollisionShape.SetEnabled(self, 111, true);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, hideAnimation, 23));\r\n\r\nKeyframeAnimation.SetRunning(self, hideAnimation, false);\r\n\r\nProgram.Wait(3);\r\n\r\nKeyframeAnimation.SetRunning(self, hideAnimation, true);\r\n\r\nAnimationController.BlendToAnimation(self, unhideAnimation);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, unhideanimation, 23));\r\n\r\nCollisionShape.SetEnabled(self, 111, false);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, unhideAnimation));\r\n\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x08W\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x01\x01\x01\x00\xdc@\x00\x01\xc5@\x01\x00\xc6\x80\xc1\x01\x00\x01\x00\x00@\x01\x80\x00\x81\xc1\x01\x00\xdc@\x00\x02\xc5\x00\x02\x00\xc6@\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\xdc@\x80\x01\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x05A\x01\x00\x06\x81B\x02@\x01\x00\x00\x80\x01\x80\x00\xc1\xc1\x02\x00\x1c\x01\x00\x02\xdc@\x00\x00\xc5\x00\x03\x00\xc6@\xc3\x01\x00\x01\x00\x00A\x81\x03\x00\x82\x01\x80\x00\xdc@\x00\x02\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x05A\x01\x00\x06\x81B\x02@\x01\x00\x00\x80\x01\x80\x00\xc1\xc1\x03\x00\x1c\x01\x00\x02\xdc@\x00\x00\xc5@\x01\x00\xc6\x00\xc4\x01\x00\x01\x00\x00@\x01\x80\x00\x82\x01\x00\x00\xdc@\x00\x02\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x01A\x04\x00\xdc@\x00\x01\xc5@\x01\x00\xc6\x00\xc4\x01\x00\x01\x00\x00@\x01\x80\x00\x82\x01\x80\x00\xdc@\x00\x02\xc5\x00\x02\x00\xc6@\xc2\x01\x00\x01\x00\x00@\x01\x00\x01\xdc@\x80\x01\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x05A\x01\x00\x06\x81B\x02@\x01\x00\x00\x85\x81\x04\x00\xc1\xc1\x03\x00\x1c\x01\x00\x02\xdc@\x00\x00\xc5\x00\x03\x00\xc6@\xc3\x01\x00\x01\x00\x00A\x81\x03\x00\x82\x01\x00\x00\xdc@\x00\x02\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x05A\x01\x00\x06\xc1D\x02@\x01\x00\x00\x80\x01\x00\x01\x1c\x01\x80\x01\xdc@\x00\x00\x1e\x00\x80\x00\x14\x00\x00\x00\x03\x00\x00\x00\x00\x00\xc0Z@\x03\x00\x00\x00\x00\x00\x00[@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00.@\x04\x0f\x00\x00\x00CollisionShape\x00\x04\x0b\x00\x00\x00SetEnabled\x00\x03\x00\x00\x00\x00\x00\xc0[@\x03\x00\x00\x00\x00\x00\x007@\x04\x0b\x00\x00\x00SetRunning\x00\x03\x00\x00\x00\x00\x00\x00\x08@\x04\x10\x00\x00\x00unhideanimation\x00\x04\x11\x00\x00\x00TimeToCompletion\x00\x00\x00\x00\x00W\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00V\x00\x00\x00\x0e\x00\x00\x00hideAnimation\x00\x02\x00\x00\x00V\x00\x00\x00\x10\x00\x00\x00unhideAnimation\x00\x03\x00\x00\x00V\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -35.0,
            Y : -30.0,
            Width : 70.0,
            Height : 77.41497802734375,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'bladeblob',
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 102,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'UtilityShape',
            Identifier : 103,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -250.0,
                    Y : 0.0,
                    Width : 500.0,
                    Height : 100.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 108,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -20.0,
                    Y : 0.0,
                    Width : 40.0,
                    Height : 65.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 110,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -75.0,
                    Y : 15.0,
                    Width : 150.0,
                    Height : 20.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 112,
            DamageComponent{ # DamageComponent
                MinDamage : 2,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 113,
            HealthComponent{ # HealthComponent
                MaxHealth : 2,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 114,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 115,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 115,
            ModelComponent{ # ModelComponent
                Name : 'bladeblob',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.5,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 120,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 115,
                Name : 'bladeblob_attack',
                Repeating : 1,
                SpeedMultiplier : 3.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 121,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 115,
                Name : 'bladeblob_move',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'ChargingMonsterController',
            Identifier : 126,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 100.0,
                AnimationControllerId : 114,
                EntityId : 102,
                RoamAreaId : 103,
            }
            ChargingMonsterControllerComponent{ # ChargingMonsterControllerComponent
                WalkAnimationId : 121,
                ChargeAnimationId : 127,
                RunAnimationId : 120,
                RunSpeed : 230.0,
                RunAcceleration : 300.0,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 127,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 115,
                Name : 'bladeblob_attack',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -75.0,
            Y : 0.0,
            Width : 150.0,
            Height : 65.0,
        }
        Hidden : 0,
    }
    Scaling : 0.800000011920929,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'carniplant',
        Component{ # Component
            ClassName : 'BoneControlledCollisionShape',
            Identifier : 1,
            ShapeComponent{ # ShapeComponent
                Circle{ # Circle
                    Center{ # Vector2
                        X : 40.0,
                        Y : 0.0,
                    }
                    Radius : 40.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
            BoneControlledCollisionShapeComponent{ # BoneControlledCollisionShapeComponent
                ControllingModelId : 101,
                ControllingBoneName : 'BoneHeadUp1',
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 2,
            DamageComponent{ # DamageComponent
                MinDamage : 2,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 3,
            HealthComponent{ # HealthComponent
                MaxHealth : 2,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'SoundEffect',
            Identifier : 4,
            SoundEffectComponent{ # SoundEffectComponent
                Name : 'carniplant_attack',
                Delay : 0.15000000596046448,
                Volume : 1.0,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 5,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 6,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 7,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Snapper',
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'carniplant',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            Label : 'stand',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'carniplant_stand',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 109,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -40.0,
                    Y : -0.4677349925041199,
                    Width : 40.0,
                    Height : 150.4677276611328,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 112,
            Label : 'attack',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'carniplant_attack',
                Repeating : 0,
                SpeedMultiplier : 0.699999988079071,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'BlendAnimation',
            Identifier : 115,
            BlendAnimationComponent{ # BlendAnimationComponent
                Animation1Id : 103,
                Animation2Id : 112,
                BlendTime : 0.10000000149011612,
                ReverseBlendTime : 0.4000000059604645,
            }
        }
        Component{ # Component
            ClassName : 'SnappingMonsterController',
            Identifier : 118,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 0.0,
                AnimationControllerId : 5,
                EntityId : 6,
                RoamAreaId : 0,
            }
            SnappingMonsterControllerComponent{ # SnappingMonsterControllerComponent
                StandAnimationId : 103,
                AttackAnimationId : 112,
                BlendAnimationId : 115,
                AttackAreaId : 121,
                AttackSoundId : 4,
            }
        }
        Component{ # Component
            ClassName : 'UtilityShape',
            Identifier : 121,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -50.0,
                    Y : -50.0,
                    Width : 400.0,
                    Height : 280.0,
                }
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -40.0,
            Y : -0.4677349925041199,
            Width : 40.0,
            Height : 150.4677276611328,
        }
        Hidden : 0,
    }
    Scaling : 0.699999988079071,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'cavelurker',
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 1,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Cave Lurker',
            }
        }
        Component{ # Component
            ClassName : 'SimpleGlow',
            Identifier : 2,
            SimpleGlowComponent{ # SimpleGlowComponent
                Color{ # FloatColor
                    R : 0.34444448351860046,
                    G : 0.016402145847678185,
                    B : 0.0,
                    A : 0.12222222238779068,
                }
                Size : 38.0,
                NumSegments : 10,
                Depth : 15.0,
                PulseAmount : 0.15000000596046448,
                PulseTime : 0.800000011920929,
                Offset{ # Vector2
                    X : 0.0,
                    Y : 20.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'cavelurker',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.4000000059604645,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 104,
            EntityComponent{ # EntityComponent
                FacingDirection : 18446744073709551615,
                PhysicsEnabled : 0,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                    String : $
SoundLibrary.PlayEffect("insect_die2");
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00(\x00\x00\x00SoundLibrary.PlayEffect("insect_die2");\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x02\x05\x00\x00\x00\x05\x00\x00\x00\x06@@\x00A\x80\x00\x00\x1c@\x00\x01\x1e\x00\x80\x00\x03\x00\x00\x00\x04\r\x00\x00\x00SoundLibrary\x00\x04\x0b\x00\x00\x00PlayEffect\x00\x04\x0c\x00\x00\x00insect_die2\x00\x00\x00\x00\x00\x05\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00',
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 107,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'UtilityShape',
            Identifier : 108,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -100.0,
                    Y : -50.0,
                    Width : 200.0,
                    Height : 150.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 110,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -20.0,
                    Y : -1.0,
                    Width : 40.0,
                    Height : 61.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 112,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 113,
            HealthComponent{ # HealthComponent
                MaxHealth : 2,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 118,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'cavelurker_walk',
                Repeating : 1,
                SpeedMultiplier : 1.2999999523162842,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 123,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 104,
                AnimationControllerId : 107,
                DefaultMoveAnimationId : 128,
                RoamAreaId : 108,
                DefaultMoveSpeed : 100.0,
                DefaultAcceleration : 800.0,
                TargetingDistance : 20000.0,
                MovementBehavior : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 128,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'cavelurker_stand',
                Repeating : 1,
                SpeedMultiplier : 0.30000001192092896,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 129,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;


$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x16\x00\x00\x00local self = ...;\r\n\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x02\x02\x00\x00\x00%\x00\x00\x01\x1e\x00\x80\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'TransformController',
            Identifier : 130,
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 136,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -50.0,
                    Y : 0.0,
                    Width : 100.0,
                    Height : 500.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                MinDepth : -15.0,
                MaxDepth : 15.0,
                OnCollide{ # Program
                    String : $
local self, target = ...;

if target:identifier() == "hero" then
    CollisionShape.SetEnabled(self, 136, false);
    Entity.SetPhysicsEnabled(self, true);
    EntityController.SetMoveAnimation(self, 118);
    EntityController.SetMovementBehavior(self, "follow");
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x07\x01\x00\x00local self, target = ...;\r\n\r\nif target:identifier() == "hero" then\r\n\tCollisionShape.SetEnabled(self, 136, false);\r\n\tEntity.SetPhysicsEnabled(self, true);\r\n\tEntityController.SetMoveAnimation(self, 118);\r\n\tEntityController.SetMovementBehavior(self, "follow");\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x06\x1b\x00\x00\x00%\x00\x80\x01\x8b\x00\xc0\x00\x9c\x80\x00\x01\x17@@\x01\x16\x00\x05\x80\x85\x80\x00\x00\x86\xc0@\x01\xc0\x00\x00\x00\x01\x01\x01\x00B\x01\x00\x00\x9c@\x00\x02\x85@\x01\x00\x86\x80A\x01\xc0\x00\x00\x00\x02\x01\x80\x00\x9c@\x80\x01\x85\xc0\x01\x00\x86\x00B\x01\xc0\x00\x00\x00\x01A\x02\x00\x9c@\x80\x01\x85\xc0\x01\x00\x86\x80B\x01\xc0\x00\x00\x00\x01\xc1\x02\x00\x9c@\x80\x01\x1e\x00\x80\x00\x0c\x00\x00\x00\x04\x0b\x00\x00\x00identifier\x00\x04\x05\x00\x00\x00hero\x00\x04\x0f\x00\x00\x00CollisionShape\x00\x04\x0b\x00\x00\x00SetEnabled\x00\x03\x00\x00\x00\x00\x00\x00a@\x04\x07\x00\x00\x00Entity\x00\x04\x12\x00\x00\x00SetPhysicsEnabled\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x11\x00\x00\x00SetMoveAnimation\x00\x03\x00\x00\x00\x00\x00\x80]@\x04\x14\x00\x00\x00SetMovementBehavior\x00\x04\x07\x00\x00\x00follow\x00\x00\x00\x00\x00\x1b\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x1a\x00\x00\x00\x07\x00\x00\x00target\x00\x01\x00\x00\x00\x1a\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -50.0,
            Y : -20.0,
            Width : 100.0,
            Height : 520.0,
        }
        Hidden : 0,
    }
    Scaling : 0.6000000238418579,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'club_projectile',
        Component{ # Component
            ClassName : 'TransformController',
            Identifier : 1,
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'dwarf_club',
                YRotation : 0.0,
                EmissionFactor : 0.0,
                XRotation : 1.5707963705062866,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 102,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : 45.0,
                    Y : -12.522844314575195,
                    Width : 25.01300048828125,
                    Height : 23.84337043762207,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 104,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                MaxDamage : 2,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : 0.0,
            Y : -12.522844314575195,
            Width : 70.01300048828125,
            Height : 23.84337043762207,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'corrupt_snort',
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 1,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 2,
            HealthComponent{ # HealthComponent
                MaxHealth : 2,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 3,
            EntityComponent{ # EntityComponent
                FacingDirection : 18446744073709551615,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                    String : $
local self = ...;
Program.Wait(0.15);


local snowie11 = Scene.CreateObject("shadowblob_little", "snowie11", self);
TransformController.TranslateBy(snowie11, Vector3.New(15,0,0), 0.01);

Program.Wait(0.3);

local snowie21 = Scene.CreateObject("shadowblob_little", "snowie21", self);
TransformController.TranslateBy(snowie21, Vector3.New(-15,0,0), 0.01);
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00l\x01\x00\x00local self = ...;\r\nProgram.Wait(0.15);\r\n\r\n\r\nlocal snowie11 = Scene.CreateObject("shadowblob_little", "snowie11", self);\r\nTransformController.TranslateBy(snowie11, Vector3.New(15,0,0), 0.01);\r\n\r\nProgram.Wait(0.3);\r\n\r\nlocal snowie21 = Scene.CreateObject("shadowblob_little", "snowie21", self);\r\nTransformController.TranslateBy(snowie21, Vector3.New(-15,0,0), 0.01);\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\t,\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x81\x80\x00\x00\\@\x00\x01E\xc0\x00\x00F\x00\xc1\x00\x81@\x01\x00\xc1\x80\x01\x00\x00\x01\x00\x00\\\x80\x00\x02\x85\xc0\x01\x00\x86\x00B\x01\xc0\x00\x80\x00\x05A\x02\x00\x06\x81B\x02A\xc1\x02\x00\x81\x01\x03\x00\xc1\x01\x03\x00\x1c\x81\x00\x02AA\x03\x00\x9c@\x00\x02\x85\x00\x00\x00\x86@@\x01\xc1\x80\x03\x00\x9c@\x00\x01\x85\xc0\x00\x00\x86\x00A\x01\xc1@\x01\x00\x01\xc1\x03\x00@\x01\x00\x00\x9c\x80\x00\x02\xc5\xc0\x01\x00\xc6\x00\xc2\x01\x00\x01\x00\x01EA\x02\x00F\x81\xc2\x02\x81\x01\x04\x00\xc1\x01\x03\x00\x01\x02\x03\x00\\\x81\x00\x02\x81A\x03\x00\xdc@\x00\x02\x1e\x00\x80\x00\x11\x00\x00\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03333333\xc3?\x04\x06\x00\x00\x00Scene\x00\x04\r\x00\x00\x00CreateObject\x00\x04\x12\x00\x00\x00shadowblob_little\x00\x04\t\x00\x00\x00snowie11\x00\x04\x14\x00\x00\x00TransformController\x00\x04\x0c\x00\x00\x00TranslateBy\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\x00.@\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03{\x14\xaeG\xe1z\x84?\x03333333\xd3?\x04\t\x00\x00\x00snowie21\x00\x03\x00\x00\x00\x00\x00\x00.\xc0\x00\x00\x00\x00,\x00\x00\x00\x01\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00+\x00\x00\x00\t\x00\x00\x00snowie11\x00\x0b\x00\x00\x00+\x00\x00\x00\t\x00\x00\x00snowie21\x00 \x00\x00\x00+\x00\x00\x00\x00\x00\x00\x00',
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 4,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'UtilityShape',
            Identifier : 5,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -150.0,
                    Y : -30.0,
                    Width : 300.0,
                    Height : 80.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 6,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Corrupted Snort',
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'snort_corrupt',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            Label : 'walk',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'snort_walk',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 107,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -10.0,
                    Y : -24.971399307250977,
                    Width : 20.0,
                    Height : 65.06086730957031,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 116,
            Label : 'charge',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'snort_charge',
                Repeating : 0,
                SpeedMultiplier : 1.2999999523162842,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 119,
            Label : 'run',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'snort_run',
                Repeating : 1,
                SpeedMultiplier : 1.5,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'ChargingMonsterController',
            Identifier : 125,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 50.0,
                AnimationControllerId : 4,
                EntityId : 3,
                RoamAreaId : 5,
            }
            ChargingMonsterControllerComponent{ # ChargingMonsterControllerComponent
                WalkAnimationId : 103,
                ChargeAnimationId : 116,
                RunAnimationId : 119,
                RunSpeed : 230.0,
                RunAcceleration : 300.0,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 128,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -10.0,
                    Y : -10.0,
                    Width : 40.0,
                    Height : 20.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -10.0,
            Y : -24.971399307250977,
            Width : 40.0,
            Height : 65.06086730957031,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'darkbandit',
        Component{ # Component
            ClassName : 'Program',
            Identifier : 1,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;

while true do
    Program.Wait(1+Math.RandomFloat(0.5,1.0));
    if EntityController.IsIdle(self) then
        if Math.RandomFloat(0.0,0.99) < 0.7 then 
            EntityController.PerformAction(self, 2);
        else
            EntityController.PerformAction(self, 126);
        end
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x1b\x01\x00\x00local self = ...;\r\n\r\nwhile true do\r\n\tProgram.Wait(1+Math.RandomFloat(0.5,1.0));\r\n\tif EntityController.IsIdle(self) then\r\n\t\tif Math.RandomFloat(0.0,0.99) < 0.7 then \r\n\t\t\tEntityController.PerformAction(self, 2);\r\n\t\telse\r\n\t\t\tEntityController.PerformAction(self, 126);\r\n\t\tend\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x05$\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x85\x80\x00\x00\x86\xc0@\x01\xc1\x00\x01\x00\x01A\x01\x00\x9c\x80\x80\x01\x8c\x80\x80\x82\\@\x00\x01E\x80\x01\x00F\xc0\xc1\x00\x80\x00\x00\x00\\\x80\x00\x01Z\x00\x00\x00\x16\x00\xfc\x7fE\x80\x00\x00F\xc0\xc0\x00\x81\x00\x02\x00\xc1@\x02\x00\\\x80\x80\x01\x18\x80\xc2\x00\x16@\x01\x80E\x80\x01\x00F\xc0\xc2\x00\x80\x00\x00\x00\xc1\x00\x03\x00\\@\x80\x01\x16\xc0\xf8\x7fE\x80\x01\x00F\xc0\xc2\x00\x80\x00\x00\x00\xc1@\x03\x00\\@\x80\x01\x16@\xf7\x7f\x1e\x00\x80\x00\x0e\x00\x00\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x05\x00\x00\x00Math\x00\x04\x0c\x00\x00\x00RandomFloat\x00\x03\x00\x00\x00\x00\x00\x00\xe0?\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00IsIdle\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\xaeG\xe1z\x14\xae\xef?\x03ffffff\xe6?\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x00\x00@\x03\x00\x00\x00\x00\x00\x80_@\x00\x00\x00\x00$\x00\x00\x00\x01\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\x01\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00#\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 2,
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local target = EntityController.Target(self);

local jumpAnimation = 3;
local attackAnimation = 4;

if target ~= nil then 
    local targetDirection = 1;
    if (target:position() - self:position()):x() < 0 then targetDirection = -1; end

    EntityController.SetFacingDirection(self, targetDirection, 0.1);
    EntityController.SetMoveDirection(self, targetDirection, 0.2);    
    EntityController.SetMoveSpeed(self, 0);

    KeyframeAnimation.SetCurrentTime(self, jumpAnimation, 0.0);
    AnimationController.BlendToAnimation(self, jumpAnimation);
    
    Program.Wait(0.3);
        
    EntityController.SetAcceleration(self, 0.1, false);
    self:setVelocity(Vector3.New(targetDirection*350,400,0));

    Program.Wait(KeyframeAnimation.TimeToCompletion(self, jumpAnimation));
    
    EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));
    
    EntityController.SetAcceleration(self, 1000, false);

    KeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);
    AnimationController.BlendToAnimation(self, attackAnimation);

    local swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 7);
    local swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 13);
    
    Program.Wait(swingStartTime-0.15);

    targetDirection = 1;

    if (target:position() - self:position()):x() < 0 then targetDirection = -1; end

    EntityController.SetFacingDirection(self, targetDirection);
    EntityController.SetMoveDirection(self, targetDirection);    

    Program.Wait(0.15);

    EntityController.StartSwing(self, 109, swingEndTime - swingStartTime);

    Program.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));
end


$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x89\x06\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nlocal jumpAnimation = 3;\r\nlocal attackAnimation = 4;\r\n\r\nif target ~= nil then \r\n\tlocal targetDirection = 1;\r\n\tif (target:position() - self:position()):x() < 0 then targetDirection = -1; end\r\n\r\n\tEntityController.SetFacingDirection(self, targetDirection, 0.1);\r\n\tEntityController.SetMoveDirection(self, targetDirection, 0.2);\t\r\n\tEntityController.SetMoveSpeed(self, 0);\r\n\r\n\tKeyframeAnimation.SetCurrentTime(self, jumpAnimation, 0.0);\r\n\tAnimationController.BlendToAnimation(self, jumpAnimation);\r\n\t\r\n\tProgram.Wait(0.3);\r\n\t\t\r\n\tEntityController.SetAcceleration(self, 0.1, false);\r\n\tself:setVelocity(Vector3.New(targetDirection*350,400,0));\r\n\r\n\tProgram.Wait(KeyframeAnimation.TimeToCompletion(self, jumpAnimation));\r\n\t\r\n\tEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\r\n\t\r\n\tEntityController.SetAcceleration(self, 1000, false);\r\n\r\n\tKeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);\r\n\tAnimationController.BlendToAnimation(self, attackAnimation);\r\n\r\n\tlocal swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 7);\r\n\tlocal swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 13);\r\n\t\r\n\tProgram.Wait(swingStartTime-0.15);\r\n\r\n\ttargetDirection = 1;\r\n\r\n\tif (target:position() - self:position()):x() < 0 then targetDirection = -1; end\r\n\r\n\tEntityController.SetFacingDirection(self, targetDirection);\r\n\tEntityController.SetMoveDirection(self, targetDirection);\t\r\n\r\n\tProgram.Wait(0.15);\r\n\r\n\tEntityController.StartSwing(self, 109, swingEndTime - swingStartTime);\r\n\r\n\tProgram.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));\r\nend\r\n\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x0b\x9b\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x81\x80\x00\x00\xc1\xc0\x00\x00W\x00\xc1\x00\x16\x00$\x80\x01A\x01\x00K\x81\xc1\x00\\\x81\x00\x01\x8b\x81A\x00\x9c\x81\x00\x01M\x81\x81\x02K\xc1\xc1\x02\\\x81\x00\x01\x18\x00\xc2\x02\x16\x00\x00\x80\x01A\x02\x00E\x01\x00\x00F\x81\xc2\x02\x80\x01\x00\x00\xc0\x01\x00\x02\x01\xc2\x02\x00\\A\x00\x02E\x01\x00\x00F\x01\xc3\x02\x80\x01\x00\x00\xc0\x01\x00\x02\x01B\x03\x00\\A\x00\x02E\x01\x00\x00F\x81\xc3\x02\x80\x01\x00\x00\xc1\x01\x02\x00\\A\x80\x01E\xc1\x03\x00F\x01\xc4\x02\x80\x01\x00\x00\xc0\x01\x00\x01\x01\x02\x02\x00\\A\x00\x02EA\x04\x00F\x81\xc4\x02\x80\x01\x00\x00\xc0\x01\x00\x01\\A\x80\x01E\xc1\x04\x00F\x01\xc5\x02\x81A\x05\x00\\A\x00\x01E\x01\x00\x00F\x81\xc5\x02\x80\x01\x00\x00\xc1\xc1\x02\x00\x02\x02\x00\x00\\A\x00\x02K\xc1E\x00\xc5\x01\x06\x00\xc6A\xc6\x03\x0e\x82F\x02A\xc2\x06\x00\x81\x02\x02\x00\xdc\x01\x00\x02\\A\x00\x00E\xc1\x04\x00F\x01\xc5\x02\x85\xc1\x03\x00\x86\x01G\x03\xc0\x01\x00\x00\x00\x02\x00\x01\x9c\x01\x80\x01\\A\x00\x00E\x01\x00\x00F\x81\xc3\x02\x80\x01\x00\x00\xc5\x01\x00\x00\xc6A\xc7\x03\x00\x02\x00\x00\xdc\x01\x00\x01\\A\x00\x00E\x01\x00\x00F\x81\xc5\x02\x80\x01\x00\x00\xc1\x81\x07\x00\x02\x02\x00\x00\\A\x00\x02E\xc1\x03\x00F\x01\xc4\x02\x80\x01\x00\x00\xc0\x01\x80\x01\x01\x02\x02\x00\\A\x00\x02EA\x04\x00F\x81\xc4\x02\x80\x01\x00\x00\xc0\x01\x80\x01\\A\x80\x01E\xc1\x03\x00F\xc1\xc7\x02\x80\x01\x00\x00\xc0\x01\x80\x01\x01\x02\x08\x00\\\x81\x00\x02\x85\xc1\x03\x00\x86\xc1G\x03\xc0\x01\x00\x00\x00\x02\x80\x01AB\x08\x00\x9c\x81\x00\x02\xc5\xc1\x04\x00\xc6\x01\xc5\x03\r\x82\xc8\x02\xdcA\x00\x01\x01A\x01\x00\xcb\x81\xc1\x00\xdc\x81\x00\x01\x0b\x82A\x00\x1c\x82\x00\x01\xcd\x01\x82\x03\xcb\xc1\xc1\x03\xdc\x81\x00\x01\x18\x00\xc2\x03\x16\x00\x00\x80\x01A\x02\x00\xc5\x01\x00\x00\xc6\x81\xc2\x03\x00\x02\x00\x00@\x02\x00\x02\xdcA\x80\x01\xc5\x01\x00\x00\xc6\x01\xc3\x03\x00\x02\x00\x00@\x02\x00\x02\xdcA\x80\x01\xc5\xc1\x04\x00\xc6\x01\xc5\x03\x01\x82\x08\x00\xdcA\x00\x01\xc5\x01\x00\x00\xc6\xc1\xc8\x03\x00\x02\x00\x00A\x02\t\x00\x8dB\x01\x03\xdcA\x00\x02\xc5\xc1\x04\x00\xc6\x01\xc5\x03\x05\xc2\x03\x00\x06\x02G\x04@\x02\x00\x00\x80\x02\x80\x01\x1c\x02\x80\x01\xdcA\x00\x00\x1e\x00\x80\x00%\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x03\x00\x00\x00\x00\x00\x00\x08@\x03\x00\x00\x00\x00\x00\x00\x10@\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x13\x00\x00\x00SetFacingDirection\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x11\x00\x00\x00SetMoveDirection\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\r\x00\x00\x00SetMoveSpeed\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03333333\xd3?\x04\x10\x00\x00\x00SetAcceleration\x00\x04\x0c\x00\x00\x00setVelocity\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\xe0u@\x03\x00\x00\x00\x00\x00\x00y@\x04\x11\x00\x00\x00TimeToCompletion\x00\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x03\x00\x00\x00\x00\x00@\x8f@\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00\x1c@\x03\x00\x00\x00\x00\x00\x00*@\x03333333\xc3?\x04\x0b\x00\x00\x00StartSwing\x00\x03\x00\x00\x00\x00\x00@[@\x00\x00\x00\x00\x9b\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00&\x00\x00\x00(\x00\x00\x00(\x00\x00\x00(\x00\x00\x00(\x00\x00\x00(\x00\x00\x00(\x00\x00\x00(\x00\x00\x00(\x00\x00\x00(\x00\x00\x00(\x00\x00\x00*\x00\x00\x00*\x00\x00\x00*\x00\x00\x00*\x00\x00\x00*\x00\x00\x00+\x00\x00\x00+\x00\x00\x00+\x00\x00\x00+\x00\x00\x00+\x00\x00\x00-\x00\x00\x00-\x00\x00\x00-\x00\x00\x00-\x00\x00\x00/\x00\x00\x00/\x00\x00\x00/\x00\x00\x00/\x00\x00\x00/\x00\x00\x00/\x00\x00\x001\x00\x00\x001\x00\x00\x001\x00\x00\x001\x00\x00\x001\x00\x00\x001\x00\x00\x001\x00\x00\x001\x00\x00\x002\x00\x00\x00\x07\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x9a\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00\x9a\x00\x00\x00\x0e\x00\x00\x00jumpAnimation\x00\x06\x00\x00\x00\x9a\x00\x00\x00\x10\x00\x00\x00attackAnimation\x00\x07\x00\x00\x00\x9a\x00\x00\x00\x10\x00\x00\x00targetDirection\x00\n\x00\x00\x00\x9a\x00\x00\x00\x0f\x00\x00\x00swingStartTime\x00i\x00\x00\x00\x9a\x00\x00\x00\r\x00\x00\x00swingEndTime\x00o\x00\x00\x00\x9a\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 3,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'varibandit_jump',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 4,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'varibandit_jumpattack',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 5,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Dark Bandit',
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'varibandit_dark',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.5,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 103,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                    String : $
local self = ...;

local target = EntityController.Target(self);

EntityController.SetAcceleration(self, 1000, false);

if target ~= nil then 
    local targetDirection = 1;
    if (target:position() - self:position()):x() < 0 then targetDirection = -1; end

    EntityController.SetFacingDirection(self, targetDirection, 0.2);
    EntityController.SetMoveDirection(self, targetDirection, 0.7);

    Program.Wait(0.8);

    if EntityController.IsIdle(self) then
        if Math.RandomFloat(0.0,0.99) < 0.5 then 
            EntityController.PerformAction(self, 2);
        else
            EntityController.PerformAction(self, 126);
        end
    end
    
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00q\x02\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nEntityController.SetAcceleration(self, 1000, false);\r\n\r\nif target ~= nil then \r\n\tlocal targetDirection = 1;\r\n\tif (target:position() - self:position()):x() < 0 then targetDirection = -1; end\r\n\r\n\tEntityController.SetFacingDirection(self, targetDirection, 0.2);\r\n\tEntityController.SetMoveDirection(self, targetDirection, 0.7);\r\n\r\n\tProgram.Wait(0.8);\r\n\r\n\tif EntityController.IsIdle(self) then\r\n\t\tif Math.RandomFloat(0.0,0.99) < 0.5 then \r\n\t\t\tEntityController.PerformAction(self, 2);\r\n\t\telse\r\n\t\t\tEntityController.PerformAction(self, 126);\r\n\t\tend\r\n\tend\r\n\t\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x07A\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x85\x00\x00\x00\x86\x80@\x01\xc0\x00\x00\x00\x01\xc1\x00\x00B\x01\x00\x00\x9c@\x00\x02W\x00\xc1\x00\x16\x80\x0c\x80\x81@\x01\x00\xcb\x80\xc1\x00\xdc\x80\x00\x01\x0b\x81A\x00\x1c\x81\x00\x01\xcd\x00\x81\x01\xcb\xc0\xc1\x01\xdc\x80\x00\x01\x18\x00\xc2\x01\x16\x00\x00\x80\x81@\x02\x00\xc5\x00\x00\x00\xc6\x80\xc2\x01\x00\x01\x00\x00@\x01\x00\x01\x81\xc1\x02\x00\xdc@\x00\x02\xc5\x00\x00\x00\xc6\x00\xc3\x01\x00\x01\x00\x00@\x01\x00\x01\x81A\x03\x00\xdc@\x00\x02\xc5\x80\x03\x00\xc6\xc0\xc3\x01\x01\x01\x04\x00\xdc@\x00\x01\xc5\x00\x00\x00\xc6@\xc4\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xda\x00\x00\x00\x16@\x04\x80\xc5\x80\x04\x00\xc6\xc0\xc4\x01\x01\x01\x02\x00A\x01\x05\x00\xdc\x80\x80\x01\x18@\xc5\x01\x16@\x01\x80\xc5\x00\x00\x00\xc6\x80\xc5\x01\x00\x01\x00\x00A\xc1\x05\x00\xdc@\x80\x01\x16\x00\x01\x80\xc5\x00\x00\x00\xc6\x80\xc5\x01\x00\x01\x00\x00A\x01\x06\x00\xdc@\x80\x01\x1e\x00\x80\x00\x19\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x10\x00\x00\x00SetAcceleration\x00\x03\x00\x00\x00\x00\x00@\x8f@\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x13\x00\x00\x00SetFacingDirection\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x11\x00\x00\x00SetMoveDirection\x00\x03ffffff\xe6?\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xe9?\x04\x07\x00\x00\x00IsIdle\x00\x04\x05\x00\x00\x00Math\x00\x04\x0c\x00\x00\x00RandomFloat\x00\x03\xaeG\xe1z\x14\xae\xef?\x03\x00\x00\x00\x00\x00\x00\xe0?\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x00\x00@\x03\x00\x00\x00\x00\x00\x80_@\x00\x00\x00\x00A\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x18\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00@\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00@\x00\x00\x00\x10\x00\x00\x00targetDirection\x00\x0e\x00\x00\x00@\x00\x00\x00\x00\x00\x00\x00',
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 104,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 103,
                AnimationControllerId : 105,
                DefaultMoveAnimationId : 112,
                RoamAreaId : 117,
                DefaultMoveSpeed : 100.0,
                DefaultAcceleration : 1000.0,
                TargetingDistance : 300.0,
                MovementBehavior : 4,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 105,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 106,
            Label : 'main',
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -26.0,
                    Y : -0.8095080256462097,
                    Width : 54.0,
                    Height : 70.80950927734375,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'SwingableWeaponController',
            Identifier : 109,
            SwingableWeaponControllerComponent{ # SwingableWeaponControllerComponent
                ControllingModelId : 101,
                ControllingBoneName : 'BoneRightWeapon1',
                WeaponTemplateName : 'variknight_weapon_sword',
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 112,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'variknight_shield_walk',
                Repeating : 1,
                SpeedMultiplier : 1.2000000476837158,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'UtilityShape',
            Identifier : 117,
            Label : 'roam',
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -300.0,
                    Y : -50.0,
                    Width : 600.0,
                    Height : 100.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 119,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 120,
            HealthComponent{ # HealthComponent
                MaxHealth : 10,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 126,
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local attackAnimation = 127;

EntityController.SetMoveSpeed(self, 0);
KeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);
AnimationController.BlendToAnimation(self, attackAnimation);

local swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 13.5);
local swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 16.5);

Program.Wait(swingStartTime);
EntityController.StartSwing(self, 109, swingEndTime - swingStartTime);

Program.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));

EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x88\x02\x00\x00local self = ...;\r\n\r\nlocal attackAnimation = 127;\r\n\r\nEntityController.SetMoveSpeed(self, 0);\r\nKeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, attackAnimation);\r\n\r\nlocal swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 13.5);\r\nlocal swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 16.5);\r\n\r\nProgram.Wait(swingStartTime);\r\nEntityController.StartSwing(self, 109, swingEndTime - swingStartTime);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));\r\n\r\nEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x089\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x85@\x00\x00\x86\x80@\x01\xc0\x00\x00\x00\x01\xc1\x00\x00\x9c@\x80\x01\x85\x00\x01\x00\x86@A\x01\xc0\x00\x00\x00\x00\x01\x80\x00A\xc1\x00\x00\x9c@\x00\x02\x85\x80\x01\x00\x86\xc0A\x01\xc0\x00\x00\x00\x00\x01\x80\x00\x9c@\x80\x01\x85\x00\x01\x00\x86\x00B\x01\xc0\x00\x00\x00\x00\x01\x80\x00AA\x02\x00\x9c\x80\x00\x02\xc5\x00\x01\x00\xc6\x00\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\x81\x81\x02\x00\xdc\x80\x00\x02\x05\xc1\x02\x00\x06\x01C\x02@\x01\x00\x01\x1cA\x00\x01\x05A\x00\x00\x06AC\x02@\x01\x00\x00\x81\x81\x03\x00\xcd\x81\x80\x01\x1cA\x00\x02\x05\xc1\x02\x00\x06\x01C\x02E\x01\x01\x00F\xc1\xc3\x02\x80\x01\x00\x00\xc0\x01\x80\x00\\\x01\x80\x01\x1cA\x00\x00\x05A\x00\x00\x06\x81@\x02@\x01\x00\x00\x85A\x00\x00\x86\x01D\x03\xc0\x01\x00\x00\x9c\x01\x00\x01\x1cA\x00\x00\x1e\x00\x80\x00\x11\x00\x00\x00\x03\x00\x00\x00\x00\x00\xc0_@\x04\x11\x00\x00\x00EntityController\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00+@\x03\x00\x00\x00\x00\x00\x800@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x0b\x00\x00\x00StartSwing\x00\x03\x00\x00\x00\x00\x00@[@\x04\x11\x00\x00\x00TimeToCompletion\x00\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x00\x00\x00\x009\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x008\x00\x00\x00\x10\x00\x00\x00attackAnimation\x00\x02\x00\x00\x008\x00\x00\x00\x0f\x00\x00\x00swingStartTime\x00\x18\x00\x00\x008\x00\x00\x00\r\x00\x00\x00swingEndTime\x00\x1e\x00\x00\x008\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 127,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'variknight_shield_attack1',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -26.0,
            Y : -0.8095080256462097,
            Width : 54.0,
            Height : 70.80950927734375,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'darkbandit_thrower',
        Component{ # Component
            ClassName : 'Program',
            Identifier : 1,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;

local target = EntityController.Target(self);
while true do
    Program.Wait(3);
    if EntityController.IsIdle(self) then
        EntityController.PerformAction(self, 126);
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xc6\x00\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\nwhile true do\r\n\tProgram.Wait(3);\r\n\tif EntityController.IsIdle(self) then\r\n\t\tEntityController.PerformAction(self, 126);\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x05\x16\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x85\x80\x00\x00\x86\xc0@\x01\xc1\x00\x01\x00\x9c@\x00\x01\x85\x00\x00\x00\x86@A\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\x9a\x00\x00\x00\x16@\xfd\x7f\x85\x00\x00\x00\x86\x80A\x01\xc0\x00\x00\x00\x01\xc1\x01\x00\x9c@\x80\x01\x16\xc0\xfb\x7f\x1e\x00\x80\x00\x08\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x00\x00\x00\x00\x00\x00\x08@\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x80_@\x00\x00\x00\x00\x16\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x15\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00\x15\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 2,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Dark Bandit',
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'varibandit_dark',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.5,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 103,
            EntityComponent{ # EntityComponent
                FacingDirection : 18446744073709551615,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                    String : $
local self = ...;

local target = EntityController.Target(self);

if target ~= nil then 
    local targetDirection = 1;
    if (target:position() - self:position()):x() < 0 then targetDirection = -1; end

    EntityController.SetFacingDirection(self, targetDirection, 0.2);
    EntityController.SetMoveDirection(self, targetDirection, 0.7);

    Program.Wait(0.8);
    if EntityController.IsIdle(self) then
        EntityController.PerformAction(self, 126);
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xca\x01\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nif target ~= nil then \r\n\tlocal targetDirection = 1;\r\n\tif (target:position() - self:position()):x() < 0 then targetDirection = -1; end\r\n\r\n\tEntityController.SetFacingDirection(self, targetDirection, 0.2);\r\n\tEntityController.SetMoveDirection(self, targetDirection, 0.7);\r\n\r\n\tProgram.Wait(0.8);\r\n\tif EntityController.IsIdle(self) then\r\n\t\tEntityController.PerformAction(self, 126);\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x07.\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01W\x80\xc0\x00\x16@\t\x80\x81\xc0\x00\x00\xcb\x00\xc1\x00\xdc\x80\x00\x01\x0b\x01A\x00\x1c\x81\x00\x01\xcd\x00\x81\x01\xcb@\xc1\x01\xdc\x80\x00\x01\x18\x80\xc1\x01\x16\x00\x00\x80\x81\xc0\x01\x00\xc5\x00\x00\x00\xc6\x00\xc2\x01\x00\x01\x00\x00@\x01\x00\x01\x81A\x02\x00\xdc@\x00\x02\xc5\x00\x00\x00\xc6\x80\xc2\x01\x00\x01\x00\x00@\x01\x00\x01\x81\xc1\x02\x00\xdc@\x00\x02\xc5\x00\x03\x00\xc6@\xc3\x01\x01\x81\x03\x00\xdc@\x00\x01\xc5\x00\x00\x00\xc6\xc0\xc3\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xda\x00\x00\x00\x16\x00\x01\x80\xc5\x00\x00\x00\xc6\x00\xc4\x01\x00\x01\x00\x00AA\x04\x00\xdc@\x80\x01\x1e\x00\x80\x00\x12\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x13\x00\x00\x00SetFacingDirection\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x11\x00\x00\x00SetMoveDirection\x00\x03ffffff\xe6?\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xe9?\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x80_@\x00\x00\x00\x00.\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x10\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00-\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00-\x00\x00\x00\x10\x00\x00\x00targetDirection\x00\x08\x00\x00\x00-\x00\x00\x00\x00\x00\x00\x00',
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 104,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 103,
                AnimationControllerId : 105,
                DefaultMoveAnimationId : 112,
                RoamAreaId : 117,
                DefaultMoveSpeed : 100.0,
                DefaultAcceleration : 1000.0,
                TargetingDistance : 300.0,
                MovementBehavior : 4,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 105,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 106,
            Label : 'main',
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -26.0,
                    Y : -0.8095080256462097,
                    Width : 54.0,
                    Height : 70.80950927734375,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'SwingableWeaponController',
            Identifier : 109,
            SwingableWeaponControllerComponent{ # SwingableWeaponControllerComponent
                ControllingModelId : 101,
                ControllingBoneName : 'BoneRightWeapon1',
                WeaponTemplateName : 'varibandit_weapon_dagger',
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 112,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'variknight_shield_walk',
                Repeating : 1,
                SpeedMultiplier : 1.2000000476837158,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'UtilityShape',
            Identifier : 117,
            Label : 'roam',
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -100.0,
                    Y : -50.0,
                    Width : 200.0,
                    Height : 100.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 119,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 120,
            HealthComponent{ # HealthComponent
                MaxHealth : 10,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 126,
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local shootAnimation = 127;

KeyframeAnimation.SetCurrentTime(self, shootAnimation, 0.0);
AnimationController.BlendToAnimation(self, shootAnimation);

Program.Wait(KeyframeAnimation.TimeToFrame(self, shootAnimation, 13));

throwDirection = EntityController.FacingDirection(self);

local angles = { throwDirection*-30, throwDirection*-50 };

for i=1, #angles do
    local angleOffset = angles[i];
    local projectile = Scene.CreateObject("varibandit_dagger", "projectile", self);

    local directionVector = Vector3.FromAngle(90 + angleOffset);

    projectile:setPosition(self:position() + directionVector * 60);
    projectile:setVelocity(directionVector * 500);

    PhysicsObject.SetGravityDirection(projectile, Vector3.FromAngle(-90 + 0.5 * angleOffset));
end

Program.Wait(KeyframeAnimation.TimeToCompletion(self, shootAnimation));


$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00e\x03\x00\x00local self = ...;\r\n\r\nlocal shootAnimation = 127;\r\n\r\nKeyframeAnimation.SetCurrentTime(self, shootAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, shootAnimation);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, shootAnimation, 13));\r\n\r\nthrowDirection = EntityController.FacingDirection(self);\r\n\r\nlocal angles = { throwDirection*-30, throwDirection*-50 };\r\n\r\nfor i=1, #angles do\r\n\tlocal angleOffset = angles[i];\r\n\tlocal projectile = Scene.CreateObject("varibandit_dagger", "projectile", self);\r\n\r\n\tlocal directionVector = Vector3.FromAngle(90 + angleOffset);\r\n\r\n\tprojectile:setPosition(self:position() + directionVector * 60);\r\n\tprojectile:setVelocity(directionVector * 500);\r\n\r\n\tPhysicsObject.SetGravityDirection(projectile, Vector3.FromAngle(-90 + 0.5 * angleOffset));\r\nend\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, shootAnimation));\r\n\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x0eL\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x85@\x00\x00\x86\x80@\x01\xc0\x00\x00\x00\x00\x01\x80\x00A\xc1\x00\x00\x9c@\x00\x02\x85\x00\x01\x00\x86@A\x01\xc0\x00\x00\x00\x00\x01\x80\x00\x9c@\x80\x01\x85\x80\x01\x00\x86\xc0A\x01\xc5@\x00\x00\xc6\x00\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\x81A\x02\x00\xdc\x00\x00\x02\x9c@\x00\x00\x85\xc0\x02\x00\x86\x00C\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\x87\x80\x02\x00\x8a\x00\x00\x01\xc5\x80\x02\x00\xce@\xc3\x01\x05\x81\x02\x00\x0e\x81C\x02\xa2@\x00\x01\xc1\xc0\x03\x00\x14\x01\x00\x01A\xc1\x03\x00\xe0\x00\x07\x80\xc6\x81\x01\x01\x05\x02\x04\x00\x06BD\x04A\x82\x04\x00\x81\xc2\x04\x00\xc0\x02\x00\x00\x1c\x82\x00\x02E\x02\x05\x00FB\xc5\x04\x8c\xc2\x01\x8b\\\x82\x00\x01\x8b\xc2E\x04\x0b\x03F\x00\x1c\x83\x00\x01NC\xc6\x04\x0cC\x03\x06\x9cB\x80\x01\x8b\x82F\x04\x0e\xc3\xc6\x04\x9cB\x80\x01\x85\x02\x07\x00\x86BG\x05\xc0\x02\x00\x04\x05\x03\x05\x00\x06CE\x06N\xc3\x01\x8fLC\x83\x8f\x1c\x03\x00\x01\x9cB\x00\x00\xdf@\xf8\x7f\xc5\x80\x01\x00\xc6\xc0\xc1\x01\x05A\x00\x00\x06\x01H\x02@\x01\x00\x00\x80\x01\x80\x00\x1c\x01\x80\x01\xdc@\x00\x00\x1e\x00\x80\x00!\x00\x00\x00\x03\x00\x00\x00\x00\x00\xc0_@\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00*@\x04\x0f\x00\x00\x00throwDirection\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x10\x00\x00\x00FacingDirection\x00\x03\x00\x00\x00\x00\x00\x00>\xc0\x03\x00\x00\x00\x00\x00\x00I\xc0\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\x06\x00\x00\x00Scene\x00\x04\r\x00\x00\x00CreateObject\x00\x04\x12\x00\x00\x00varibandit_dagger\x00\x04\x0b\x00\x00\x00projectile\x00\x04\x08\x00\x00\x00Vector3\x00\x04\n\x00\x00\x00FromAngle\x00\x03\x00\x00\x00\x00\x00\x80V@\x04\x0c\x00\x00\x00setPosition\x00\x04\t\x00\x00\x00position\x00\x03\x00\x00\x00\x00\x00\x00N@\x04\x0c\x00\x00\x00setVelocity\x00\x03\x00\x00\x00\x00\x00@\x7f@\x04\x0e\x00\x00\x00PhysicsObject\x00\x04\x14\x00\x00\x00SetGravityDirection\x00\x03\x00\x00\x00\x00\x00\x00\xe0?\x03\x00\x00\x00\x00\x00\x80V\xc0\x04\x11\x00\x00\x00TimeToCompletion\x00\x00\x00\x00\x00L\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x0e\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\n\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00K\x00\x00\x00\x0f\x00\x00\x00shootAnimation\x00\x02\x00\x00\x00K\x00\x00\x00\x07\x00\x00\x00angles\x00!\x00\x00\x00K\x00\x00\x00\x0c\x00\x00\x00(for index)\x00$\x00\x00\x00C\x00\x00\x00\x0c\x00\x00\x00(for limit)\x00$\x00\x00\x00C\x00\x00\x00\x0b\x00\x00\x00(for step)\x00$\x00\x00\x00C\x00\x00\x00\x02\x00\x00\x00i\x00%\x00\x00\x00B\x00\x00\x00\x0c\x00\x00\x00angleOffset\x00&\x00\x00\x00B\x00\x00\x00\x0b\x00\x00\x00projectile\x00,\x00\x00\x00B\x00\x00\x00\x10\x00\x00\x00directionVector\x000\x00\x00\x00B\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 127,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'varibandit_throw',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -26.0,
            Y : -0.8095080256462097,
            Width : 54.0,
            Height : 70.80950927734375,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'dire_cavelurker',
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 1,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Dire Cave Lurker',
            }
        }
        Component{ # Component
            ClassName : 'SimpleGlow',
            Identifier : 2,
            SimpleGlowComponent{ # SimpleGlowComponent
                Color{ # FloatColor
                    R : 0.17777778208255768,
                    G : 0.0,
                    B : 0.1111111119389534,
                    A : 0.5,
                }
                Size : 38.0,
                NumSegments : 10,
                Depth : 15.0,
                PulseAmount : 0.15000000596046448,
                PulseTime : 0.800000011920929,
                Offset{ # Vector2
                    X : 0.0,
                    Y : 20.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'great_cavelurker',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.10000000149011612,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 104,
            EntityComponent{ # EntityComponent
                FacingDirection : 18446744073709551615,
                PhysicsEnabled : 0,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                    String : $
SoundLibrary.PlayEffect("insect_die2");
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00(\x00\x00\x00SoundLibrary.PlayEffect("insect_die2");\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x02\x05\x00\x00\x00\x05\x00\x00\x00\x06@@\x00A\x80\x00\x00\x1c@\x00\x01\x1e\x00\x80\x00\x03\x00\x00\x00\x04\r\x00\x00\x00SoundLibrary\x00\x04\x0b\x00\x00\x00PlayEffect\x00\x04\x0c\x00\x00\x00insect_die2\x00\x00\x00\x00\x00\x05\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00',
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 107,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'UtilityShape',
            Identifier : 108,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -100.0,
                    Y : -50.0,
                    Width : 200.0,
                    Height : 150.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 110,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -20.0,
                    Y : -1.0,
                    Width : 40.0,
                    Height : 61.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 112,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 113,
            HealthComponent{ # HealthComponent
                MaxHealth : 2,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 118,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'cavelurker_walk',
                Repeating : 1,
                SpeedMultiplier : 1.2999999523162842,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 123,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 104,
                AnimationControllerId : 107,
                DefaultMoveAnimationId : 128,
                RoamAreaId : 108,
                DefaultMoveSpeed : 140.0,
                DefaultAcceleration : 800.0,
                TargetingDistance : 20000.0,
                MovementBehavior : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 128,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'cavelurker_stand',
                Repeating : 1,
                SpeedMultiplier : 0.30000001192092896,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 129,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;


$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x16\x00\x00\x00local self = ...;\r\n\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x02\x02\x00\x00\x00%\x00\x00\x01\x1e\x00\x80\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'TransformController',
            Identifier : 130,
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 136,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -100.0,
                    Y : 0.0,
                    Width : 200.0,
                    Height : 500.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                MinDepth : -15.0,
                MaxDepth : 15.0,
                OnCollide{ # Program
                    String : $
local self, target = ...;

if target:identifier() == "hero" then
    CollisionShape.SetEnabled(self, 136, false);
    Entity.SetPhysicsEnabled(self, true);
    EntityController.SetMoveAnimation(self, 118);
    EntityController.SetMovementBehavior(self, "follow");
    self:setVelocity(Vector3.New(0,-100,0));
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x002\x01\x00\x00local self, target = ...;\r\n\r\nif target:identifier() == "hero" then\r\n\tCollisionShape.SetEnabled(self, 136, false);\r\n\tEntity.SetPhysicsEnabled(self, true);\r\n\tEntityController.SetMoveAnimation(self, 118);\r\n\tEntityController.SetMovementBehavior(self, "follow");\r\n\tself:setVelocity(Vector3.New(0,-100,0));\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x08#\x00\x00\x00%\x00\x80\x01\x8b\x00\xc0\x00\x9c\x80\x00\x01\x17@@\x01\x16\x00\x07\x80\x85\x80\x00\x00\x86\xc0@\x01\xc0\x00\x00\x00\x01\x01\x01\x00B\x01\x00\x00\x9c@\x00\x02\x85@\x01\x00\x86\x80A\x01\xc0\x00\x00\x00\x02\x01\x80\x00\x9c@\x80\x01\x85\xc0\x01\x00\x86\x00B\x01\xc0\x00\x00\x00\x01A\x02\x00\x9c@\x80\x01\x85\xc0\x01\x00\x86\x80B\x01\xc0\x00\x00\x00\x01\xc1\x02\x00\x9c@\x80\x01\x8b\x00C\x00\x05A\x03\x00\x06\x81C\x02A\xc1\x03\x00\x81\x01\x04\x00\xc1\xc1\x03\x00\x1c\x01\x00\x02\x9c@\x00\x00\x1e\x00\x80\x00\x11\x00\x00\x00\x04\x0b\x00\x00\x00identifier\x00\x04\x05\x00\x00\x00hero\x00\x04\x0f\x00\x00\x00CollisionShape\x00\x04\x0b\x00\x00\x00SetEnabled\x00\x03\x00\x00\x00\x00\x00\x00a@\x04\x07\x00\x00\x00Entity\x00\x04\x12\x00\x00\x00SetPhysicsEnabled\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x11\x00\x00\x00SetMoveAnimation\x00\x03\x00\x00\x00\x00\x00\x80]@\x04\x14\x00\x00\x00SetMovementBehavior\x00\x04\x07\x00\x00\x00follow\x00\x04\x0c\x00\x00\x00setVelocity\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00Y\xc0\x00\x00\x00\x00#\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00"\x00\x00\x00\x07\x00\x00\x00target\x00\x01\x00\x00\x00"\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -100.0,
            Y : -20.0,
            Width : 200.0,
            Height : 520.0,
        }
        Hidden : 0,
    }
    Scaling : 0.699999988079071,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'elemental_ice',
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'elemental_ice',
                YRotation : 0.0,
                EmissionFactor : 1.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 102,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'elemental_ice_stand',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'ChargingMonsterController',
            Identifier : 103,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 100.0,
                AnimationControllerId : 106,
                EntityId : 104,
                RoamAreaId : 0,
            }
            ChargingMonsterControllerComponent{ # ChargingMonsterControllerComponent
                WalkAnimationId : 105,
                ChargeAnimationId : 102,
                RunAnimationId : 105,
                RunSpeed : 230.0,
                RunAcceleration : 300.0,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 104,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 105,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'elemental_ice_stand',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 106,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 107,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -15.0,
                    Y : 0.0,
                    Width : 30.0,
                    Height : 75.51370239257812,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 109,
            HealthComponent{ # HealthComponent
                MaxHealth : 8,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 110,
            DamageComponent{ # DamageComponent
                MinDamage : 4,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -15.0,
            Y : 0.0,
            Width : 30.0,
            Height : 75.51370239257812,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'fire',
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'fire',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 102,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'spikeball_jump',
                Repeating : 0,
                SpeedMultiplier : 0.800000011920929,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'spikeball_land',
                Repeating : 0,
                SpeedMultiplier : 0.800000011920929,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 104,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 106,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -5.0,
                    Y : 10.0,
                    Width : 20.0,
                    Height : 20.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 109,
            DamageComponent{ # DamageComponent
                MinDamage : 2,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 110,
            HealthComponent{ # HealthComponent
                MaxHealth : 2,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 111,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'BouncingMonsterController',
            Identifier : 112,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 100.0,
                AnimationControllerId : 111,
                EntityId : 104,
                RoamAreaId : 0,
            }
            BouncingMonsterControllerComponent{ # BouncingMonsterControllerComponent
                JumpAnimationId : 102,
                FallAnimationId : 103,
                JumpAngle : 1.2217304706573486,
                JumpSpeed : 450.0,
            }
        }
        Component{ # Component
            ClassName : 'Light',
            Identifier : 115,
            LightComponent{ # LightComponent
                Type : 3,
                Intensity : 10.0,
                Color{ # FloatColor
                    R : 1.0,
                    G : 0.47999998927116394,
                    B : 0.0,
                    A : 1.0,
                }
                LinearAttenuation : 0.0,
                QuadraticAttenuation : 0.00019999999494757503,
                Offset{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Radius : 250.0,
            }
        }
        Component{ # Component
            ClassName : 'FireEmitter',
            Identifier : 116,
            FireEmitterComponent{ # FireEmitterComponent
                ParticleEmitterId : 118,
                LightId : 115,
                Color{ # FloatColor
                    R : 1.0,
                    G : 0.47999998927116394,
                    B : 0.0,
                    A : 0.0,
                }
                ParticleInterval : 0.10000000149011612,
                ParticleMaxAge : 0.8999999761581421,
                ParticleSpread{ # Vector3
                    X : 2.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Origin3{ # Vector3
                    X : 12.0,
                    Y : 20.0,
                    Z : 0.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 118,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 119,
                ParticleId : 120,
                ParticleId : 121,
                ModelBindingId : 0,
                MaxParticles : 30,
                ParentEmitterId : 0,
                DestroyWhenFinished : 0,
                LocalSystem : 0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 119,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_1',
                Size : 60.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 120,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_2',
                Size : 40.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 121,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_3',
                Size : 70.0,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -5.0,
            Y : 0.0,
            Width : 20.0,
            Height : 30.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'firebat',
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 1,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Fire Bat',
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'bat',
                YRotation : 0.0,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 15.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'bat_fly',
                Repeating : 1,
                SpeedMultiplier : 2.5,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 105,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 107,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'BatMonsterController',
            Identifier : 109,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 100.0,
                AnimationControllerId : 105,
                EntityId : 107,
                RoamAreaId : 0,
            }
            BatMonsterControllerComponent{ # BatMonsterControllerComponent
                FlyAnimationId : 103,
                FlapSoundId : 0,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 111,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 113,
            HealthComponent{ # HealthComponent
                MaxHealth : 1,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 115,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -20.0,
                    Y : -22.0,
                    Width : 40.0,
                    Height : 42.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'Light',
            Identifier : 118,
            LightComponent{ # LightComponent
                Type : 3,
                Intensity : 2.0,
                Color{ # FloatColor
                    R : 1.0,
                    G : 0.47999998927116394,
                    B : 0.0,
                    A : 0.0,
                }
                LinearAttenuation : 0.0,
                QuadraticAttenuation : 0.00019999999494757503,
                Offset{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Radius : 150.0,
            }
        }
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 120,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 123,
                ParticleId : 124,
                ParticleId : 125,
                ModelBindingId : 0,
                MaxParticles : 30,
                ParentEmitterId : 0,
                DestroyWhenFinished : 0,
                Emitter{ # ParticleEmitter
                    Type : 3,
                    BaseColor{ # FloatColor
                        R : 0.40000003576278687,
                        G : 0.19111111760139465,
                        B : 0.0,
                        A : 0.0,
                    }
                    Parameter : 0.009999999776482582,
                    Parameter : 0.3499999940395355,
                    Parameter : 0.6000000238418579,
                    Parameter : 20.0,
                    Parameter : 0.5,
                    Parameter : 0.0,
                    Parameter : 1.0,
                    HueVariance : 0.0,
                    SaturationVariance : 0.0,
                    LightnessVariance : 0.0,
                    OriginOffset{ # Vector3
                        X : 0.0,
                        Y : 0.0,
                        Z : 5.0,
                    }
                }
                LocalSystem : 0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 123,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_1',
                Size : 60.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 124,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_2',
                Size : 40.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 125,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_3',
                Size : 70.0,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -20.0,
            Y : -22.0,
            Width : 40.0,
            Height : 42.0,
        }
        Hidden : 0,
    }
    Scaling : 0.699999988079071,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'firebeetle',
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 1,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Fire Beetle',
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 2,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'laavakonna',
                YRotation : 1.5707963705062866,
                EmissionFactor : 1.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 102,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 103,
                AnimationControllerId : 104,
                DefaultMoveAnimationId : 105,
                RoamAreaId : 0,
                DefaultMoveSpeed : 0.0,
                DefaultAcceleration : 800.0,
                TargetingDistance : 1000.0,
                MovementBehavior : 3,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 103,
            EntityComponent{ # EntityComponent
                FacingDirection : 18446744073709551615,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                    String : $
SoundLibrary.PlayEffect("insect_die2");
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00(\x00\x00\x00SoundLibrary.PlayEffect("insect_die2");\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x02\x05\x00\x00\x00\x05\x00\x00\x00\x06@@\x00A\x80\x00\x00\x1c@\x00\x01\x1e\x00\x80\x00\x03\x00\x00\x00\x04\r\x00\x00\x00SoundLibrary\x00\x04\x0b\x00\x00\x00PlayEffect\x00\x04\x0c\x00\x00\x00insect_die2\x00\x00\x00\x00\x00\x05\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00',
                }
                OnHurt{ # Program
                    String : $
local self =...;
local var = 0;
local incr = 0.3;
while ( var < 1.5) do
    if EntityController.IsIdle(self) then 
        EntityController.PerformAction(self, 135);
    end
    Program.Wait(incr);
    var = var + incr;
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xd7\x00\x00\x00local self =...;\r\nlocal var = 0;\r\nlocal incr = 0.3;\r\nwhile ( var < 1.5) do\r\n\tif EntityController.IsIdle(self) then \r\n\t\tEntityController.PerformAction(self, 135);\r\n\tend\r\n\tProgram.Wait(incr);\r\n\tvar = var + incr;\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x06\x17\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\x18\x80\xc0\x00\x16\x00\x04\x80\xc5\xc0\x00\x00\xc6\x00\xc1\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xda\x00\x00\x00\x16\x00\x01\x80\xc5\xc0\x00\x00\xc6@\xc1\x01\x00\x01\x00\x00A\x81\x01\x00\xdc@\x80\x01\xc5\xc0\x01\x00\xc6\x00\xc2\x01\x00\x01\x00\x01\xdc@\x00\x01L\x80\x80\x00\x16\x00\xfb\x7f\x1e\x00\x80\x00\t\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03333333\xd3?\x03\x00\x00\x00\x00\x00\x00\xf8?\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\xe0`@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x00\x00\x00\x00\x17\x00\x00\x00\x01\x00\x00\x00\x02\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x16\x00\x00\x00\x04\x00\x00\x00var\x00\x02\x00\x00\x00\x16\x00\x00\x00\x05\x00\x00\x00incr\x00\x03\x00\x00\x00\x16\x00\x00\x00\x00\x00\x00\x00',
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 104,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 105,
            Label : 'stand',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'kilpikonna_stand',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 107,
            Label : 'hide',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'kilpikonna_hide',
                Repeating : 0,
                SpeedMultiplier : 1.7000000476837158,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 108,
            Label : 'unhide',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'kilpikonna_unhide',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 109,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -30.0,
                    Y : -23.0,
                    Width : 60.0,
                    Height : 53.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 111,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -35.0,
                    Y : -30.0,
                    Width : 70.0,
                    Height : 65.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                MinDepth : -15.0,
                MaxDepth : 15.0,
                SpecialType : 5,
                Enabled : 0,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 115,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -35.0,
                    Y : -30.0,
                    Width : 35.0,
                    Height : 77.41497802734375,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                MinDepth : -15.0,
                MaxDepth : 15.0,
                SpecialType : 5,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 120,
            Label : 'shoot',
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local shootAnimation = 140;

KeyframeAnimation.SetCurrentTime(self, shootAnimation, 0.0);
AnimationController.BlendToAnimation(self, shootAnimation);

Program.Wait(KeyframeAnimation.TimeToFrame(self, shootAnimation, 16));

local angles = { -40, -12, 12, 40 };

for i=1, #angles do
    local angleOffset = angles[i];
    local projectile = Scene.CreateObject("fireball_ballistic", "projectile", self);

    projectile:setVelocity(Vector3.FromAngle(90 + angleOffset) * 400);

    PhysicsObject.SetGravityDirection(projectile, Vector3.FromAngle(-90 + 0.5 * angleOffset));
end
SoundLibrary.PlayEffect("woosh1");

Program.Wait(KeyframeAnimation.TimeToCompletion(self, shootAnimation));

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xc7\x02\x00\x00local self = ...;\r\n\r\nlocal shootAnimation = 140;\r\n\r\nKeyframeAnimation.SetCurrentTime(self, shootAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, shootAnimation);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, shootAnimation, 16));\r\n\r\nlocal angles = { -40, -12, 12, 40 };\r\n\r\nfor i=1, #angles do\r\n\tlocal angleOffset = angles[i];\r\n\tlocal projectile = Scene.CreateObject("fireball_ballistic", "projectile", self);\r\n\r\n\tprojectile:setVelocity(Vector3.FromAngle(90 + angleOffset) * 400);\r\n\r\n\tPhysicsObject.SetGravityDirection(projectile, Vector3.FromAngle(-90 + 0.5 * angleOffset));\r\nend\r\nSoundLibrary.PlayEffect("woosh1");\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, shootAnimation));\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\rE\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x85@\x00\x00\x86\x80@\x01\xc0\x00\x00\x00\x00\x01\x80\x00A\xc1\x00\x00\x9c@\x00\x02\x85\x00\x01\x00\x86@A\x01\xc0\x00\x00\x00\x00\x01\x80\x00\x9c@\x80\x01\x85\x80\x01\x00\x86\xc0A\x01\xc5@\x00\x00\xc6\x00\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\x81A\x02\x00\xdc\x00\x00\x02\x9c@\x00\x00\x8a\x00\x00\x02\xc1\x80\x02\x00\x01\xc1\x02\x00A\x01\x03\x00\x81A\x03\x00\xa2@\x00\x02\xc1\x80\x03\x00\x14\x01\x00\x01A\x81\x03\x00\xe0\x80\x05\x80\xc6\x81\x01\x01\x05\xc2\x03\x00\x06\x02D\x04AB\x04\x00\x81\x82\x04\x00\xc0\x02\x00\x00\x1c\x82\x00\x02K\xc2D\x04\xc5\x02\x05\x00\xc6B\xc5\x05\x0c\xc3\x01\x8b\xdc\x82\x00\x01\xce\xc2\xc5\x05\\B\x80\x01E\x02\x06\x00FB\xc6\x04\x80\x02\x00\x04\xc5\x02\x05\x00\xc6B\xc5\x05\x0e\xc3\x01\x8d\x0c\x03\x83\x8d\xdc\x02\x00\x01\\B\x00\x00\xdf\xc0\xf9\x7f\xc5\x00\x07\x00\xc6@\xc7\x01\x01\x81\x07\x00\xdc@\x00\x01\xc5\x80\x01\x00\xc6\xc0\xc1\x01\x05A\x00\x00\x06\xc1G\x02@\x01\x00\x00\x80\x01\x80\x00\x1c\x01\x80\x01\xdc@\x00\x00\x1e\x00\x80\x00 \x00\x00\x00\x03\x00\x00\x00\x00\x00\x80a@\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x000@\x03\x00\x00\x00\x00\x00\x00D\xc0\x03\x00\x00\x00\x00\x00\x00(\xc0\x03\x00\x00\x00\x00\x00\x00(@\x03\x00\x00\x00\x00\x00\x00D@\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\x06\x00\x00\x00Scene\x00\x04\r\x00\x00\x00CreateObject\x00\x04\x13\x00\x00\x00fireball_ballistic\x00\x04\x0b\x00\x00\x00projectile\x00\x04\x0c\x00\x00\x00setVelocity\x00\x04\x08\x00\x00\x00Vector3\x00\x04\n\x00\x00\x00FromAngle\x00\x03\x00\x00\x00\x00\x00\x80V@\x03\x00\x00\x00\x00\x00\x00y@\x04\x0e\x00\x00\x00PhysicsObject\x00\x04\x14\x00\x00\x00SetGravityDirection\x00\x03\x00\x00\x00\x00\x00\x00\xe0?\x03\x00\x00\x00\x00\x00\x80V\xc0\x04\r\x00\x00\x00SoundLibrary\x00\x04\x0b\x00\x00\x00PlayEffect\x00\x04\x07\x00\x00\x00woosh1\x00\x04\x11\x00\x00\x00TimeToCompletion\x00\x00\x00\x00\x00E\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x0c\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\t\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00D\x00\x00\x00\x0f\x00\x00\x00shootAnimation\x00\x02\x00\x00\x00D\x00\x00\x00\x07\x00\x00\x00angles\x00\x1c\x00\x00\x00D\x00\x00\x00\x0c\x00\x00\x00(for index)\x00\x1f\x00\x00\x008\x00\x00\x00\x0c\x00\x00\x00(for limit)\x00\x1f\x00\x00\x008\x00\x00\x00\x0b\x00\x00\x00(for step)\x00\x1f\x00\x00\x008\x00\x00\x00\x02\x00\x00\x00i\x00 \x00\x00\x007\x00\x00\x00\x0c\x00\x00\x00angleOffset\x00!\x00\x00\x007\x00\x00\x00\x0b\x00\x00\x00projectile\x00\'\x00\x00\x007\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 125,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;

local timeToAttack = 0;
local updateInterval = 0.3;

while true do 
    Program.Wait(updateInterval);

    timeToAttack = timeToAttack - updateInterval;

    if EntityController.IsIdle(self) then 
        if timeToAttack < 0.0 then
            timeToAttack = 2.0;
            EntityController.PerformAction(self, 120);
        end
    end
end

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00R\x01\x00\x00local self = ...;\r\n\r\nlocal timeToAttack = 0;\r\nlocal updateInterval = 0.3;\r\n\r\nwhile true do \r\n\tProgram.Wait(updateInterval);\r\n\r\n\ttimeToAttack = timeToAttack - updateInterval;\r\n\r\n\tif EntityController.IsIdle(self) then \r\n\t\tif timeToAttack < 0.0 then\r\n\t\t\ttimeToAttack = 2.0;\r\n\t\t\tEntityController.PerformAction(self, 120);\r\n\t\tend\r\n\tend\r\nend\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x06\x18\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x00\x01\x00\x01\xdc@\x00\x01M\x80\x80\x00\xc5\x00\x01\x00\xc6@\xc1\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xda\x00\x00\x00\x16\x00\xfd\x7f\x18\x00\xc0\x00\x16\x80\xfc\x7fA\x80\x01\x00\xc5\x00\x01\x00\xc6\xc0\xc1\x01\x00\x01\x00\x00A\x01\x02\x00\xdc@\x80\x01\x16\xc0\xfa\x7f\x1e\x00\x80\x00\t\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03333333\xd3?\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00IsIdle\x00\x03\x00\x00\x00\x00\x00\x00\x00@\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x00^@\x00\x00\x00\x00\x18\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x17\x00\x00\x00\r\x00\x00\x00timeToAttack\x00\x02\x00\x00\x00\x17\x00\x00\x00\x0f\x00\x00\x00updateInterval\x00\x03\x00\x00\x00\x17\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 130,
            HealthComponent{ # HealthComponent
                MaxHealth : 5,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 135,
            Label : 'hide',
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local hideAnimation = 107;
local unhideAnimation = 108;

Program.Wait(0.5);

KeyframeAnimation.SetCurrentTime(self, hideAnimation, 0.0);
AnimationController.BlendToAnimation(self, hideAnimation);

Program.Wait(KeyframeAnimation.TimeToFrame(self, hideAnimation, 15));

CollisionShape.SetEnabled(self, 111, true);

Program.Wait(KeyframeAnimation.TimeToFrame(self, hideAnimation, 23));

KeyframeAnimation.SetRunning(self, hideAnimation, false);

Program.Wait(3);

KeyframeAnimation.SetRunning(self, hideAnimation, true);

AnimationController.BlendToAnimation(self, unhideAnimation);

Program.Wait(KeyframeAnimation.TimeToFrame(self, unhideanimation, 23));

CollisionShape.SetEnabled(self, 111, false);

Program.Wait(KeyframeAnimation.TimeToCompletion(self, unhideAnimation));


$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x008\x03\x00\x00local self = ...;\r\n\r\nlocal hideAnimation = 107;\r\nlocal unhideAnimation = 108;\r\n\r\nProgram.Wait(0.5);\r\n\r\nKeyframeAnimation.SetCurrentTime(self, hideAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, hideAnimation);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, hideAnimation, 15));\r\n\r\nCollisionShape.SetEnabled(self, 111, true);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, hideAnimation, 23));\r\n\r\nKeyframeAnimation.SetRunning(self, hideAnimation, false);\r\n\r\nProgram.Wait(3);\r\n\r\nKeyframeAnimation.SetRunning(self, hideAnimation, true);\r\n\r\nAnimationController.BlendToAnimation(self, unhideAnimation);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, unhideanimation, 23));\r\n\r\nCollisionShape.SetEnabled(self, 111, false);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, unhideAnimation));\r\n\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x08W\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x01\x01\x01\x00\xdc@\x00\x01\xc5@\x01\x00\xc6\x80\xc1\x01\x00\x01\x00\x00@\x01\x80\x00\x81\xc1\x01\x00\xdc@\x00\x02\xc5\x00\x02\x00\xc6@\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\xdc@\x80\x01\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x05A\x01\x00\x06\x81B\x02@\x01\x00\x00\x80\x01\x80\x00\xc1\xc1\x02\x00\x1c\x01\x00\x02\xdc@\x00\x00\xc5\x00\x03\x00\xc6@\xc3\x01\x00\x01\x00\x00A\x81\x03\x00\x82\x01\x80\x00\xdc@\x00\x02\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x05A\x01\x00\x06\x81B\x02@\x01\x00\x00\x80\x01\x80\x00\xc1\xc1\x03\x00\x1c\x01\x00\x02\xdc@\x00\x00\xc5@\x01\x00\xc6\x00\xc4\x01\x00\x01\x00\x00@\x01\x80\x00\x82\x01\x00\x00\xdc@\x00\x02\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x01A\x04\x00\xdc@\x00\x01\xc5@\x01\x00\xc6\x00\xc4\x01\x00\x01\x00\x00@\x01\x80\x00\x82\x01\x80\x00\xdc@\x00\x02\xc5\x00\x02\x00\xc6@\xc2\x01\x00\x01\x00\x00@\x01\x00\x01\xdc@\x80\x01\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x05A\x01\x00\x06\x81B\x02@\x01\x00\x00\x85\x81\x04\x00\xc1\xc1\x03\x00\x1c\x01\x00\x02\xdc@\x00\x00\xc5\x00\x03\x00\xc6@\xc3\x01\x00\x01\x00\x00A\x81\x03\x00\x82\x01\x00\x00\xdc@\x00\x02\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x05A\x01\x00\x06\xc1D\x02@\x01\x00\x00\x80\x01\x00\x01\x1c\x01\x80\x01\xdc@\x00\x00\x1e\x00\x80\x00\x14\x00\x00\x00\x03\x00\x00\x00\x00\x00\xc0Z@\x03\x00\x00\x00\x00\x00\x00[@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x00\x00\x00\x00\x00\x00\xe0?\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00.@\x04\x0f\x00\x00\x00CollisionShape\x00\x04\x0b\x00\x00\x00SetEnabled\x00\x03\x00\x00\x00\x00\x00\xc0[@\x03\x00\x00\x00\x00\x00\x007@\x04\x0b\x00\x00\x00SetRunning\x00\x03\x00\x00\x00\x00\x00\x00\x08@\x04\x10\x00\x00\x00unhideanimation\x00\x04\x11\x00\x00\x00TimeToCompletion\x00\x00\x00\x00\x00W\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00V\x00\x00\x00\x0e\x00\x00\x00hideAnimation\x00\x02\x00\x00\x00V\x00\x00\x00\x10\x00\x00\x00unhideAnimation\x00\x03\x00\x00\x00V\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 140,
            Label : 'shoot',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'piikkikonna_shoot',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -35.0,
            Y : -30.0,
            Width : 70.0,
            Height : 77.41497802734375,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'fireblock',
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 1,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Burning Charger',
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'woodblock',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.16862745583057404,
                    G : 0.08235294371843338,
                    B : 0.007843137718737125,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 0.5222222208976746,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 103,
            EntityComponent{ # EntityComponent
                FacingDirection : 18446744073709551615,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 104,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'woodblock_sleep',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 105,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'woodblock_charge',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 106,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'woodblock_run',
                Repeating : 1,
                SpeedMultiplier : 4.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 107,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'woodblock_stop',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 108,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 109,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 110,
            HealthComponent{ # HealthComponent
                MaxHealth : 3,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 111,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -30.0,
                    Y : -0.0,
                    Width : 65.0,
                    Height : 100.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 114,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 103,
                AnimationControllerId : 108,
                DefaultMoveAnimationId : 104,
                RoamAreaId : 0,
                DefaultMoveSpeed : 400.0,
                DefaultAcceleration : 800.0,
                TargetingDistance : 350.0,
                MovementBehavior : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 115,
            Label : 'charge',
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local chargeAnimation = 105;
local runAnimation = 106;
local stopAnimation = 107;

local target = EntityController.Target(self);
local direction = DirectionToTargetFromPosition(target:position(), self:position());

EntityController.SetFacingDirection(self, direction);
EntityController.SetMoveDirection(self, direction);


KeyframeAnimation.SetCurrentTime(self, chargeAnimation, 0);
AnimationController.BlendToAnimation(self, chargeAnimation);
Program.Wait(KeyframeAnimation.TimeToCompletion(self, chargeAnimation));


AnimationController.BlendToAnimation(self, runAnimation);
EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));


while (target:position():x() - self:position():x()) * direction > 0 do
    Program.Wait(0.2);
    if Math.RandomInt(1,5) == 5 then 
        local projectile = Scene.CreateObject("fireball_ballistic", "projectile", self);
        projectile:setVelocity(Vector3.FromAngle(90) * 550+ Vector3.New(Math.RandomInt(-200,200),0,0));
        PhysicsObject.SetGravityDirection(projectile, Vector3.FromAngle(-90));
        SoundLibrary.PlayEffect("woosh1");
    end

end

Program.Wait(0.1);

EntityController.SetMoveSpeed(self, 0);


KeyframeAnimation.SetCurrentTime(self, stopAnimation, 0);
AnimationController.BlendToAnimation(self, stopAnimation);
Program.Wait(KeyframeAnimation.TimeToCompletion(self, stopAnimation));

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00t\x05\x00\x00local self = ...;\r\n\r\nlocal chargeAnimation = 105;\r\nlocal runAnimation = 106;\r\nlocal stopAnimation = 107;\r\n\r\nlocal target = EntityController.Target(self);\r\nlocal direction = DirectionToTargetFromPosition(target:position(), self:position());\r\n\r\nEntityController.SetFacingDirection(self, direction);\r\nEntityController.SetMoveDirection(self, direction);\r\n\r\n\r\nKeyframeAnimation.SetCurrentTime(self, chargeAnimation, 0);\r\nAnimationController.BlendToAnimation(self, chargeAnimation);\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, chargeAnimation));\r\n\r\n\r\nAnimationController.BlendToAnimation(self, runAnimation);\r\nEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\r\n\r\n\r\nwhile (target:position():x() - self:position():x()) * direction > 0 do\r\n\tProgram.Wait(0.2);\r\n\tif Math.RandomInt(1,5) == 5 then \r\n\t\tlocal projectile = Scene.CreateObject("fireball_ballistic", "projectile", self);\r\n\t\tprojectile:setVelocity(Vector3.FromAngle(90) * 550+ Vector3.New(Math.RandomInt(-200,200),0,0));\r\n\t\tPhysicsObject.SetGravityDirection(projectile, Vector3.FromAngle(-90));\r\n\t\tSoundLibrary.PlayEffect("woosh1");\r\n\tend\r\n\r\nend\r\n\r\nProgram.Wait(0.1);\r\n\r\nEntityController.SetMoveSpeed(self, 0);\r\n\r\n\r\nKeyframeAnimation.SetCurrentTime(self, stopAnimation, 0);\r\nAnimationController.BlendToAnimation(self, stopAnimation);\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, stopAnimation));\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x0e\x91\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\xc1\x80\x00\x00\x05\xc1\x00\x00\x06\x01A\x02@\x01\x00\x00\x1c\x81\x00\x01EA\x01\x00\x8b\x81A\x02\x9c\x81\x00\x01\xcb\x81A\x00\xdc\x01\x00\x01\\\x81\x00\x00\x85\xc1\x00\x00\x86\xc1A\x03\xc0\x01\x00\x00\x00\x02\x80\x02\x9cA\x80\x01\x85\xc1\x00\x00\x86\x01B\x03\xc0\x01\x00\x00\x00\x02\x80\x02\x9cA\x80\x01\x85A\x02\x00\x86\x81B\x03\xc0\x01\x00\x00\x00\x02\x80\x00A\xc2\x02\x00\x9cA\x00\x02\x85\x01\x03\x00\x86AC\x03\xc0\x01\x00\x00\x00\x02\x80\x00\x9cA\x80\x01\x85\x81\x03\x00\x86\xc1C\x03\xc5A\x02\x00\xc6\x01\xc4\x03\x00\x02\x00\x00@\x02\x80\x00\xdc\x01\x80\x01\x9cA\x00\x00\x85\x01\x03\x00\x86AC\x03\xc0\x01\x00\x00\x00\x02\x00\x01\x9cA\x80\x01\x85\xc1\x00\x00\x86AD\x03\xc0\x01\x00\x00\x05\xc2\x00\x00\x06\x82D\x04@\x02\x00\x00\x1c\x02\x00\x01\x9cA\x00\x00\x8b\x81A\x02\x9c\x81\x00\x01\x8b\xc1D\x03\x9c\x81\x00\x01\xcb\x81A\x00\xdc\x81\x00\x01\xcb\xc1\xc4\x03\xdc\x81\x00\x01\x8d\xc1\x01\x03\x8eA\x01\x03\x18\x80\x81\x85\x16\xc0\x0b\x80\x85\x81\x03\x00\x86\xc1C\x03\xc1\x01\x05\x00\x9cA\x00\x01\x85A\x05\x00\x86\x81E\x03\xc1\xc1\x05\x00\x01\x02\x06\x00\x9c\x81\x80\x01\x17\x00F\x03\x16\x00\xfa\x7f\x85A\x06\x00\x86\x81F\x03\xc1\xc1\x06\x00\x01\x02\x07\x00@\x02\x00\x00\x9c\x81\x00\x02\xcbAG\x03E\x82\x07\x00F\xc2\xc7\x04\x81\x02\x08\x00\\\x82\x00\x01NB\xc8\x04\x85\x82\x07\x00\x86\x82H\x05\xc5B\x05\x00\xc6\x82\xc5\x05\x01\xc3\x08\x00A\x03\t\x00\xdc\x82\x80\x01\x01\xc3\x02\x00A\xc3\x02\x00\x9c\x82\x00\x02L\x82\x82\x04\xdcA\x80\x01\xc5A\t\x00\xc6\x81\xc9\x03\x00\x02\x00\x03E\x82\x07\x00F\xc2\xc7\x04\x81\xc2\t\x00\\\x02\x00\x01\xdcA\x00\x00\xc5\x01\n\x00\xc6A\xca\x03\x01\x82\n\x00\xdcA\x00\x01\x16\xc0\xf0\x7f\x85\x81\x03\x00\x86\xc1C\x03\xc1\xc1\n\x00\x9cA\x00\x01\x85\xc1\x00\x00\x86AD\x03\xc0\x01\x00\x00\x01\xc2\x02\x00\x9cA\x80\x01\x85A\x02\x00\x86\x81B\x03\xc0\x01\x00\x00\x00\x02\x80\x01A\xc2\x02\x00\x9cA\x00\x02\x85\x01\x03\x00\x86AC\x03\xc0\x01\x00\x00\x00\x02\x80\x01\x9cA\x80\x01\x85\x81\x03\x00\x86\xc1C\x03\xc5A\x02\x00\xc6\x01\xc4\x03\x00\x02\x00\x00@\x02\x80\x01\xdc\x01\x80\x01\x9cA\x00\x00\x1e\x00\x80\x00,\x00\x00\x00\x03\x00\x00\x00\x00\x00@Z@\x03\x00\x00\x00\x00\x00\x80Z@\x03\x00\x00\x00\x00\x00\xc0Z@\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x1e\x00\x00\x00DirectionToTargetFromPosition\x00\x04\t\x00\x00\x00position\x00\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\x11\x00\x00\x00SetMoveDirection\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x11\x00\x00\x00TimeToCompletion\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x04\x02\x00\x00\x00x\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x05\x00\x00\x00Math\x00\x04\n\x00\x00\x00RandomInt\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x03\x00\x00\x00\x00\x00\x00\x14@\x04\x06\x00\x00\x00Scene\x00\x04\r\x00\x00\x00CreateObject\x00\x04\x13\x00\x00\x00fireball_ballistic\x00\x04\x0b\x00\x00\x00projectile\x00\x04\x0c\x00\x00\x00setVelocity\x00\x04\x08\x00\x00\x00Vector3\x00\x04\n\x00\x00\x00FromAngle\x00\x03\x00\x00\x00\x00\x00\x80V@\x03\x00\x00\x00\x00\x000\x81@\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\x00i\xc0\x03\x00\x00\x00\x00\x00\x00i@\x04\x0e\x00\x00\x00PhysicsObject\x00\x04\x14\x00\x00\x00SetGravityDirection\x00\x03\x00\x00\x00\x00\x00\x80V\xc0\x04\r\x00\x00\x00SoundLibrary\x00\x04\x0b\x00\x00\x00PlayEffect\x00\x04\x07\x00\x00\x00woosh1\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x00\x00\x00\x00\x91\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1e\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00\'\x00\x00\x00\'\x00\x00\x00\'\x00\x00\x00\'\x00\x00\x00\'\x00\x00\x00\'\x00\x00\x00(\x00\x00\x00(\x00\x00\x00(\x00\x00\x00(\x00\x00\x00(\x00\x00\x00)\x00\x00\x00)\x00\x00\x00)\x00\x00\x00)\x00\x00\x00)\x00\x00\x00)\x00\x00\x00)\x00\x00\x00)\x00\x00\x00)\x00\x00\x00\x07\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x90\x00\x00\x00\x10\x00\x00\x00chargeAnimation\x00\x02\x00\x00\x00\x90\x00\x00\x00\r\x00\x00\x00runAnimation\x00\x03\x00\x00\x00\x90\x00\x00\x00\x0e\x00\x00\x00stopAnimation\x00\x04\x00\x00\x00\x90\x00\x00\x00\x07\x00\x00\x00target\x00\x08\x00\x00\x00\x90\x00\x00\x00\n\x00\x00\x00direction\x00\x0e\x00\x00\x00\x90\x00\x00\x00\x0b\x00\x00\x00projectile\x00U\x00\x00\x00s\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 116,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;

local timeSinceCharge = 10;

EntityController.SetMoveSpeed(self, 0);

while true do
    Program.Wait(0.1);
    timeSinceCharge = timeSinceCharge + 0.1;

    local target = EntityController.Target(self);

    if EntityController.IsIdle(self) and target ~= nil then
        if timeSinceCharge > 3.5 or Math.Abs(target:position():x() - self:position():x()) > 300 then
            timeSinceCharge = 0;
            EntityController.PerformAction(self, 115);
        end
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xd5\x01\x00\x00local self = ...;\r\n\r\nlocal timeSinceCharge = 10;\r\n\r\nEntityController.SetMoveSpeed(self, 0);\r\n\r\nwhile true do\r\n\tProgram.Wait(0.1);\r\n\ttimeSinceCharge = timeSinceCharge + 0.1;\r\n\r\n\tlocal target = EntityController.Target(self);\r\n\r\n\tif EntityController.IsIdle(self) and target ~= nil then\r\n\t\tif timeSinceCharge > 3.5 or Math.Abs(target:position():x() - self:position():x()) > 300 then\r\n\t\t\ttimeSinceCharge = 0;\r\n\t\t\tEntityController.PerformAction(self, 115);\r\n\t\tend\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x070\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x85@\x00\x00\x86\x80@\x01\xc0\x00\x00\x00\x01\xc1\x00\x00\x9c@\x80\x01\x85\x00\x01\x00\x86@A\x01\xc1\x80\x01\x00\x9c@\x00\x01L\x80\xc1\x00\x85@\x00\x00\x86\xc0A\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\xc5@\x00\x00\xc6\x00\xc2\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xda\x00\x00\x00\x16\x00\xfc\x7fW@B\x01\x16\x80\xfb\x7fX@\x00\x85\x16@\x03\x80\xc5\xc0\x02\x00\xc6\x00\xc3\x01\x0bAC\x01\x1c\x81\x00\x01\x0b\x81C\x02\x1c\x81\x00\x01KAC\x00\\\x81\x00\x01K\x81\xc3\x02\\\x81\x00\x01\rA\x01\x02\xdc\x80\x00\x01\x18\xc0\x80\x87\x16\x80\xf7\x7fA\xc0\x00\x00\xc5@\x00\x00\xc6\x00\xc4\x01\x00\x01\x00\x00AA\x04\x00\xdc@\x80\x01\x16\xc0\xf5\x7f\x1e\x00\x80\x00\x12\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00$@\x04\x11\x00\x00\x00EntityController\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x07\x00\x00\x00Target\x00\x04\x07\x00\x00\x00IsIdle\x00\x00\x03\x00\x00\x00\x00\x00\x00\x0c@\x04\x05\x00\x00\x00Math\x00\x04\x04\x00\x00\x00Abs\x00\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\xc0r@\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\xc0\\@\x00\x00\x00\x000\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x12\x00\x00\x00\x13\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00/\x00\x00\x00\x10\x00\x00\x00timeSinceCharge\x00\x02\x00\x00\x00/\x00\x00\x00\x07\x00\x00\x00target\x00\x10\x00\x00\x00.\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 120,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 121,
                ParticleId : 122,
                ParticleId : 123,
                ModelBindingId : 0,
                MaxParticles : 140,
                ParentEmitterId : 0,
                DestroyWhenFinished : 0,
                Emitter{ # ParticleEmitter
                    Type : 3,
                    BaseColor{ # FloatColor
                        R : 0.4888888895511627,
                        G : 0.26324790716171265,
                        B : 0.0,
                        A : 0.0,
                    }
                    Parameter : 0.009999999776482582,
                    Parameter : 0.6000000238418579,
                    Parameter : 1.2000000476837158,
                    Parameter : 50.0,
                    Parameter : 0.44999998807907104,
                    Parameter : 0.0,
                    Parameter : 1.0,
                    HueVariance : 0.0,
                    SaturationVariance : 0.0,
                    LightnessVariance : 0.0,
                    OriginOffset{ # Vector3
                        X : 0.0,
                        Y : 70.0,
                        Z : 50.0,
                    }
                }
                LocalSystem : 0,
                Gravity{ # Vector3
                    X : 0.0,
                    Y : 500.0,
                    Z : 0.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 121,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_1',
                Size : 40.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 122,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_2',
                Size : 30.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 123,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_3',
                Size : 20.0,
            }
        }
        Component{ # Component
            ClassName : 'SimpleGlow',
            Identifier : 135,
            SimpleGlowComponent{ # SimpleGlowComponent
                Color{ # FloatColor
                    R : 0.7222222089767456,
                    G : 0.45555558800697327,
                    B : 0.0,
                    A : 0.5,
                }
                Size : 80.0,
                NumSegments : 10,
                Depth : 15.0,
                PulseAmount : 0.15000000596046448,
                PulseTime : 0.800000011920929,
                Offset{ # Vector2
                    X : -5.0,
                    Y : 60.0,
                }
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -80.0,
            Y : -80.0,
            Width : 160.0,
            Height : 180.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'firegolem',
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'firegolem',
                YRotation : 1.5707963705062866,
                EmissionFactor : 1.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'golem_small_walk',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 107,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 109,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'UtilityShape',
            Identifier : 111,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -500.0,
                    Y : 0.0,
                    Width : 1000.0,
                    Height : 150.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 114,
            HealthComponent{ # HealthComponent
                MaxHealth : 6,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 117,
            DamageComponent{ # DamageComponent
                MinDamage : 2,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 120,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -20.0,
                    Y : -0.8058220148086548,
                    Width : 40.0,
                    Height : 100.80582427978516,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 128,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'golem_small_attack3begin',
                Repeating : 0,
                SpeedMultiplier : 1.2000000476837158,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 132,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'golem_small_charge',
                Repeating : 1,
                SpeedMultiplier : 1.7999999523162842,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'BoneControlledCollisionShape',
            Identifier : 136,
            ShapeComponent{ # ShapeComponent
                Circle{ # Circle
                    Center{ # Vector2
                        X : 0.0,
                        Y : 0.0,
                    }
                    Radius : 30.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                InflictsDamage : 1,
                MinDepth : -23.0,
                MaxDepth : 23.0,
                Enabled : 1,
            }
            BoneControlledCollisionShapeComponent{ # BoneControlledCollisionShapeComponent
                ControllingModelId : 101,
                ControllingBoneName : 'BoneRightHand3',
            }
        }
        Component{ # Component
            ClassName : 'BoneControlledCollisionShape',
            Identifier : 141,
            ShapeComponent{ # ShapeComponent
                Circle{ # Circle
                    Center{ # Vector2
                        X : 0.0,
                        Y : 0.0,
                    }
                    Radius : 30.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                MinDepth : -23.0,
                MaxDepth : 23.0,
                Enabled : 1,
            }
            BoneControlledCollisionShapeComponent{ # BoneControlledCollisionShapeComponent
                ControllingModelId : 101,
                ControllingBoneName : 'BoneLeftHand3',
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 147,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 109,
                AnimationControllerId : 107,
                DefaultMoveAnimationId : 103,
                RoamAreaId : 111,
                DefaultMoveSpeed : 70.0,
                DefaultAcceleration : 800.0,
                TargetingDistance : 1000.0,
                MovementBehavior : 4,
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 148,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;



while true do
    local target = EntityController.Target(self);
    Program.Wait(1+Math.RandomFloat(0.5,1.0));
    if target ~= nil then
        if EntityController.IsIdle(self) then
            EntityController.PerformAction(self, 149);
        end
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x06\x01\x00\x00local self = ...;\r\n\r\n\r\n\r\nwhile true do\r\n\tlocal target = EntityController.Target(self);\r\n\tProgram.Wait(1+Math.RandomFloat(0.5,1.0));\r\n\tif target ~= nil then\r\n\t\tif EntityController.IsIdle(self) then\r\n\t\t\tEntityController.PerformAction(self, 149);\r\n\t\tend\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x06\x1d\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x85\x80\x00\x00\x86\xc0@\x01\xc5\x00\x01\x00\xc6@\xc1\x01\x01\x81\x01\x00A\xc1\x01\x00\xdc\x80\x80\x01\xcc\xc0\x80\x83\x9c@\x00\x01W\x00\xc2\x00\x16\x00\xfc\x7f\x85\x00\x00\x00\x86@B\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\x9a\x00\x00\x00\x16\x80\xfa\x7f\x85\x00\x00\x00\x86\x80B\x01\xc0\x00\x00\x00\x01\xc1\x02\x00\x9c@\x80\x01\x16\x00\xf9\x7f\x1e\x00\x80\x00\x0c\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x05\x00\x00\x00Math\x00\x04\x0c\x00\x00\x00RandomFloat\x00\x03\x00\x00\x00\x00\x00\x00\xe0?\x03\x00\x00\x00\x00\x00\x00\xf0?\x00\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\xa0b@\x00\x00\x00\x00\x1d\x00\x00\x00\x01\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x1c\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00\x1b\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 149,
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local target = EntityController.Target(self);

local attackBegin = 128;
local attackRun = 132;

local targetDirection = 1;

if ( target:position():x() < self:position():x() ) then
    targetDirection = -1;    
end

EntityController.SetMovementBehavior(self, "none");

EntityController.SetMoveSpeed(self, 0);
EntityController.SetMoveDirection(self, targetDirection);
EntityController.SetFacingDirection(self, targetDirection);

KeyframeAnimation.SetCurrentTime(self, attackBegin, 0.0);
AnimationController.BlendToAnimation(self, attackBegin);

Program.Wait(0.4);

KeyframeAnimation.SetCurrentTime(self, attackRun, 0.0);
AnimationController.BlendToAnimation(self, attackRun);

EntityController.SetMoveSpeed(self, 200 );

Program.Wait(3);

Program.Wait(KeyframeAnimation.TimeToCompletion(self, attackRun));

EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));

EntityController.SetMovementBehavior(self, "fight");
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xd9\x03\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nlocal attackBegin = 128;\r\nlocal attackRun = 132;\r\n\r\nlocal targetDirection = 1;\r\n\r\nif ( target:position():x() < self:position():x() ) then\r\n\ttargetDirection = -1;\t\r\nend\r\n\r\nEntityController.SetMovementBehavior(self, "none");\r\n\r\nEntityController.SetMoveSpeed(self, 0);\r\nEntityController.SetMoveDirection(self, targetDirection);\r\nEntityController.SetFacingDirection(self, targetDirection);\r\n\r\nKeyframeAnimation.SetCurrentTime(self, attackBegin, 0.0);\r\nAnimationController.BlendToAnimation(self, attackBegin);\r\n\r\nProgram.Wait(0.4);\r\n\r\nKeyframeAnimation.SetCurrentTime(self, attackRun, 0.0);\r\nAnimationController.BlendToAnimation(self, attackRun);\r\n\r\nEntityController.SetMoveSpeed(self, 200 );\r\n\r\nProgram.Wait(3);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, attackRun));\r\n\r\nEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\r\n\r\nEntityController.SetMovementBehavior(self, "fight");\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\t`\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x81\x80\x00\x00\xc1\xc0\x00\x00\x01\x01\x01\x00KA\xc1\x00\\\x81\x00\x01K\x81\xc1\x02\\\x81\x00\x01\x8bAA\x00\x9c\x81\x00\x01\x8b\x81A\x03\x9c\x81\x00\x01\x18\x80\x81\x02\x16\x00\x00\x80\x01\xc1\x01\x00E\x01\x00\x00F\x01\xc2\x02\x80\x01\x00\x00\xc1A\x02\x00\\A\x80\x01E\x01\x00\x00F\x81\xc2\x02\x80\x01\x00\x00\xc1\xc1\x02\x00\\A\x80\x01E\x01\x00\x00F\x01\xc3\x02\x80\x01\x00\x00\xc0\x01\x00\x02\\A\x80\x01E\x01\x00\x00FA\xc3\x02\x80\x01\x00\x00\xc0\x01\x00\x02\\A\x80\x01E\x81\x03\x00F\xc1\xc3\x02\x80\x01\x00\x00\xc0\x01\x00\x01\x01\xc2\x02\x00\\A\x00\x02E\x01\x04\x00FA\xc4\x02\x80\x01\x00\x00\xc0\x01\x00\x01\\A\x80\x01E\x81\x04\x00F\xc1\xc4\x02\x81\x01\x05\x00\\A\x00\x01E\x81\x03\x00F\xc1\xc3\x02\x80\x01\x00\x00\xc0\x01\x80\x01\x01\xc2\x02\x00\\A\x00\x02E\x01\x04\x00FA\xc4\x02\x80\x01\x00\x00\xc0\x01\x80\x01\\A\x80\x01E\x01\x00\x00F\x81\xc2\x02\x80\x01\x00\x00\xc1A\x05\x00\\A\x80\x01E\x81\x04\x00F\xc1\xc4\x02\x81\x81\x05\x00\\A\x00\x01E\x81\x04\x00F\xc1\xc4\x02\x85\x81\x03\x00\x86\xc1E\x03\xc0\x01\x00\x00\x00\x02\x80\x01\x9c\x01\x80\x01\\A\x00\x00E\x01\x00\x00F\x81\xc2\x02\x80\x01\x00\x00\xc5\x01\x00\x00\xc6\x01\xc6\x03\x00\x02\x00\x00\xdc\x01\x00\x01\\A\x00\x00E\x01\x00\x00F\x01\xc2\x02\x80\x01\x00\x00\xc1A\x06\x00\\A\x80\x01\x1e\x00\x80\x00\x1a\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x03\x00\x00\x00\x00\x00\x00`@\x03\x00\x00\x00\x00\x00\x80`@\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x14\x00\x00\x00SetMovementBehavior\x00\x04\x05\x00\x00\x00none\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x11\x00\x00\x00SetMoveDirection\x00\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xd9?\x03\x00\x00\x00\x00\x00\x00i@\x03\x00\x00\x00\x00\x00\x00\x08@\x04\x11\x00\x00\x00TimeToCompletion\x00\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x04\x06\x00\x00\x00fight\x00\x00\x00\x00\x00`\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0b\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00_\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00_\x00\x00\x00\x0c\x00\x00\x00attackBegin\x00\x06\x00\x00\x00_\x00\x00\x00\n\x00\x00\x00attackRun\x00\x07\x00\x00\x00_\x00\x00\x00\x10\x00\x00\x00targetDirection\x00\x08\x00\x00\x00_\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'SimpleGlow',
            Identifier : 155,
            SimpleGlowComponent{ # SimpleGlowComponent
                Color{ # FloatColor
                    R : 0.47777777910232544,
                    G : 0.30000004172325134,
                    B : 0.0,
                    A : 0.5,
                }
                Size : 60.0,
                NumSegments : 10,
                Depth : 15.0,
                PulseAmount : 0.15000000596046448,
                PulseTime : 0.800000011920929,
                Offset{ # Vector2
                    X : 0.0,
                    Y : 80.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 156,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 159,
                ParticleId : 160,
                ParticleId : 161,
                ModelBindingId : 0,
                MaxParticles : 60,
                ParentEmitterId : 0,
                DestroyWhenFinished : 0,
                LocalSystem : 0,
            }
        }
        Component{ # Component
            ClassName : 'FireEmitter',
            Identifier : 157,
            FireEmitterComponent{ # FireEmitterComponent
                ParticleEmitterId : 156,
                LightId : 158,
                Color{ # FloatColor
                    R : 0.8777777552604675,
                    G : 0.36888888478279114,
                    B : 0.0,
                    A : 0.0,
                }
                ParticleInterval : 0.009999999776482582,
                ParticleMaxAge : 0.3499999940395355,
                ParticleSpread{ # Vector3
                    X : 20.0,
                    Y : 50.0,
                    Z : 30.0,
                }
                Origin3{ # Vector3
                    X : 0.0,
                    Y : 70.0,
                    Z : 0.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Light',
            Identifier : 158,
            LightComponent{ # LightComponent
                Type : 3,
                Intensity : 2.0,
                Color{ # FloatColor
                    R : 1.0,
                    G : 0.7333333492279053,
                    B : 0.36666667461395264,
                    A : 1.0,
                }
                LinearAttenuation : 0.0,
                QuadraticAttenuation : 0.00019999999494757503,
                Offset{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Radius : 350.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 159,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_1',
                Size : 18.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 160,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_2',
                Size : 27.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 161,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_3',
                Size : 23.0,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -150.0,
            Y : -150.0,
            Width : 300.0,
            Height : 300.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'generic_shadowform',
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'boss1_shadowform',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 102,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'boss1_shadowform_move',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'boss1_shadowform_spinstart',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 104,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'boss1_shadowform_spin',
                Repeating : 1,
                SpeedMultiplier : 2.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 106,
            DamageComponent{ # DamageComponent
                MinDamage : 4,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 107,
            HealthComponent{ # HealthComponent
                MaxHealth : 4,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 108,
            EntityComponent{ # EntityComponent
                FacingDirection : 18446744073709551615,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 109,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -40.0,
                    Y : 0.0,
                    Width : 80.0,
                    Height : 100.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 111,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'GenericMonsterController',
            Identifier : 114,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 100.0,
                AnimationControllerId : 111,
                EntityId : 108,
                RoamAreaId : 0,
            }
            GenericMonsterControllerComponent{ # GenericMonsterControllerComponent
                WalkAnimationId : 102,
            }
        }
        Component{ # Component
            ClassName : 'Attack',
            Identifier : 116,
            AttackComponent{ # AttackComponent
                AnimationId : 104,
                CollisionShapeId : 117,
                AttackAreaId : 0,
                SoundEffectId : 0,
                AttackInterval : 1.0,
                AttackDuration : 2.0,
                DamageStartTime : 0.0,
                DamageEndTime : 2.0,
                AnimationStartBlendTime : 0.0,
                AnimationEndBlendTime : 0.5,
                OnAttack{ # Program
                }
                DamageStartTime2 : 0.0,
                DamageEndTime2 : 0.0,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 117,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -200.0,
                    Y : 30.0,
                    Width : 400.0,
                    Height : 40.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -200.0,
            Y : 0.0,
            Width : 400.0,
            Height : 100.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'grasswalker',
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 1,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Grasswalker',
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'grasswalker',
                YRotation : 0.0,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'WalkingMonsterController',
            Identifier : 103,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 60.0,
                AnimationControllerId : 107,
                EntityId : 104,
                RoamAreaId : 108,
            }
            WalkingMonsterControllerComponent{ # WalkingMonsterControllerComponent
                WalkAnimationId : 105,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 104,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                    String : $
SoundLibrary.PlayEffect("insect_die2");
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00(\x00\x00\x00SoundLibrary.PlayEffect("insect_die2");\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x02\x05\x00\x00\x00\x05\x00\x00\x00\x06@@\x00A\x80\x00\x00\x1c@\x00\x01\x1e\x00\x80\x00\x03\x00\x00\x00\x04\r\x00\x00\x00SoundLibrary\x00\x04\x0b\x00\x00\x00PlayEffect\x00\x04\x0c\x00\x00\x00insect_die2\x00\x00\x00\x00\x00\x05\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00',
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 105,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'grasswalker_walk',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 107,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'UtilityShape',
            Identifier : 108,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -200.0,
                    Y : -100.0,
                    Width : 400.0,
                    Height : 300.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 110,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -20.0,
                    Y : 4.0,
                    Width : 40.0,
                    Height : 56.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 112,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 113,
            HealthComponent{ # HealthComponent
                MaxHealth : 2,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -20.0,
            Y : 0.0,
            Width : 40.0,
            Height : 60.0,
        }
        Hidden : 0,
    }
    Scaling : 0.7799999713897705,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'grasswalker_wasteland',
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 1,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Wastewalker',
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 101,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 106,
                AnimationControllerId : 104,
                DefaultMoveAnimationId : 103,
                RoamAreaId : 0,
                DefaultMoveSpeed : 60.0,
                DefaultAcceleration : 1000.0,
                TargetingDistance : 1000.0,
                MovementBehavior : 4,
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 102,
            ModelComponent{ # ModelComponent
                Name : 'grasswalker_wasteland',
                YRotation : 0.0,
                EmissionFactor : 0.4000000059604645,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.3960784375667572,
                    G : 0.27843138575553894,
                    B : 0.08235294371843338,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 102,
                Name : 'grasswalker_walk',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 104,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 102,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 105,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 102,
                Name : 'grasswalker_jump',
                Repeating : 0,
                SpeedMultiplier : 1.2000000476837158,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 106,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                    String : $
SoundLibrary.PlayEffect("insect_die2");
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00(\x00\x00\x00SoundLibrary.PlayEffect("insect_die2");\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x02\x05\x00\x00\x00\x05\x00\x00\x00\x06@@\x00A\x80\x00\x00\x1c@\x00\x01\x1e\x00\x80\x00\x03\x00\x00\x00\x04\r\x00\x00\x00SoundLibrary\x00\x04\x0b\x00\x00\x00PlayEffect\x00\x04\x0c\x00\x00\x00insect_die2\x00\x00\x00\x00\x00\x05\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00',
                }
                OnHurt{ # Program
                    String : $
local self = ...;


EntityController.SetAcceleration(self, 1000, false);

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00N\x00\x00\x00local self = ...;\r\n\r\n\r\nEntityController.SetAcceleration(self, 1000, false);\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x05\x08\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\xc1\x80\x00\x00\x02\x01\x00\x00\\@\x00\x02\x1e\x00\x80\x00\x03\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x10\x00\x00\x00SetAcceleration\x00\x03\x00\x00\x00\x00\x00@\x8f@\x00\x00\x00\x00\x08\x00\x00\x00\x01\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x01\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x07\x00\x00\x00\x00\x00\x00\x00',
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 107,
            DamageComponent{ # DamageComponent
                MinDamage : 2,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 108,
            HealthComponent{ # HealthComponent
                MaxHealth : 2,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 109,
            Label : 'main',
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -17.0,
                    Y : 5.0,
                    Width : 34.0,
                    Height : 40.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                OnCollide{ # Program
                    String : $
local self = ...;

Properties.SetProperty(inAir
$end
                }
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 111,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;

while true do
    Program.Wait(1+Math.RandomFloat(0.5,1.5));

    if EntityController.IsIdle(self) and Entity.IsOnGround(self) then
        EntityController.PerformAction(self, 112);    
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xd0\x00\x00\x00local self = ...;\r\n\r\nwhile true do\r\n\tProgram.Wait(1+Math.RandomFloat(0.5,1.5));\r\n\r\n\tif EntityController.IsIdle(self) and Entity.IsOnGround(self) then\r\n\t\tEntityController.PerformAction(self, 112);\t\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x05\x1d\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x85\x80\x00\x00\x86\xc0@\x01\xc1\x00\x01\x00\x01A\x01\x00\x9c\x80\x80\x01\x8c\x80\x00\x83\\@\x00\x01E\xc0\x01\x00F\x00\xc2\x00\x80\x00\x00\x00\\\x80\x00\x01Z\x00\x00\x00\x16\x00\xfc\x7fE@\x02\x00F\x80\xc2\x00\x80\x00\x00\x00\\\x80\x00\x01Z\x00\x00\x00\x16\x80\xfa\x7fE\xc0\x01\x00F\xc0\xc2\x00\x80\x00\x00\x00\xc1\x00\x03\x00\\@\x80\x01\x16\x00\xf9\x7f\x1e\x00\x80\x00\r\x00\x00\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x05\x00\x00\x00Math\x00\x04\x0c\x00\x00\x00RandomFloat\x00\x03\x00\x00\x00\x00\x00\x00\xe0?\x03\x00\x00\x00\x00\x00\x00\xf8?\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00IsIdle\x00\x04\x07\x00\x00\x00Entity\x00\x04\x0b\x00\x00\x00IsOnGround\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x00\\@\x00\x00\x00\x00\x1d\x00\x00\x00\x01\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\x01\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x1c\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 112,
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

target = EntityController.Target(self);

local jumpAnimation = 105;
local walkAnimation = 103;

local jumpHeightMultiplier = Math.RandomFloat(0.7,1.3);
local jumpLengthMultiplier = Math.RandomFloat(0.7,1.3);

if target ~= nil then 
    local targetDirection = 1;
    if (target:position() - self:position()):x() < 0 then targetDirection = -1; end

    EntityController.SetFacingDirection(self, targetDirection, 0.1);
    EntityController.SetMoveDirection(self, targetDirection, 0.2);    
    EntityController.SetMoveSpeed(self, 0);

    KeyframeAnimation.SetCurrentTime(self, jumpAnimation, 0.0);
    AnimationController.BlendToAnimation(self, jumpAnimation);
    
    Program.Wait(0.2);
        
    EntityController.SetAcceleration(self, 100, false);
    self:setVelocity(Vector3.New(targetDirection*250*jumpLengthMultiplier,450*jumpHeightMultiplier,0));

    Program.Wait(KeyframeAnimation.TimeToCompletion(self, jumpAnimation));

    AnimationController.BlendToAnimation(self, walkAnimation);
    
    Program.Wait(0.6*jumpHeightMultiplier);
    EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));
    EntityController.SetAcceleration(self, 1000, false);
end



$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xa3\x04\x00\x00local self = ...;\r\n\r\ntarget = EntityController.Target(self);\r\n\r\nlocal jumpAnimation = 105;\r\nlocal walkAnimation = 103;\r\n\r\nlocal jumpHeightMultiplier = Math.RandomFloat(0.7,1.3);\r\nlocal jumpLengthMultiplier = Math.RandomFloat(0.7,1.3);\r\n\r\nif target ~= nil then \r\n\tlocal targetDirection = 1;\r\n\tif (target:position() - self:position()):x() < 0 then targetDirection = -1; end\r\n\r\n\tEntityController.SetFacingDirection(self, targetDirection, 0.1);\r\n\tEntityController.SetMoveDirection(self, targetDirection, 0.2);\t\r\n\tEntityController.SetMoveSpeed(self, 0);\r\n\r\n\tKeyframeAnimation.SetCurrentTime(self, jumpAnimation, 0.0);\r\n\tAnimationController.BlendToAnimation(self, jumpAnimation);\r\n\t\r\n\tProgram.Wait(0.2);\r\n\t\t\r\n\tEntityController.SetAcceleration(self, 100, false);\r\n\tself:setVelocity(Vector3.New(targetDirection*250*jumpLengthMultiplier,450*jumpHeightMultiplier,0));\r\n\r\n\tProgram.Wait(KeyframeAnimation.TimeToCompletion(self, jumpAnimation));\r\n\r\n\tAnimationController.BlendToAnimation(self, walkAnimation);\r\n\t\r\n\tProgram.Wait(0.6*jumpHeightMultiplier);\r\n\tEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\r\n\tEntityController.SetAcceleration(self, 1000, false);\r\nend\r\n\r\n\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x0cp\x00\x00\x00%\x00\x00\x01E@\x00\x00F\x80\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01G\x00\x00\x00A\xc0\x00\x00\x81\x00\x01\x00\xc5@\x01\x00\xc6\x80\xc1\x01\x01\xc1\x01\x00A\x01\x02\x00\xdc\x80\x80\x01\x05A\x01\x00\x06\x81A\x02A\xc1\x01\x00\x81\x01\x02\x00\x1c\x81\x80\x01E\x01\x00\x00W@\xc2\x02\x16@\x16\x80A\x81\x02\x00\x85\x01\x00\x00\x8b\xc1B\x03\x9c\x81\x00\x01\xcb\xc1B\x00\xdc\x81\x00\x01\x8d\xc1\x01\x03\x8b\x01C\x03\x9c\x81\x00\x01\x18@C\x03\x16\x00\x00\x80A\x81\x03\x00\x85A\x00\x00\x86\xc1C\x03\xc0\x01\x00\x00\x00\x02\x80\x02A\x02\x04\x00\x9cA\x00\x02\x85A\x00\x00\x86AD\x03\xc0\x01\x00\x00\x00\x02\x80\x02A\x82\x04\x00\x9cA\x00\x02\x85A\x00\x00\x86\xc1D\x03\xc0\x01\x00\x00\x01B\x03\x00\x9cA\x80\x01\x85\x01\x05\x00\x86AE\x03\xc0\x01\x00\x00\x00\x02\x80\x00AB\x03\x00\x9cA\x00\x02\x85\x81\x05\x00\x86\xc1E\x03\xc0\x01\x00\x00\x00\x02\x80\x00\x9cA\x80\x01\x85\x01\x06\x00\x86AF\x03\xc1\x81\x04\x00\x9cA\x00\x01\x85A\x00\x00\x86\x81F\x03\xc0\x01\x00\x00\x01\xc2\x06\x00B\x02\x00\x00\x9cA\x00\x02\x8b\x01G\x00\x05B\x07\x00\x06\x82G\x04N\xc2\xc7\x02N\x02\x81\x04\x8e\xc2\x00\x90\xc1B\x03\x00\x1c\x02\x00\x02\x9cA\x00\x00\x85\x01\x06\x00\x86AF\x03\xc5\x01\x05\x00\xc6A\xc8\x03\x00\x02\x00\x00@\x02\x80\x00\xdc\x01\x80\x01\x9cA\x00\x00\x85\x81\x05\x00\x86\xc1E\x03\xc0\x01\x00\x00\x00\x02\x00\x01\x9cA\x80\x01\x85\x01\x06\x00\x86AF\x03\xce\xc1\x00\x91\x9cA\x00\x01\x85A\x00\x00\x86\xc1D\x03\xc0\x01\x00\x00\x05B\x00\x00\x06\xc2H\x04@\x02\x00\x00\x1c\x02\x00\x01\x9cA\x00\x00\x85A\x00\x00\x86\x81F\x03\xc0\x01\x00\x00\x01\x02\t\x00B\x02\x00\x00\x9cA\x00\x02\x1e\x00\x80\x00%\x00\x00\x00\x04\x07\x00\x00\x00target\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x03\x00\x00\x00\x00\x00@Z@\x03\x00\x00\x00\x00\x00\xc0Y@\x04\x05\x00\x00\x00Math\x00\x04\x0c\x00\x00\x00RandomFloat\x00\x03ffffff\xe6?\x03\xcd\xcc\xcc\xcc\xcc\xcc\xf4?\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x13\x00\x00\x00SetFacingDirection\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x11\x00\x00\x00SetMoveDirection\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\r\x00\x00\x00SetMoveSpeed\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x10\x00\x00\x00SetAcceleration\x00\x03\x00\x00\x00\x00\x00\x00Y@\x04\x0c\x00\x00\x00setVelocity\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00@o@\x03\x00\x00\x00\x00\x00 |@\x04\x11\x00\x00\x00TimeToCompletion\x00\x03333333\xe3?\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x03\x00\x00\x00\x00\x00@\x8f@\x00\x00\x00\x00p\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00"\x00\x00\x00\x06\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00o\x00\x00\x00\x0e\x00\x00\x00jumpAnimation\x00\x07\x00\x00\x00o\x00\x00\x00\x0e\x00\x00\x00walkAnimation\x00\x08\x00\x00\x00o\x00\x00\x00\x15\x00\x00\x00jumpHeightMultiplier\x00\r\x00\x00\x00o\x00\x00\x00\x15\x00\x00\x00jumpLengthMultiplier\x00\x12\x00\x00\x00o\x00\x00\x00\x10\x00\x00\x00targetDirection\x00\x16\x00\x00\x00o\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -17.0,
            Y : 0.0,
            Width : 34.0,
            Height : 45.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'grover_spikes',
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 1,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -35.0,
                    Y : -80.0,
                    Width : 70.0,
                    Height : 55.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 2,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 3,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -50.0,
                    Y : -80.0,
                    Width : 100.0,
                    Height : 45.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                IsGround : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'TransformController',
            Identifier : 4,
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'grover_spikes',
                YRotation : 0.0,
                EmissionFactor : 0.5,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -50.0,
            Y : -80.0,
            Width : 100.0,
            Height : 80.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'icedwarf',
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 1,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Corrupted Ice Dwarf',
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'icedwarf',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.699999988079071,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 102,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'icedwarf_walk',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'GenericMonsterController',
            Identifier : 103,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 100.0,
                AnimationControllerId : 104,
                EntityId : 105,
                RoamAreaId : 106,
            }
            GenericMonsterControllerComponent{ # GenericMonsterControllerComponent
                WalkAnimationId : 102,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 104,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 105,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                    String : $
local self = ...;
Program.Wait(0.15);


local snowie11 = Scene.CreateObject("shadowblob_little", "snowie11", self);
TransformController.TranslateBy(snowie11, Vector3.New(15,0,0), 0.01);

local snowie21 = Scene.CreateObject("shadowblob_little", "snowie21", self);
TransformController.TranslateBy(snowie21, Vector3.New(-15,0,0), 0.01);

Program.Wait(0.3);


local snowie11 = Scene.CreateObject("shadowblob_little", "snowie11", self);
TransformController.TranslateBy(snowie11, Vector3.New(15,0,0), 0.01);

local snowie21 = Scene.CreateObject("shadowblob_little", "snowie21", self);
TransformController.TranslateBy(snowie21, Vector3.New(-15,0,0), 0.01);
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x9b\x02\x00\x00local self = ...;\r\nProgram.Wait(0.15);\r\n\r\n\r\nlocal snowie11 = Scene.CreateObject("shadowblob_little", "snowie11", self);\r\nTransformController.TranslateBy(snowie11, Vector3.New(15,0,0), 0.01);\r\n\r\nlocal snowie21 = Scene.CreateObject("shadowblob_little", "snowie21", self);\r\nTransformController.TranslateBy(snowie21, Vector3.New(-15,0,0), 0.01);\r\n\r\nProgram.Wait(0.3);\r\n\r\n\r\nlocal snowie11 = Scene.CreateObject("shadowblob_little", "snowie11", self);\r\nTransformController.TranslateBy(snowie11, Vector3.New(15,0,0), 0.01);\r\n\r\nlocal snowie21 = Scene.CreateObject("shadowblob_little", "snowie21", self);\r\nTransformController.TranslateBy(snowie21, Vector3.New(-15,0,0), 0.01);\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x0bN\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x81\x80\x00\x00\\@\x00\x01E\xc0\x00\x00F\x00\xc1\x00\x81@\x01\x00\xc1\x80\x01\x00\x00\x01\x00\x00\\\x80\x00\x02\x85\xc0\x01\x00\x86\x00B\x01\xc0\x00\x80\x00\x05A\x02\x00\x06\x81B\x02A\xc1\x02\x00\x81\x01\x03\x00\xc1\x01\x03\x00\x1c\x81\x00\x02AA\x03\x00\x9c@\x00\x02\x85\xc0\x00\x00\x86\x00A\x01\xc1@\x01\x00\x01\x81\x03\x00@\x01\x00\x00\x9c\x80\x00\x02\xc5\xc0\x01\x00\xc6\x00\xc2\x01\x00\x01\x00\x01EA\x02\x00F\x81\xc2\x02\x81\xc1\x03\x00\xc1\x01\x03\x00\x01\x02\x03\x00\\\x81\x00\x02\x81A\x03\x00\xdc@\x00\x02\xc5\x00\x00\x00\xc6@\xc0\x01\x01\x01\x04\x00\xdc@\x00\x01\xc5\xc0\x00\x00\xc6\x00\xc1\x01\x01A\x01\x00A\x81\x01\x00\x80\x01\x00\x00\xdc\x80\x00\x02\x05\xc1\x01\x00\x06\x01B\x02@\x01\x80\x01\x85A\x02\x00\x86\x81B\x03\xc1\xc1\x02\x00\x01\x02\x03\x00A\x02\x03\x00\x9c\x81\x00\x02\xc1A\x03\x00\x1cA\x00\x02\x05\xc1\x00\x00\x06\x01A\x02AA\x01\x00\x81\x81\x03\x00\xc0\x01\x00\x00\x1c\x81\x00\x02E\xc1\x01\x00F\x01\xc2\x02\x80\x01\x00\x02\xc5A\x02\x00\xc6\x81\xc2\x03\x01\xc2\x03\x00A\x02\x03\x00\x81\x02\x03\x00\xdc\x81\x00\x02\x01B\x03\x00\\A\x00\x02\x1e\x00\x80\x00\x11\x00\x00\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03333333\xc3?\x04\x06\x00\x00\x00Scene\x00\x04\r\x00\x00\x00CreateObject\x00\x04\x12\x00\x00\x00shadowblob_little\x00\x04\t\x00\x00\x00snowie11\x00\x04\x14\x00\x00\x00TransformController\x00\x04\x0c\x00\x00\x00TranslateBy\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\x00.@\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03{\x14\xaeG\xe1z\x84?\x04\t\x00\x00\x00snowie21\x00\x03\x00\x00\x00\x00\x00\x00.\xc0\x03333333\xd3?\x00\x00\x00\x00N\x00\x00\x00\x01\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00M\x00\x00\x00\t\x00\x00\x00snowie11\x00\x0b\x00\x00\x00M\x00\x00\x00\t\x00\x00\x00snowie21\x00\x1c\x00\x00\x00M\x00\x00\x00\t\x00\x00\x00snowie11\x001\x00\x00\x00M\x00\x00\x00\t\x00\x00\x00snowie21\x00B\x00\x00\x00M\x00\x00\x00\x00\x00\x00\x00',
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'UtilityShape',
            Identifier : 106,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -200.0,
                    Y : -50.0,
                    Width : 400.0,
                    Height : 250.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 108,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : 0.0,
                    Y : 20.0,
                    Width : 80.0,
                    Height : 30.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 110,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -20.0,
                    Y : 0.0,
                    Width : 35.0,
                    Height : 65.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'Attack',
            Identifier : 112,
            AttackComponent{ # AttackComponent
                AnimationId : 119,
                CollisionShapeId : 108,
                AttackAreaId : 0,
                SoundEffectId : 0,
                AttackInterval : 8.0,
                AttackDuration : 0.800000011920929,
                DamageStartTime : 0.5,
                DamageEndTime : 0.6000000238418579,
                AnimationStartBlendTime : 0.20000000298023224,
                AnimationEndBlendTime : 0.4000000059604645,
                OnAttack{ # Program
                }
                DamageStartTime2 : 0.0,
                DamageEndTime2 : 0.0,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 113,
            DamageComponent{ # DamageComponent
                MinDamage : 2,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 114,
            HealthComponent{ # HealthComponent
                MaxHealth : 4,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 70.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 119,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'icedwarf_attack1',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'SoundEffect',
            Identifier : 120,
            SoundEffectComponent{ # SoundEffectComponent
                Name : 'sword_swing2',
                Delay : 0.0,
                Volume : 1.0,
            }
        }
        Component{ # Component
            ClassName : 'Attack',
            Identifier : 121,
            AttackComponent{ # AttackComponent
                AnimationId : 122,
                CollisionShapeId : 123,
                AttackAreaId : 0,
                SoundEffectId : 0,
                AttackInterval : 7.0,
                AttackDuration : 1.399999976158142,
                DamageStartTime : 1.2000000476837158,
                DamageEndTime : 1.2999999523162842,
                AnimationStartBlendTime : 0.4000000059604645,
                AnimationEndBlendTime : 0.20000000298023224,
                OnAttack{ # Program
                    String : $
local self = ...;

TransformController.ScaleBy(self, 1.7, 1);

Program.Wait(1.3);
TransformController.ScaleTo(self, 1, 0.2);


$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x86\x00\x00\x00local self = ...;\r\n\r\nTransformController.ScaleBy(self, 1.7, 1);\r\n\r\nProgram.Wait(1.3);\r\nTransformController.ScaleTo(self, 1, 0.2);\r\n\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x05\x12\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\xc1\x80\x00\x00\x01\xc1\x00\x00\\@\x00\x02E\x00\x01\x00F@\xc1\x00\x81\x80\x01\x00\\@\x00\x01E\x00\x00\x00F\xc0\xc1\x00\x80\x00\x00\x00\xc1\xc0\x00\x00\x01\x01\x02\x00\\@\x00\x02\x1e\x00\x80\x00\t\x00\x00\x00\x04\x14\x00\x00\x00TransformController\x00\x04\x08\x00\x00\x00ScaleBy\x00\x03333333\xfb?\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\xcd\xcc\xcc\xcc\xcc\xcc\xf4?\x04\x08\x00\x00\x00ScaleTo\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x00\x00\x00\x00\x12\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x01\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x11\x00\x00\x00\x00\x00\x00\x00',
                }
                DamageStartTime2 : 0.0,
                DamageEndTime2 : 0.0,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 122,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'icedwarf_attack2',
                Repeating : 1,
                SpeedMultiplier : 1.2999999523162842,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 123,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -0.0,
                    Y : -1.8557900190353394,
                    Width : 100.0,
                    Height : 95.39289093017578,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'TransformController',
            Identifier : 125,
        }
        Component{ # Component
            ClassName : 'Attack',
            Identifier : 131,
            AttackComponent{ # AttackComponent
                AnimationId : 122,
                CollisionShapeId : 0,
                AttackAreaId : 0,
                SoundEffectId : 0,
                AttackInterval : 2.0,
                AttackDuration : 1.399999976158142,
                DamageStartTime : 0.0,
                DamageEndTime : 1.0,
                AnimationStartBlendTime : 0.4000000059604645,
                AnimationEndBlendTime : 0.20000000298023224,
                OnAttack{ # Program
                    String : $
local self = ...;

Program.Wait(0.4);

Program.Wait(0.4);

if (self:isAlive()) then
    local club1 = Scene.CreateObject("club_projectile","clubbie1",self);
    TransformController.SetOrigin(club1, Vector3.New(30,0,0));
    TransformController.ScaleTo(club1, 0.1, 0.01);
    TransformController.TranslateBy(club1, 
        Vector3.New(Entity.GetFacingDirection(self)*40,40,0), 0.01);
    
    Program.Wait(0.02);
    TransformController.TranslateBy(club1, Vector3.New(
        Entity.GetFacingDirection(self) * 400,0,0), 1.7);
    
    TransformController.RotateBy(club1, 1500, 1);
    TransformController.ScaleTo(club1, 1, 0.2);
    Program.Wait(0.5);    

    Program.Wait(0.5);
    club1:destroy();
end

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xa5\x02\x00\x00local self = ...;\r\n\r\nProgram.Wait(0.4);\r\n\r\nProgram.Wait(0.4);\r\n\r\nif (self:isAlive()) then\r\n\tlocal club1 = Scene.CreateObject("club_projectile","clubbie1",self);\r\n\tTransformController.SetOrigin(club1, Vector3.New(30,0,0));\r\n\tTransformController.ScaleTo(club1, 0.1, 0.01);\r\n\tTransformController.TranslateBy(club1, \r\n\t\tVector3.New(Entity.GetFacingDirection(self)*40,40,0), 0.01);\r\n\t\r\n\tProgram.Wait(0.02);\r\n\tTransformController.TranslateBy(club1, Vector3.New(\r\n\t\tEntity.GetFacingDirection(self) * 400,0,0), 1.7);\r\n\t\r\n\tTransformController.RotateBy(club1, 1500, 1);\r\n\tTransformController.ScaleTo(club1, 1, 0.2);\r\n\tProgram.Wait(0.5);\t\r\n\r\n\tProgram.Wait(0.5);\r\n\tclub1:destroy();\r\nend\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x08\\\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x81\x80\x00\x00\\@\x00\x01E\x00\x00\x00F@\xc0\x00\x81\x80\x00\x00\\@\x00\x01K\xc0@\x00\\\x80\x00\x01Z\x00\x00\x00\x16@\x13\x80E\x00\x01\x00F@\xc1\x00\x81\x80\x01\x00\xc1\xc0\x01\x00\x00\x01\x00\x00\\\x80\x00\x02\x85\x00\x02\x00\x86@B\x01\xc0\x00\x80\x00\x05\x81\x02\x00\x06\xc1B\x02A\x01\x03\x00\x81A\x03\x00\xc1A\x03\x00\x1c\x01\x00\x02\x9c@\x00\x00\x85\x00\x02\x00\x86\x80C\x01\xc0\x00\x80\x00\x01\xc1\x03\x00A\x01\x04\x00\x9c@\x00\x02\x85\x00\x02\x00\x86@D\x01\xc0\x00\x80\x00\x05\x81\x02\x00\x06\xc1B\x02E\x81\x04\x00F\xc1\xc4\x02\x80\x01\x00\x00\\\x81\x00\x01N\x01\xc5\x02\x81\x01\x05\x00\xc1A\x03\x00\x1c\x81\x00\x02A\x01\x04\x00\x9c@\x00\x02\x85\x00\x00\x00\x86@@\x01\xc1@\x05\x00\x9c@\x00\x01\x85\x00\x02\x00\x86@D\x01\xc0\x00\x80\x00\x05\x81\x02\x00\x06\xc1B\x02E\x81\x04\x00F\xc1\xc4\x02\x80\x01\x00\x00\\\x81\x00\x01N\x81\xc5\x02\x81A\x03\x00\xc1A\x03\x00\x1c\x81\x00\x02A\xc1\x05\x00\x9c@\x00\x02\x85\x00\x02\x00\x86\x00F\x01\xc0\x00\x80\x00\x01A\x06\x00A\x81\x06\x00\x9c@\x00\x02\x85\x00\x02\x00\x86\x80C\x01\xc0\x00\x80\x00\x01\x81\x06\x00A\xc1\x06\x00\x9c@\x00\x02\x85\x00\x00\x00\x86@@\x01\xc1\x00\x07\x00\x9c@\x00\x01\x85\x00\x00\x00\x86@@\x01\xc1\x00\x07\x00\x9c@\x00\x01\x8b@\xc7\x00\x9c@\x00\x01\x1e\x00\x80\x00\x1e\x00\x00\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xd9?\x04\x08\x00\x00\x00isAlive\x00\x04\x06\x00\x00\x00Scene\x00\x04\r\x00\x00\x00CreateObject\x00\x04\x10\x00\x00\x00club_projectile\x00\x04\t\x00\x00\x00clubbie1\x00\x04\x14\x00\x00\x00TransformController\x00\x04\n\x00\x00\x00SetOrigin\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\x00>@\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x08\x00\x00\x00ScaleTo\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x03{\x14\xaeG\xe1z\x84?\x04\x0c\x00\x00\x00TranslateBy\x00\x04\x07\x00\x00\x00Entity\x00\x04\x13\x00\x00\x00GetFacingDirection\x00\x03\x00\x00\x00\x00\x00\x00D@\x03{\x14\xaeG\xe1z\x94?\x03\x00\x00\x00\x00\x00\x00y@\x03333333\xfb?\x04\t\x00\x00\x00RotateBy\x00\x03\x00\x00\x00\x00\x00p\x97@\x03\x00\x00\x00\x00\x00\x00\xf0?\x03\x9a\x99\x99\x99\x99\x99\xc9?\x03\x00\x00\x00\x00\x00\x00\xe0?\x04\x08\x00\x00\x00destroy\x00\x00\x00\x00\x00\\\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0b\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x0f\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x18\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00[\x00\x00\x00\x06\x00\x00\x00club1\x00\x13\x00\x00\x00[\x00\x00\x00\x00\x00\x00\x00',
                }
                DamageStartTime2 : 0.0,
                DamageEndTime2 : 0.0,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -20.0,
            Y : -1.8557900190353394,
            Width : 120.0,
            Height : 95.39289093017578,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'knight_florennum',
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 1,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Dark Knight',
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'variknight_shield_florennum',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 103,
            EntityComponent{ # EntityComponent
                FacingDirection : 18446744073709551615,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                    String : $
local self = ...;

local target = EntityController.Target(self);

if target ~= nil then 
    local targetDirection = 1;
    if (target:position() - self:position()):x() < 0 then targetDirection = -1; end

    EntityController.SetFacingDirection(self, targetDirection, 0.2);
    EntityController.SetMoveDirection(self, targetDirection, 0.7);

    Program.Wait(0.8);
    if EntityController.IsIdle(self) then
        EntityController.PerformAction(self, 126);
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xca\x01\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nif target ~= nil then \r\n\tlocal targetDirection = 1;\r\n\tif (target:position() - self:position()):x() < 0 then targetDirection = -1; end\r\n\r\n\tEntityController.SetFacingDirection(self, targetDirection, 0.2);\r\n\tEntityController.SetMoveDirection(self, targetDirection, 0.7);\r\n\r\n\tProgram.Wait(0.8);\r\n\tif EntityController.IsIdle(self) then\r\n\t\tEntityController.PerformAction(self, 126);\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x07.\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01W\x80\xc0\x00\x16@\t\x80\x81\xc0\x00\x00\xcb\x00\xc1\x00\xdc\x80\x00\x01\x0b\x01A\x00\x1c\x81\x00\x01\xcd\x00\x81\x01\xcb@\xc1\x01\xdc\x80\x00\x01\x18\x80\xc1\x01\x16\x00\x00\x80\x81\xc0\x01\x00\xc5\x00\x00\x00\xc6\x00\xc2\x01\x00\x01\x00\x00@\x01\x00\x01\x81A\x02\x00\xdc@\x00\x02\xc5\x00\x00\x00\xc6\x80\xc2\x01\x00\x01\x00\x00@\x01\x00\x01\x81\xc1\x02\x00\xdc@\x00\x02\xc5\x00\x03\x00\xc6@\xc3\x01\x01\x81\x03\x00\xdc@\x00\x01\xc5\x00\x00\x00\xc6\xc0\xc3\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xda\x00\x00\x00\x16\x00\x01\x80\xc5\x00\x00\x00\xc6\x00\xc4\x01\x00\x01\x00\x00AA\x04\x00\xdc@\x80\x01\x1e\x00\x80\x00\x12\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x13\x00\x00\x00SetFacingDirection\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x11\x00\x00\x00SetMoveDirection\x00\x03ffffff\xe6?\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xe9?\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x80_@\x00\x00\x00\x00.\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x10\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00-\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00-\x00\x00\x00\x10\x00\x00\x00targetDirection\x00\x08\x00\x00\x00-\x00\x00\x00\x00\x00\x00\x00',
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 104,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 103,
                AnimationControllerId : 105,
                DefaultMoveAnimationId : 112,
                RoamAreaId : 0,
                DefaultMoveSpeed : 100.0,
                DefaultAcceleration : 1000.0,
                TargetingDistance : 300.0,
                MovementBehavior : 4,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 105,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 106,
            Label : 'main',
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -26.0,
                    Y : -0.8095080256462097,
                    Width : 66.0,
                    Height : 65.80950927734375,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'SwingableWeaponController',
            Identifier : 109,
            SwingableWeaponControllerComponent{ # SwingableWeaponControllerComponent
                ControllingModelId : 101,
                ControllingBoneName : 'BoneRightWeapon1',
                WeaponTemplateName : 'variknight_weapon_sword',
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 112,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'variknight_shield_walk',
                Repeating : 1,
                SpeedMultiplier : 1.2000000476837158,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 115,
            Label : 'shield',
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : 0.0,
                    Y : -4.818707466125488,
                    Width : 55.0,
                    Height : 74.81871032714844,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                SpecialType : 5,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'UtilityShape',
            Identifier : 117,
            Label : 'roam',
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -100.0,
                    Y : -50.0,
                    Width : 200.0,
                    Height : 100.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 119,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 120,
            HealthComponent{ # HealthComponent
                MaxHealth : 10,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 126,
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local attackAnimation = 127;
local shieldShape = 115;

EntityController.SetMoveSpeed(self, 0);
KeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);
AnimationController.BlendToAnimation(self, attackAnimation);

Program.Wait(0.1);

CollisionShape.SetEnabled(self, shieldShape, false);

local swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 13.5);
local swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 16.5);

Program.Wait(swingStartTime);
EntityController.StartSwing(self, 109, swingEndTime - swingStartTime);

Program.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));

KeyframeAnimation.SetCurrentTime(self, EntityController.DefaultMoveAnimation(self), 0.0);
AnimationController.BlendToAnimation(self, EntityController.DefaultMoveAnimation(self), 0.5);

Program.Wait(0.7);

CollisionShape.SetEnabled(self, shieldShape, true);
EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xf7\x03\x00\x00local self = ...;\r\n\r\nlocal attackAnimation = 127;\r\nlocal shieldShape = 115;\r\n\r\nEntityController.SetMoveSpeed(self, 0);\r\nKeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, attackAnimation);\r\n\r\nProgram.Wait(0.1);\r\n\r\nCollisionShape.SetEnabled(self, shieldShape, false);\r\n\r\nlocal swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 13.5);\r\nlocal swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 16.5);\r\n\r\nProgram.Wait(swingStartTime);\r\nEntityController.StartSwing(self, 109, swingEndTime - swingStartTime);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));\r\n\r\nKeyframeAnimation.SetCurrentTime(self, EntityController.DefaultMoveAnimation(self), 0.0);\r\nAnimationController.BlendToAnimation(self, EntityController.DefaultMoveAnimation(self), 0.5);\r\n\r\nProgram.Wait(0.7);\r\n\r\nCollisionShape.SetEnabled(self, shieldShape, true);\r\nEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\t`\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x00\x01\x00\x00A\x01\x01\x00\xdc@\x80\x01\xc5@\x01\x00\xc6\x80\xc1\x01\x00\x01\x00\x00@\x01\x80\x00\x81\x01\x01\x00\xdc@\x00\x02\xc5\xc0\x01\x00\xc6\x00\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\xdc@\x80\x01\xc5@\x02\x00\xc6\x80\xc2\x01\x01\xc1\x02\x00\xdc@\x00\x01\xc5\x00\x03\x00\xc6@\xc3\x01\x00\x01\x00\x00@\x01\x00\x01\x82\x01\x00\x00\xdc@\x00\x02\xc5@\x01\x00\xc6\x80\xc3\x01\x00\x01\x00\x00@\x01\x80\x00\x81\xc1\x03\x00\xdc\x80\x00\x02\x05A\x01\x00\x06\x81C\x02@\x01\x00\x00\x80\x01\x80\x00\xc1\x01\x04\x00\x1c\x81\x00\x02EA\x02\x00F\x81\xc2\x02\x80\x01\x80\x01\\A\x00\x01E\x81\x00\x00FA\xc4\x02\x80\x01\x00\x00\xc1\x81\x04\x00\r\xc2\x00\x02\\A\x00\x02EA\x02\x00F\x81\xc2\x02\x85A\x01\x00\x86\xc1D\x03\xc0\x01\x00\x00\x00\x02\x80\x00\x9c\x01\x80\x01\\A\x00\x00EA\x01\x00F\x81\xc1\x02\x80\x01\x00\x00\xc5\x81\x00\x00\xc6\x01\xc5\x03\x00\x02\x00\x00\xdc\x81\x00\x01\x01\x02\x01\x00\\A\x00\x02E\xc1\x01\x00F\x01\xc2\x02\x80\x01\x00\x00\xc5\x81\x00\x00\xc6\x01\xc5\x03\x00\x02\x00\x00\xdc\x81\x00\x01\x01B\x05\x00\\A\x00\x02EA\x02\x00F\x81\xc2\x02\x81\x81\x05\x00\\A\x00\x01E\x01\x03\x00FA\xc3\x02\x80\x01\x00\x00\xc0\x01\x00\x01\x02\x02\x80\x00\\A\x00\x02E\x81\x00\x00F\xc1\xc0\x02\x80\x01\x00\x00\xc5\x81\x00\x00\xc6\xc1\xc5\x03\x00\x02\x00\x00\xdc\x01\x00\x01\\A\x00\x00\x1e\x00\x80\x00\x18\x00\x00\x00\x03\x00\x00\x00\x00\x00\xc0_@\x03\x00\x00\x00\x00\x00\xc0\\@\x04\x11\x00\x00\x00EntityController\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x0f\x00\x00\x00CollisionShape\x00\x04\x0b\x00\x00\x00SetEnabled\x00\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00+@\x03\x00\x00\x00\x00\x00\x800@\x04\x0b\x00\x00\x00StartSwing\x00\x03\x00\x00\x00\x00\x00@[@\x04\x11\x00\x00\x00TimeToCompletion\x00\x04\x15\x00\x00\x00DefaultMoveAnimation\x00\x03\x00\x00\x00\x00\x00\x00\xe0?\x03ffffff\xe6?\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x00\x00\x00\x00`\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00_\x00\x00\x00\x10\x00\x00\x00attackAnimation\x00\x02\x00\x00\x00_\x00\x00\x00\x0c\x00\x00\x00shieldShape\x00\x03\x00\x00\x00_\x00\x00\x00\x0f\x00\x00\x00swingStartTime\x00#\x00\x00\x00_\x00\x00\x00\r\x00\x00\x00swingEndTime\x00)\x00\x00\x00_\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 127,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'variknight_shield_attack1',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 132,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'variknight_shield_attack2',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 137,
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local attackAnimation = 132;
local shieldShape = 115;

EntityController.SetMoveSpeed(self, 0);
KeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);
AnimationController.BlendToAnimation(self, attackAnimation, 0.6);

Program.Wait(0.1);

CollisionShape.SetEnabled(self, shieldShape, false);

local swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 18.5);
local swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 22.5);

Program.Wait(swingStartTime);
EntityController.StartSwing(self, 109, swingEndTime - swingStartTime);

Program.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));


KeyframeAnimation.SetCurrentTime(self, EntityController.DefaultMoveAnimation(self), 0.0);
AnimationController.BlendToAnimation(self, EntityController.DefaultMoveAnimation(self), 0.5);
Program.Wait(0.7);

CollisionShape.SetEnabled(self, shieldShape, true);
EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xfc\x03\x00\x00local self = ...;\r\n\r\nlocal attackAnimation = 132;\r\nlocal shieldShape = 115;\r\n\r\nEntityController.SetMoveSpeed(self, 0);\r\nKeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, attackAnimation, 0.6);\r\n\r\nProgram.Wait(0.1);\r\n\r\nCollisionShape.SetEnabled(self, shieldShape, false);\r\n\r\nlocal swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 18.5);\r\nlocal swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 22.5);\r\n\r\nProgram.Wait(swingStartTime);\r\nEntityController.StartSwing(self, 109, swingEndTime - swingStartTime);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));\r\n\r\n\r\nKeyframeAnimation.SetCurrentTime(self, EntityController.DefaultMoveAnimation(self), 0.0);\r\nAnimationController.BlendToAnimation(self, EntityController.DefaultMoveAnimation(self), 0.5);\r\nProgram.Wait(0.7);\r\n\r\nCollisionShape.SetEnabled(self, shieldShape, true);\r\nEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\ta\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x00\x01\x00\x00A\x01\x01\x00\xdc@\x80\x01\xc5@\x01\x00\xc6\x80\xc1\x01\x00\x01\x00\x00@\x01\x80\x00\x81\x01\x01\x00\xdc@\x00\x02\xc5\xc0\x01\x00\xc6\x00\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\x81A\x02\x00\xdc@\x00\x02\xc5\x80\x02\x00\xc6\xc0\xc2\x01\x01\x01\x03\x00\xdc@\x00\x01\xc5@\x03\x00\xc6\x80\xc3\x01\x00\x01\x00\x00@\x01\x00\x01\x82\x01\x00\x00\xdc@\x00\x02\xc5@\x01\x00\xc6\xc0\xc3\x01\x00\x01\x00\x00@\x01\x80\x00\x81\x01\x04\x00\xdc\x80\x00\x02\x05A\x01\x00\x06\xc1C\x02@\x01\x00\x00\x80\x01\x80\x00\xc1A\x04\x00\x1c\x81\x00\x02E\x81\x02\x00F\xc1\xc2\x02\x80\x01\x80\x01\\A\x00\x01E\x81\x00\x00F\x81\xc4\x02\x80\x01\x00\x00\xc1\xc1\x04\x00\r\xc2\x00\x02\\A\x00\x02E\x81\x02\x00F\xc1\xc2\x02\x85A\x01\x00\x86\x01E\x03\xc0\x01\x00\x00\x00\x02\x80\x00\x9c\x01\x80\x01\\A\x00\x00EA\x01\x00F\x81\xc1\x02\x80\x01\x00\x00\xc5\x81\x00\x00\xc6A\xc5\x03\x00\x02\x00\x00\xdc\x81\x00\x01\x01\x02\x01\x00\\A\x00\x02E\xc1\x01\x00F\x01\xc2\x02\x80\x01\x00\x00\xc5\x81\x00\x00\xc6A\xc5\x03\x00\x02\x00\x00\xdc\x81\x00\x01\x01\x82\x05\x00\\A\x00\x02E\x81\x02\x00F\xc1\xc2\x02\x81\xc1\x05\x00\\A\x00\x01EA\x03\x00F\x81\xc3\x02\x80\x01\x00\x00\xc0\x01\x00\x01\x02\x02\x80\x00\\A\x00\x02E\x81\x00\x00F\xc1\xc0\x02\x80\x01\x00\x00\xc5\x81\x00\x00\xc6\x01\xc6\x03\x00\x02\x00\x00\xdc\x01\x00\x01\\A\x00\x00\x1e\x00\x80\x00\x19\x00\x00\x00\x03\x00\x00\x00\x00\x00\x80`@\x03\x00\x00\x00\x00\x00\xc0\\@\x04\x11\x00\x00\x00EntityController\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x03333333\xe3?\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x0f\x00\x00\x00CollisionShape\x00\x04\x0b\x00\x00\x00SetEnabled\x00\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x802@\x03\x00\x00\x00\x00\x00\x806@\x04\x0b\x00\x00\x00StartSwing\x00\x03\x00\x00\x00\x00\x00@[@\x04\x11\x00\x00\x00TimeToCompletion\x00\x04\x15\x00\x00\x00DefaultMoveAnimation\x00\x03\x00\x00\x00\x00\x00\x00\xe0?\x03ffffff\xe6?\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x00\x00\x00\x00a\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00`\x00\x00\x00\x10\x00\x00\x00attackAnimation\x00\x02\x00\x00\x00`\x00\x00\x00\x0c\x00\x00\x00shieldShape\x00\x03\x00\x00\x00`\x00\x00\x00\x0f\x00\x00\x00swingStartTime\x00$\x00\x00\x00`\x00\x00\x00\r\x00\x00\x00swingEndTime\x00*\x00\x00\x00`\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 138,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;

local target = EntityController.Target(self);
while true do
    Program.Wait(2.7);
    if EntityController.IsIdle(self) then
        EntityController.PerformAction(self, 137);
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xc8\x00\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\nwhile true do\r\n\tProgram.Wait(2.7);\r\n\tif EntityController.IsIdle(self) then\r\n\t\tEntityController.PerformAction(self, 137);\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x05\x16\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x85\x80\x00\x00\x86\xc0@\x01\xc1\x00\x01\x00\x9c@\x00\x01\x85\x00\x00\x00\x86@A\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\x9a\x00\x00\x00\x16@\xfd\x7f\x85\x00\x00\x00\x86\x80A\x01\xc0\x00\x00\x00\x01\xc1\x01\x00\x9c@\x80\x01\x16\xc0\xfb\x7f\x1e\x00\x80\x00\x08\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\x05@\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00 a@\x00\x00\x00\x00\x16\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x15\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00\x15\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -26.0,
            Y : -4.818707466125488,
            Width : 81.0,
            Height : 74.81871032714844,
        }
        Hidden : 0,
    }
    Scaling : 1.2999999523162842,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'lava_monster',
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'lavamonster',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'lavamonster_run',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 107,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -15.0,
                    Y : -30.0,
                    Width : 30.0,
                    Height : 45.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -15.0,
            Y : -30.0,
            Width : 30.0,
            Height : 45.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'magmamonster',
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 1,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Magmatar',
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'lavamonster',
                YRotation : 1.5707963705062866,
                EmissionFactor : 1.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 103,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 104,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 105,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 104,
                AnimationControllerId : 103,
                DefaultMoveAnimationId : 109,
                RoamAreaId : 0,
                DefaultMoveSpeed : 100.0,
                DefaultAcceleration : 800.0,
                TargetingDistance : 2000.0,
                MovementBehavior : 4,
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 106,
            Label : 'putballoffire',
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local target = EntityController.Target(self);

if target:identifier() == "hero" then


local targetDirection = 1;
if target:position():x() - self:position():x() < 0 then
    targetDirection = -1;
end

local pushAnimation = 112;

EntityController.SetMoveSpeed(self, 0);
EntityController.SetFacingDirection(self, targetDirection);

KeyframeAnimation.SetCurrentTime(self,pushAnimation, 0.0);
AnimationController.BlendToAnimation( self, pushAnimation);

local ball = Scene.CreateObject("magmapallo", "boll");

TransformController.ScaleTo(ball, 0.01, 0);

ball:setPosition(self:position() + Vector3.New(110,0,0)*targetDirection + Vector3.New(0, 60, 0));
TransformController.ScaleTo(ball, 0.5, 0.3);

Program.Wait(KeyframeAnimation.TimeToFrame(self, pushAnimation, 8));

ball:setVelocity(Vector3.New(350,0,0)*targetDirection + Vector3.New(0,350,0));

Program.Wait(KeyframeAnimation.TimeToFrame(self, pushAnimation, 22));

EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));

end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x1a\x04\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nif target:identifier() == "hero" then\r\n\r\n\r\nlocal targetDirection = 1;\r\nif target:position():x() - self:position():x() < 0 then\r\n\ttargetDirection = -1;\r\nend\r\n\r\nlocal pushAnimation = 112;\r\n\r\nEntityController.SetMoveSpeed(self, 0);\r\nEntityController.SetFacingDirection(self, targetDirection);\r\n\r\nKeyframeAnimation.SetCurrentTime(self,pushAnimation, 0.0);\r\nAnimationController.BlendToAnimation( self, pushAnimation);\r\n\r\nlocal ball = Scene.CreateObject("magmapallo", "boll");\r\n\r\nTransformController.ScaleTo(ball, 0.01, 0);\r\n\r\nball:setPosition(self:position() + Vector3.New(110,0,0)*targetDirection + Vector3.New(0, 60, 0));\r\nTransformController.ScaleTo(ball, 0.5, 0.3);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, pushAnimation, 8));\r\n\r\nball:setVelocity(Vector3.New(350,0,0)*targetDirection + Vector3.New(0,350,0));\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, pushAnimation, 22));\r\n\r\nEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\r\n\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x0c{\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x8b\x80\xc0\x00\x9c\x80\x00\x01\x17\xc0@\x01\x16\x00\x1c\x80\x81\x00\x01\x00\xcb@\xc1\x00\xdc\x80\x00\x01\xcb\x80\xc1\x01\xdc\x80\x00\x01\x0bAA\x00\x1c\x81\x00\x01\x0b\x81A\x02\x1c\x81\x00\x01\xcd\x00\x81\x01\x18\xc0\xc1\x01\x16\x00\x00\x80\x81\x00\x02\x00\xc1@\x02\x00\x05\x01\x00\x00\x06\x81B\x02@\x01\x00\x00\x81\xc1\x01\x00\x1cA\x80\x01\x05\x01\x00\x00\x06\xc1B\x02@\x01\x00\x00\x80\x01\x00\x01\x1cA\x80\x01\x05\x01\x03\x00\x06AC\x02@\x01\x00\x00\x80\x01\x80\x01\xc1\xc1\x01\x00\x1cA\x00\x02\x05\x81\x03\x00\x06\xc1C\x02@\x01\x00\x00\x80\x01\x80\x01\x1cA\x80\x01\x05\x01\x04\x00\x06AD\x02A\x81\x04\x00\x81\xc1\x04\x00\x1c\x81\x80\x01E\x01\x05\x00FA\xc5\x02\x80\x01\x00\x02\xc1\x81\x05\x00\x01\xc2\x01\x00\\A\x00\x02K\xc1E\x02\xcbAA\x00\xdc\x81\x00\x01\x05\x02\x06\x00\x06BF\x04A\x82\x06\x00\x81\xc2\x01\x00\xc1\xc2\x01\x00\x1c\x82\x00\x02\x0e\x82\x00\x04\xcc\x01\x82\x03\x05\x02\x06\x00\x06BF\x04A\xc2\x01\x00\x81\xc2\x06\x00\xc1\xc2\x01\x00\x1c\x82\x00\x02\xcc\x01\x82\x03\\A\x80\x01E\x01\x05\x00FA\xc5\x02\x80\x01\x00\x02\xc1\x01\x07\x00\x01B\x07\x00\\A\x00\x02E\x81\x07\x00F\xc1\xc7\x02\x85\x01\x03\x00\x86\x01H\x03\xc0\x01\x00\x00\x00\x02\x80\x01AB\x08\x00\x9c\x01\x00\x02\\A\x00\x00K\x81H\x02\xc5\x01\x06\x00\xc6A\xc6\x03\x01\xc2\x08\x00A\xc2\x01\x00\x81\xc2\x01\x00\xdc\x81\x00\x02\xce\x81\x80\x03\x05\x02\x06\x00\x06BF\x04A\xc2\x01\x00\x81\xc2\x08\x00\xc1\xc2\x01\x00\x1c\x82\x00\x02\xcc\x01\x82\x03\\A\x80\x01E\x81\x07\x00F\xc1\xc7\x02\x85\x01\x03\x00\x86\x01H\x03\xc0\x01\x00\x00\x00\x02\x80\x01A\x02\t\x00\x9c\x01\x00\x02\\A\x00\x00E\x01\x00\x00F\x81\xc2\x02\x80\x01\x00\x00\xc5\x01\x00\x00\xc6A\xc9\x03\x00\x02\x00\x00\xdc\x01\x00\x01\\A\x00\x00\x1e\x00\x80\x00&\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x0b\x00\x00\x00identifier\x00\x04\x05\x00\x00\x00hero\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x03\x00\x00\x00\x00\x00\x00\\@\x04\r\x00\x00\x00SetMoveSpeed\x00\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x06\x00\x00\x00Scene\x00\x04\r\x00\x00\x00CreateObject\x00\x04\x0b\x00\x00\x00magmapallo\x00\x04\x05\x00\x00\x00boll\x00\x04\x14\x00\x00\x00TransformController\x00\x04\x08\x00\x00\x00ScaleTo\x00\x03{\x14\xaeG\xe1z\x84?\x04\x0c\x00\x00\x00setPosition\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\x80[@\x03\x00\x00\x00\x00\x00\x00N@\x03\x00\x00\x00\x00\x00\x00\xe0?\x03333333\xd3?\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00 @\x04\x0c\x00\x00\x00setVelocity\x00\x03\x00\x00\x00\x00\x00\xe0u@\x03\x00\x00\x00\x00\x00\x006@\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x00\x00\x00\x00{\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\r\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00$\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00z\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00z\x00\x00\x00\x10\x00\x00\x00targetDirection\x00\n\x00\x00\x00z\x00\x00\x00\x0e\x00\x00\x00pushAnimation\x00\x17\x00\x00\x00z\x00\x00\x00\x05\x00\x00\x00ball\x001\x00\x00\x00z\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 107,
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                }
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 108,
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 109,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'lavamonster_walk',
                Repeating : 1,
                SpeedMultiplier : 0.699999988079071,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 110,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'lavamonster_run',
                Repeating : 1,
                SpeedMultiplier : 0.6000000238418579,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 111,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'lavamonster_attack1',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 112,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'lavamonster_attack2',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 113,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;

target = EntityController.Target(self);

while true do
    Program.Wait(4);
    if EntityController.IsIdle(self) then
        EntityController.PerformAction(self, 106);
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xc2\x00\x00\x00local self = ...;\r\n\r\ntarget = EntityController.Target(self);\r\n\r\nwhile true do\r\n\tProgram.Wait(4);\r\n\tif EntityController.IsIdle(self) then\r\n\t\tEntityController.PerformAction(self, 106);\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x04\x17\x00\x00\x00%\x00\x00\x01E@\x00\x00F\x80\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01G\x00\x00\x00E\xc0\x00\x00F\x00\xc1\x00\x81@\x01\x00\\@\x00\x01E@\x00\x00F\x80\xc1\x00\x80\x00\x00\x00\\\x80\x00\x01Z\x00\x00\x00\x16@\xfd\x7fE@\x00\x00F\xc0\xc1\x00\x80\x00\x00\x00\xc1\x00\x02\x00\\@\x80\x01\x16\xc0\xfb\x7f\x1e\x00\x80\x00\t\x00\x00\x00\x04\x07\x00\x00\x00target\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x00\x00\x00\x00\x00\x00\x10@\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x80Z@\x00\x00\x00\x00\x17\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\x01\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x16\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 115,
            HealthComponent{ # HealthComponent
                MaxHealth : 4,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 116,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 117,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -35.0,
                    Y : -0.0,
                    Width : 45.0,
                    Height : 63.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -35.0,
            Y : 0.0,
            Width : 45.0,
            Height : 63.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'monster_death',
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 102,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 103,
                ParticleId : 104,
                ParticleId : 105,
                ModelBindingId : 0,
                MaxParticles : 30,
                ParentEmitterId : 0,
                DestroyWhenFinished : 0,
                LocalSystem : 0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 103,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_1',
                Size : 40.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 104,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_2',
                Size : 40.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 105,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_3',
                Size : 40.0,
            }
        }
        Component{ # Component
            ClassName : 'MonsterDeathController',
            Identifier : 108,
            MonsterDeathControllerComponent{ # MonsterDeathControllerComponent
                ParticleEmitterId : 102,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -10.0,
            Y : -10.0,
            Width : 20.0,
            Height : 20.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'monsterbush',
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'bushmonster',
                YRotation : 0.0,
                EmissionFactor : 0.5,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'StaticMonsterController',
            Identifier : 102,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 100.0,
                AnimationControllerId : 106,
                EntityId : 107,
                RoamAreaId : 0,
            }
            StaticMonsterControllerComponent{ # StaticMonsterControllerComponent
                AnimationId : 103,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'bushmonster_wobble',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 104,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -40.0,
                    Y : -15.0,
                    Width : 80.0,
                    Height : 15.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 106,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 107,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'SoundEffect',
            Identifier : 108,
            SoundEffectComponent{ # SoundEffectComponent
                Name : 'rustle',
                Delay : 0.0,
                Volume : 1.0,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 111,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 112,
            HealthComponent{ # HealthComponent
                MaxHealth : 2,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 115,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -150.0,
                    Y : 0.0,
                    Width : 300.0,
                    Height : 100.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                MinDepth : -15.0,
                MaxDepth : 15.0,
                OnCollide{ # Program
                    String : $
local self, target = ...;

if ( target:identifier() == "hero") then
    CollisionShape.SetEnabled(self, 115, false);
    TransformController.TranslateBy(self, Vector3.New(0,30,0), 0.2);
    SoundLibrary.PlayEffect("rustle");
    Program.Wait(2);
    TransformController.TranslateBy(self, Vector3.New(0,-30,0), 1.5);
    Program.Wait(2);
    CollisionShape.SetEnabled(self, 115, true);
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00z\x01\x00\x00local self, target = ...;\r\n\r\nif ( target:identifier() == "hero") then\r\n\tCollisionShape.SetEnabled(self, 115, false);\r\n\tTransformController.TranslateBy(self, Vector3.New(0,30,0), 0.2);\r\n\tSoundLibrary.PlayEffect("rustle");\r\n\tProgram.Wait(2);\r\n\tTransformController.TranslateBy(self, Vector3.New(0,-30,0), 1.5);\r\n\tProgram.Wait(2);\r\n\tCollisionShape.SetEnabled(self, 115, true);\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x084\x00\x00\x00%\x00\x80\x01\x8b\x00\xc0\x00\x9c\x80\x00\x01\x17@@\x01\x16@\x0b\x80\x85\x80\x00\x00\x86\xc0@\x01\xc0\x00\x00\x00\x01\x01\x01\x00B\x01\x00\x00\x9c@\x00\x02\x85@\x01\x00\x86\x80A\x01\xc0\x00\x00\x00\x05\xc1\x01\x00\x06\x01B\x02AA\x02\x00\x81\x81\x02\x00\xc1A\x02\x00\x1c\x81\x00\x02A\xc1\x02\x00\x9c@\x00\x02\x85\x00\x03\x00\x86@C\x01\xc1\x80\x03\x00\x9c@\x00\x01\x85\xc0\x03\x00\x86\x00D\x01\xc1@\x04\x00\x9c@\x00\x01\x85@\x01\x00\x86\x80A\x01\xc0\x00\x00\x00\x05\xc1\x01\x00\x06\x01B\x02AA\x02\x00\x81\x81\x04\x00\xc1A\x02\x00\x1c\x81\x00\x02A\xc1\x04\x00\x9c@\x00\x02\x85\xc0\x03\x00\x86\x00D\x01\xc1@\x04\x00\x9c@\x00\x01\x85\x80\x00\x00\x86\xc0@\x01\xc0\x00\x00\x00\x01\x01\x01\x00B\x01\x80\x00\x9c@\x00\x02\x1e\x00\x80\x00\x14\x00\x00\x00\x04\x0b\x00\x00\x00identifier\x00\x04\x05\x00\x00\x00hero\x00\x04\x0f\x00\x00\x00CollisionShape\x00\x04\x0b\x00\x00\x00SetEnabled\x00\x03\x00\x00\x00\x00\x00\xc0\\@\x04\x14\x00\x00\x00TransformController\x00\x04\x0c\x00\x00\x00TranslateBy\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00>@\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\r\x00\x00\x00SoundLibrary\x00\x04\x0b\x00\x00\x00PlayEffect\x00\x04\x07\x00\x00\x00rustle\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x00\x00\x00\x00\x00\x00\x00@\x03\x00\x00\x00\x00\x00\x00>\xc0\x03\x00\x00\x00\x00\x00\x00\xf8?\x00\x00\x00\x004\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0b\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x003\x00\x00\x00\x07\x00\x00\x00target\x00\x01\x00\x00\x003\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'TransformController',
            Identifier : 117,
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -150.0,
            Y : -15.0,
            Width : 300.0,
            Height : 115.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'piikkipuska',
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 1,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Bush Beetle',
            }
        }
        Component{ # Component
            ClassName : 'Shadow',
            Identifier : 2,
            ShadowComponent{ # ShadowComponent
                WidthRadius : 80.0,
                DepthRadius : 80.0,
                Offset{ # Vector3
                    X : 30.0,
                    Y : 0.0,
                    Z : 0.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'piikkipuska',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.5,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.24313725531101227,
                    G : 0.27843138575553894,
                    B : 0.13725490868091583,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 104,
            Label : 'bush',
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -50.0,
                    Y : 55.0,
                    Width : 80.0,
                    Height : 65.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 106,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 107,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 111,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 112,
            HealthComponent{ # HealthComponent
                MaxHealth : 2,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'TransformController',
            Identifier : 117,
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 122,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'piikkipuska_wobble',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 127,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'piikkipuska_stand',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 128,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 107,
                AnimationControllerId : 106,
                DefaultMoveAnimationId : 122,
                RoamAreaId : 0,
                DefaultMoveSpeed : 0.0,
                DefaultAcceleration : 10000.0,
                TargetingDistance : 10000.0,
                MovementBehavior : 1,
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 129,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;
local timeSinceAttack = 5;
local shouldAttack = false;

while true do
    Program.Wait(0.2);
    timeSinceAttack = timeSinceAttack + 0.2;

    if timeSinceAttack > 4.0 and Math.Abs(EntityController.Target(self):position():x() - self:position():x()) < 170 then
        shouldAttack = true;
    end
    
    if EntityController.IsIdle(self) and shouldAttack then    
        EntityController.PerformAction(self, 130);
        timeSinceAttack = 0;
        shouldAttack = false;
    end

end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xdc\x01\x00\x00local self = ...;\r\nlocal timeSinceAttack = 5;\r\nlocal shouldAttack = false;\r\n\r\nwhile true do\r\n\tProgram.Wait(0.2);\r\n\ttimeSinceAttack = timeSinceAttack + 0.2;\r\n\r\n\tif timeSinceAttack > 4.0 and Math.Abs(EntityController.Target(self):position():x() - self:position():x()) < 170 then\r\n\t\tshouldAttack = true;\r\n\tend\r\n\t\r\n\tif EntityController.IsIdle(self) and shouldAttack then\t\r\n\t\tEntityController.PerformAction(self, 130);\r\n\t\ttimeSinceAttack = 0;\r\n\t\tshouldAttack = false;\r\n\tend\r\n\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x07.\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x82\x00\x00\x00\xc5@\x00\x00\xc6\x80\xc0\x01\x01\xc1\x00\x00\xdc@\x00\x01L\xc0\xc0\x00\x18@\x00\x82\x16\x80\x04\x80\xc5@\x01\x00\xc6\x80\xc1\x01\x05\xc1\x01\x00\x06\x01B\x02@\x01\x00\x00\x1c\x81\x00\x01\x0bAB\x02\x1c\x81\x00\x01\x0b\x81B\x02\x1c\x81\x00\x01KAB\x00\\\x81\x00\x01K\x81\xc2\x02\\\x81\x00\x01\rA\x01\x02\xdc\x80\x00\x01\x18\xc0\xc2\x01\x16\x00\x00\x80\x82\x00\x80\x00\xc5\xc0\x01\x00\xc6\x00\xc3\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xda\x00\x00\x00\x16\xc0\xf7\x7f\x9a\x00\x00\x00\x16@\xf7\x7f\xc5\xc0\x01\x00\xc6@\xc3\x01\x00\x01\x00\x00A\x81\x03\x00\xdc@\x80\x01A\xc0\x03\x00\x82\x00\x00\x00\x16@\xf5\x7f\x1e\x00\x80\x00\x10\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x14@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x03\x00\x00\x00\x00\x00\x00\x10@\x04\x05\x00\x00\x00Math\x00\x04\x04\x00\x00\x00Abs\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00@e@\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00@`@\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00.\x00\x00\x00\x01\x00\x00\x00\x02\x00\x00\x00\x03\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x13\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00-\x00\x00\x00\x10\x00\x00\x00timeSinceAttack\x00\x02\x00\x00\x00-\x00\x00\x00\r\x00\x00\x00shouldAttack\x00\x03\x00\x00\x00-\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 130,
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local standAnimation = 127;
local damageShape = 134
local bodyShape = 136;

local target = EntityController.Target(self);

targetDirection = 1;
if target:position():x() - self:position():x() < 0 then targetDirection = -1; end

EntityController.SetFacingDirection(self, targetDirection);
KeyframeAnimation.SetCurrentTime(self, standAnimation, 0.0);
AnimationController.BlendToAnimation(self, standAnimation);

self:setVelocity(Vector3.New(0, 370, 0));

Program.Wait(0.1);



Program.Wait(0.4);

CollisionShape.SetEnabled(self, bodyShape, true);

Program.Wait(2.0);

CollisionShape.SetEnabled(self, bodyShape, false);

Program.Wait(0.3);
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xac\x02\x00\x00local self = ...;\r\n\r\nlocal standAnimation = 127;\r\nlocal damageShape = 134\r\nlocal bodyShape = 136;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\ntargetDirection = 1;\r\nif target:position():x() - self:position():x() < 0 then targetDirection = -1; end\r\n\r\nEntityController.SetFacingDirection(self, targetDirection);\r\nKeyframeAnimation.SetCurrentTime(self, standAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, standAnimation);\r\n\r\nself:setVelocity(Vector3.New(0, 370, 0));\r\n\r\nProgram.Wait(0.1);\r\n\r\n\r\n\r\nProgram.Wait(0.4);\r\n\r\nCollisionShape.SetEnabled(self, bodyShape, true);\r\n\r\nProgram.Wait(2.0);\r\n\r\nCollisionShape.SetEnabled(self, bodyShape, false);\r\n\r\nProgram.Wait(0.3);\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x0bL\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\xc1\x80\x00\x00\x05\xc1\x00\x00\x06\x01A\x02@\x01\x00\x00\x1c\x81\x00\x01A\x81\x01\x00GA\x01\x00K\xc1A\x02\\\x81\x00\x01K\x01\xc2\x02\\\x81\x00\x01\x8b\xc1A\x00\x9c\x81\x00\x01\x8b\x01B\x03\x9c\x81\x00\x01M\x81\x81\x02\x18@\xc2\x02\x16@\x00\x80A\x81\x02\x00GA\x01\x00E\xc1\x00\x00F\xc1\xc2\x02\x80\x01\x00\x00\xc5A\x01\x00\\A\x80\x01E\x01\x03\x00FA\xc3\x02\x80\x01\x00\x00\xc0\x01\x80\x00\x01B\x02\x00\\A\x00\x02E\x81\x03\x00F\xc1\xc3\x02\x80\x01\x00\x00\xc0\x01\x80\x00\\A\x80\x01K\x01D\x00\xc5A\x04\x00\xc6\x81\xc4\x03\x01B\x02\x00A\xc2\x04\x00\x81B\x02\x00\xdc\x01\x00\x02\\A\x00\x00E\x01\x05\x00FA\xc5\x02\x81\x81\x05\x00\\A\x00\x01E\x01\x05\x00FA\xc5\x02\x81\xc1\x05\x00\\A\x00\x01E\x01\x06\x00FA\xc6\x02\x80\x01\x00\x00\xc0\x01\x80\x01\x02\x02\x80\x00\\A\x00\x02E\x01\x05\x00FA\xc5\x02\x81\x81\x06\x00\\A\x00\x01E\x01\x06\x00FA\xc6\x02\x80\x01\x00\x00\xc0\x01\x80\x01\x02\x02\x00\x00\\A\x00\x02E\x01\x05\x00FA\xc5\x02\x81\xc1\x06\x00\\A\x00\x01\x1e\x00\x80\x00\x1c\x00\x00\x00\x03\x00\x00\x00\x00\x00\xc0_@\x03\x00\x00\x00\x00\x00\xc0`@\x03\x00\x00\x00\x00\x00\x00a@\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x10\x00\x00\x00targetDirection\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x0c\x00\x00\x00setVelocity\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00 w@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x03\x9a\x99\x99\x99\x99\x99\xd9?\x04\x0f\x00\x00\x00CollisionShape\x00\x04\x0b\x00\x00\x00SetEnabled\x00\x03\x00\x00\x00\x00\x00\x00\x00@\x03333333\xd3?\x00\x00\x00\x00L\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00K\x00\x00\x00\x0f\x00\x00\x00standAnimation\x00\x02\x00\x00\x00K\x00\x00\x00\x0c\x00\x00\x00damageShape\x00\x03\x00\x00\x00K\x00\x00\x00\n\x00\x00\x00bodyShape\x00\x04\x00\x00\x00K\x00\x00\x00\x07\x00\x00\x00target\x00\x08\x00\x00\x00K\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 134,
            Label : 'damage_shape',
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -60.0,
                    Y : -20.0,
                    Width : 100.0,
                    Height : 65.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 136,
            Label : 'bodyshape',
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -40.0,
                    Y : -20.0,
                    Width : 70.0,
                    Height : 70.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 0,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -60.0,
            Y : -20.0,
            Width : 100.0,
            Height : 140.0,
        }
        Hidden : 0,
    }
    Scaling : 0.699999988079071,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'rolling_spirit',
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'sprit',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'ChargingMonsterController',
            Identifier : 102,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 100.0,
                AnimationControllerId : 107,
                EntityId : 103,
                RoamAreaId : 108,
            }
            ChargingMonsterControllerComponent{ # ChargingMonsterControllerComponent
                WalkAnimationId : 114,
                ChargeAnimationId : 105,
                RunAnimationId : 104,
                RunSpeed : 350.0,
                RunAcceleration : 400.0,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 103,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 104,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'sprit_move',
                Repeating : 1,
                SpeedMultiplier : 2.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 105,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'sprit_charge',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 107,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'UtilityShape',
            Identifier : 108,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -150.0,
                    Y : -100.0,
                    Width : 300.0,
                    Height : 200.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 110,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -30.0,
                    Y : 0.0,
                    Width : 60.0,
                    Height : 60.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 112,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 113,
            HealthComponent{ # HealthComponent
                MaxHealth : 2,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 114,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'sprit_move',
                Repeating : 1,
                SpeedMultiplier : 0.5,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 116,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Forest Spirit',
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -30.0,
            Y : 0.0,
            Width : 60.0,
            Height : 60.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'shadowblob',
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'shadowblob',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.5,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 102,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'snowball_jump',
                Repeating : 0,
                SpeedMultiplier : 0.800000011920929,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'snowball_land',
                Repeating : 0,
                SpeedMultiplier : 0.800000011920929,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 104,
            EntityComponent{ # EntityComponent
                FacingDirection : 18446744073709551615,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                    String : $
local self = ...;
Program.Wait(0.2);

local snowie1 = Scene.CreateObject("shadowblob_little", "snowie1", self);
TransformController.TranslateBy(snowie1, Vector3.New(15,0,0), 0.01);

Program.Wait(0.3);
local snowie2 = Scene.CreateObject("shadowblob_little", "snowie2", self);
TransformController.TranslateBy(snowie2, Vector3.New(-15,0,0), 0.01);

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00c\x01\x00\x00local self = ...;\r\nProgram.Wait(0.2);\r\n\r\nlocal snowie1 = Scene.CreateObject("shadowblob_little", "snowie1", self);\r\nTransformController.TranslateBy(snowie1, Vector3.New(15,0,0), 0.01);\r\n\r\nProgram.Wait(0.3);\r\nlocal snowie2 = Scene.CreateObject("shadowblob_little", "snowie2", self);\r\nTransformController.TranslateBy(snowie2, Vector3.New(-15,0,0), 0.01);\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\t,\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x81\x80\x00\x00\\@\x00\x01E\xc0\x00\x00F\x00\xc1\x00\x81@\x01\x00\xc1\x80\x01\x00\x00\x01\x00\x00\\\x80\x00\x02\x85\xc0\x01\x00\x86\x00B\x01\xc0\x00\x80\x00\x05A\x02\x00\x06\x81B\x02A\xc1\x02\x00\x81\x01\x03\x00\xc1\x01\x03\x00\x1c\x81\x00\x02AA\x03\x00\x9c@\x00\x02\x85\x00\x00\x00\x86@@\x01\xc1\x80\x03\x00\x9c@\x00\x01\x85\xc0\x00\x00\x86\x00A\x01\xc1@\x01\x00\x01\xc1\x03\x00@\x01\x00\x00\x9c\x80\x00\x02\xc5\xc0\x01\x00\xc6\x00\xc2\x01\x00\x01\x00\x01EA\x02\x00F\x81\xc2\x02\x81\x01\x04\x00\xc1\x01\x03\x00\x01\x02\x03\x00\\\x81\x00\x02\x81A\x03\x00\xdc@\x00\x02\x1e\x00\x80\x00\x11\x00\x00\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x06\x00\x00\x00Scene\x00\x04\r\x00\x00\x00CreateObject\x00\x04\x12\x00\x00\x00shadowblob_little\x00\x04\x08\x00\x00\x00snowie1\x00\x04\x14\x00\x00\x00TransformController\x00\x04\x0c\x00\x00\x00TranslateBy\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\x00.@\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03{\x14\xaeG\xe1z\x84?\x03333333\xd3?\x04\x08\x00\x00\x00snowie2\x00\x03\x00\x00\x00\x00\x00\x00.\xc0\x00\x00\x00\x00,\x00\x00\x00\x01\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00+\x00\x00\x00\x08\x00\x00\x00snowie1\x00\x0b\x00\x00\x00+\x00\x00\x00\x08\x00\x00\x00snowie2\x00 \x00\x00\x00+\x00\x00\x00\x00\x00\x00\x00',
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 106,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -25.0,
                    Y : 7.0,
                    Width : 30.0,
                    Height : 38.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 109,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 110,
            HealthComponent{ # HealthComponent
                MaxHealth : 2,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'BouncingMonsterController',
            Identifier : 112,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 100.0,
                AnimationControllerId : 115,
                EntityId : 104,
                RoamAreaId : 0,
            }
            BouncingMonsterControllerComponent{ # BouncingMonsterControllerComponent
                JumpAnimationId : 102,
                FallAnimationId : 103,
                JumpAngle : 1.3089969158172607,
                JumpSpeed : 300.0,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 115,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -25.0,
            Y : 0.0,
            Width : 30.0,
            Height : 45.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'shadowblob_fire_little',
        Component{ # Component
            ClassName : 'TransformController',
            Identifier : 1,
        }
        Component{ # Component
            ClassName : 'FireEmitter',
            Identifier : 2,
            FireEmitterComponent{ # FireEmitterComponent
                ParticleEmitterId : 3,
                LightId : 0,
                Color{ # FloatColor
                    R : 1.0,
                    G : 0.6148148775100708,
                    B : 0.4222222566604614,
                    A : 0.23333333432674408,
                }
                ParticleInterval : 0.05000000074505806,
                ParticleMaxAge : 0.4000000059604645,
                ParticleSpread{ # Vector3
                    X : 2.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Origin3{ # Vector3
                    X : 0.0,
                    Y : 20.0,
                    Z : 0.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 3,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 5,
                ParticleId : 6,
                ModelBindingId : 0,
                MaxParticles : 30,
                ParentEmitterId : 0,
                DestroyWhenFinished : 0,
                LocalSystem : 0,
            }
        }
        Component{ # Component
            ClassName : 'Light',
            Identifier : 4,
            LightComponent{ # LightComponent
                Type : 3,
                Intensity : 1.0,
                Color{ # FloatColor
                    R : 1.0,
                    G : 0.39259272813796997,
                    B : 0.08888888359069824,
                    A : 1.0,
                }
                LinearAttenuation : 0.0,
                QuadraticAttenuation : 0.00019999999494757503,
                Offset{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Radius : 150.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 5,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_1',
                Size : 30.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 6,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_2',
                Size : 25.0,
            }
        }
        Component{ # Component
            ClassName : 'SimpleGlow',
            Identifier : 7,
            SimpleGlowComponent{ # SimpleGlowComponent
                Color{ # FloatColor
                    R : 0.4444444477558136,
                    G : 0.21111111342906952,
                    B : 0.1666666716337204,
                    A : 0.5,
                }
                Size : 30.0,
                NumSegments : 10,
                Depth : 15.0,
                PulseAmount : 0.15000000596046448,
                PulseTime : 0.800000011920929,
                Offset{ # Vector2
                    X : 0.0,
                    Y : 15.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 8,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Fire Blob',
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'shadowblob',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.8999999761581421,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 102,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'snowball_jump',
                Repeating : 0,
                SpeedMultiplier : 0.800000011920929,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'snowball_land',
                Repeating : 0,
                SpeedMultiplier : 0.800000011920929,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 104,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                    String : $


$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x03\x00\x00\x00\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x02\x01\x00\x00\x00\x1e\x00\x80\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00',
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 106,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -25.0,
                    Y : 7.0,
                    Width : 30.0,
                    Height : 38.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 109,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 110,
            HealthComponent{ # HealthComponent
                MaxHealth : 1,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'BouncingMonsterController',
            Identifier : 112,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 100.0,
                AnimationControllerId : 115,
                EntityId : 104,
                RoamAreaId : 0,
            }
            BouncingMonsterControllerComponent{ # BouncingMonsterControllerComponent
                JumpAnimationId : 102,
                FallAnimationId : 103,
                JumpAngle : 1.3962633609771729,
                JumpSpeed : 200.0,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 115,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -25.0,
            Y : -20.0,
            Width : 45.0,
            Height : 65.0,
        }
        Hidden : 0,
    }
    Scaling : 0.699999988079071,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'shadowblob_little',
        Component{ # Component
            ClassName : 'TransformController',
            Identifier : 1,
        }
        Component{ # Component
            ClassName : 'FireEmitter',
            Identifier : 2,
            FireEmitterComponent{ # FireEmitterComponent
                ParticleEmitterId : 3,
                LightId : 0,
                Color{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 0.699999988079071,
                }
                ParticleInterval : 0.10000000149011612,
                ParticleMaxAge : 0.8999999761581421,
                ParticleSpread{ # Vector3
                    X : 2.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Origin3{ # Vector3
                    X : 0.0,
                    Y : 20.0,
                    Z : 0.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 3,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 5,
                ParticleId : 6,
                ModelBindingId : 0,
                MaxParticles : 30,
                ParentEmitterId : 0,
                DestroyWhenFinished : 0,
                LocalSystem : 0,
            }
        }
        Component{ # Component
            ClassName : 'SimpleGlow',
            Identifier : 4,
            SimpleGlowComponent{ # SimpleGlowComponent
                Color{ # FloatColor
                    R : 1.0,
                    G : 0.0,
                    B : 0.0,
                    A : 0.5,
                }
                Size : 23.0,
                NumSegments : 10,
                Depth : 15.0,
                PulseAmount : 0.15000000596046448,
                PulseTime : 0.800000011920929,
                Offset{ # Vector2
                    X : -3.0,
                    Y : 18.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 5,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_1',
                Size : 30.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 6,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_2',
                Size : 25.0,
            }
        }
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 7,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Blob',
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'shadowblob',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.8999999761581421,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 102,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'snowball_jump',
                Repeating : 0,
                SpeedMultiplier : 0.800000011920929,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'snowball_land',
                Repeating : 0,
                SpeedMultiplier : 0.800000011920929,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 104,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                    String : $


$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x03\x00\x00\x00\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x02\x01\x00\x00\x00\x1e\x00\x80\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00',
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 106,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -25.0,
                    Y : 7.0,
                    Width : 30.0,
                    Height : 38.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 109,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 110,
            HealthComponent{ # HealthComponent
                MaxHealth : 1,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'BouncingMonsterController',
            Identifier : 112,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 100.0,
                AnimationControllerId : 115,
                EntityId : 104,
                RoamAreaId : 0,
            }
            BouncingMonsterControllerComponent{ # BouncingMonsterControllerComponent
                JumpAnimationId : 102,
                FallAnimationId : 103,
                JumpAngle : 1.3962633609771729,
                JumpSpeed : 200.0,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 115,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -25.0,
            Y : -20.0,
            Width : 45.0,
            Height : 65.0,
        }
        Hidden : 0,
    }
    Scaling : 0.699999988079071,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'shadowspinner',
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'boss1_shadowform',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 102,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'boss1_shadowform_move',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'boss1_shadowform_spinstart',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 104,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'boss1_shadowform_spin',
                Repeating : 1,
                SpeedMultiplier : 2.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'ChargingMonsterController',
            Identifier : 105,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 100.0,
                AnimationControllerId : 111,
                EntityId : 108,
                RoamAreaId : 0,
            }
            ChargingMonsterControllerComponent{ # ChargingMonsterControllerComponent
                WalkAnimationId : 102,
                ChargeAnimationId : 103,
                RunAnimationId : 104,
                RunSpeed : 230.0,
                RunAcceleration : 300.0,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 106,
            DamageComponent{ # DamageComponent
                MinDamage : 4,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 107,
            HealthComponent{ # HealthComponent
                MaxHealth : 4,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 108,
            EntityComponent{ # EntityComponent
                FacingDirection : 18446744073709551615,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 109,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -40.0,
                    Y : 0.0,
                    Width : 80.0,
                    Height : 100.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 111,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -40.0,
            Y : 0.0,
            Width : 80.0,
            Height : 100.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'skeleton_lord',
        Component{ # Component
            ClassName : 'ModelTransformController',
            Identifier : 1,
            ModelTransformControllerComponent{ # ModelTransformControllerComponent
                ModelId : 101,
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 2,
            Label : 'spinswing',
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local target = EntityController.Target(self);

local attackAnimation = 122;

if target ~= nil then 
    local targetDirection = 1;
    if (target:position() - self:position()):x() < 0 then targetDirection = -1; end

    EntityController.SetFacingDirection(self, targetDirection, 0);
    EntityController.SetMoveDirection(self, targetDirection, 0);    
    EntityController.SetMoveSpeed(self, 0);

    KeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);
    AnimationController.BlendToAnimation(self, attackAnimation);
    
    Program.Wait(0.2);


    EntityController.SetAcceleration(self, 0.1, false);
    self:setVelocity(Vector3.New(targetDirection*350,200,0));

    local swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 15);
    local swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 22);

    ModelTransformController.SetRotationSpeed(self, 400 / (swingStartTime + 0.1));
    
    Program.Wait(swingStartTime);

     EntityController.StartSwing(self, 108, swingEndTime - swingStartTime);

    Program.Wait(0.1);
    ModelTransformController.SetRotationSpeed(self, 0);

    Program.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));    
    ModelTransformController.SetRotationAngle(self, 0);

    EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));

    EntityController.SetAcceleration(self, 1000, false);

end


$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00w\x05\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nlocal attackAnimation = 122;\r\n\r\nif target ~= nil then \r\n\tlocal targetDirection = 1;\r\n\tif (target:position() - self:position()):x() < 0 then targetDirection = -1; end\r\n\r\n\tEntityController.SetFacingDirection(self, targetDirection, 0);\r\n\tEntityController.SetMoveDirection(self, targetDirection, 0);\t\r\n\tEntityController.SetMoveSpeed(self, 0);\r\n\r\n\tKeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);\r\n\tAnimationController.BlendToAnimation(self, attackAnimation);\r\n\t\r\n\tProgram.Wait(0.2);\r\n\r\n\r\n\tEntityController.SetAcceleration(self, 0.1, false);\r\n\tself:setVelocity(Vector3.New(targetDirection*350,200,0));\r\n\r\n\tlocal swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 15);\r\n\tlocal swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 22);\r\n\r\n\tModelTransformController.SetRotationSpeed(self, 400 / (swingStartTime + 0.1));\r\n\t\r\n\tProgram.Wait(swingStartTime);\r\n\r\n \tEntityController.StartSwing(self, 108, swingEndTime - swingStartTime);\r\n\r\n\tProgram.Wait(0.1);\r\n\tModelTransformController.SetRotationSpeed(self, 0);\r\n\r\n\tProgram.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));\t\r\n\tModelTransformController.SetRotationAngle(self, 0);\r\n\r\n\tEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\r\n\r\n\tEntityController.SetAcceleration(self, 1000, false);\r\n\r\nend\r\n\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\n\x82\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x81\x80\x00\x00W\xc0\xc0\x00\x16\x00\x1e\x80\xc1\x00\x01\x00\x0bA\xc1\x00\x1c\x81\x00\x01KAA\x00\\\x81\x00\x01\rA\x01\x02\x0b\x81A\x02\x1c\x81\x00\x01\x18\xc0A\x02\x16\x00\x00\x80\xc1\x00\x02\x00\x05\x01\x00\x00\x06AB\x02@\x01\x00\x00\x80\x01\x80\x01\xc1\xc1\x01\x00\x1cA\x00\x02\x05\x01\x00\x00\x06\x81B\x02@\x01\x00\x00\x80\x01\x80\x01\xc1\xc1\x01\x00\x1cA\x00\x02\x05\x01\x00\x00\x06\xc1B\x02@\x01\x00\x00\x81\xc1\x01\x00\x1cA\x80\x01\x05\x01\x03\x00\x06AC\x02@\x01\x00\x00\x80\x01\x00\x01\xc1\xc1\x01\x00\x1cA\x00\x02\x05\x81\x03\x00\x06\xc1C\x02@\x01\x00\x00\x80\x01\x00\x01\x1cA\x80\x01\x05\x01\x04\x00\x06AD\x02A\x81\x04\x00\x1cA\x00\x01\x05\x01\x00\x00\x06\xc1D\x02@\x01\x00\x00\x81\x01\x05\x00\xc2\x01\x00\x00\x1cA\x00\x02\x0bAE\x00\x85\x81\x05\x00\x86\xc1E\x03\xce\x01\xc6\x01\x01B\x06\x00A\xc2\x01\x00\x9c\x01\x00\x02\x1cA\x00\x00\x05\x01\x03\x00\x06\x81F\x02@\x01\x00\x00\x80\x01\x00\x01\xc1\xc1\x06\x00\x1c\x81\x00\x02E\x01\x03\x00F\x81\xc6\x02\x80\x01\x00\x00\xc0\x01\x00\x01\x01\x02\x07\x00\\\x81\x00\x02\x85A\x07\x00\x86\x81G\x03\xc0\x01\x00\x00\x0c\x02E\x02\x0f\x02\x82\x8f\x9cA\x80\x01\x85\x01\x04\x00\x86AD\x03\xc0\x01\x00\x02\x9cA\x00\x01\x85\x01\x00\x00\x86\x01H\x03\xc0\x01\x00\x00\x01B\x08\x00M\x02\x81\x02\x9cA\x00\x02\x85\x01\x04\x00\x86AD\x03\xc1\x01\x05\x00\x9cA\x00\x01\x85A\x07\x00\x86\x81G\x03\xc0\x01\x00\x00\x01\xc2\x01\x00\x9cA\x80\x01\x85\x01\x04\x00\x86AD\x03\xc5\x01\x03\x00\xc6\x81\xc8\x03\x00\x02\x00\x00@\x02\x00\x01\xdc\x01\x80\x01\x9cA\x00\x00\x85A\x07\x00\x86\xc1H\x03\xc0\x01\x00\x00\x01\xc2\x01\x00\x9cA\x80\x01\x85\x01\x00\x00\x86\xc1B\x03\xc0\x01\x00\x00\x05\x02\x00\x00\x06\x02I\x04@\x02\x00\x00\x1c\x02\x00\x01\x9cA\x00\x00\x85\x01\x00\x00\x86\xc1D\x03\xc0\x01\x00\x00\x01B\t\x00B\x02\x00\x00\x9cA\x00\x02\x1e\x00\x80\x00&\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x03\x00\x00\x00\x00\x00\x80^@\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\x11\x00\x00\x00SetMoveDirection\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x10\x00\x00\x00SetAcceleration\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x0c\x00\x00\x00setVelocity\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\xe0u@\x03\x00\x00\x00\x00\x00\x00i@\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00.@\x03\x00\x00\x00\x00\x00\x006@\x04\x19\x00\x00\x00ModelTransformController\x00\x04\x11\x00\x00\x00SetRotationSpeed\x00\x03\x00\x00\x00\x00\x00\x00y@\x04\x0b\x00\x00\x00StartSwing\x00\x03\x00\x00\x00\x00\x00\x00[@\x04\x11\x00\x00\x00TimeToCompletion\x00\x04\x11\x00\x00\x00SetRotationAngle\x00\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x03\x00\x00\x00\x00\x00@\x8f@\x00\x00\x00\x00\x82\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00%\x00\x00\x00%\x00\x00\x00%\x00\x00\x00%\x00\x00\x00%\x00\x00\x00\'\x00\x00\x00\'\x00\x00\x00\'\x00\x00\x00\'\x00\x00\x00\'\x00\x00\x00\'\x00\x00\x00\'\x00\x00\x00\'\x00\x00\x00)\x00\x00\x00)\x00\x00\x00)\x00\x00\x00)\x00\x00\x00)\x00\x00\x00)\x00\x00\x00+\x00\x00\x00\x06\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x81\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00\x81\x00\x00\x00\x10\x00\x00\x00attackAnimation\x00\x06\x00\x00\x00\x81\x00\x00\x00\x10\x00\x00\x00targetDirection\x00\t\x00\x00\x00\x81\x00\x00\x00\x0f\x00\x00\x00swingStartTime\x00G\x00\x00\x00\x81\x00\x00\x00\r\x00\x00\x00swingEndTime\x00M\x00\x00\x00\x81\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'skellyberserker',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.699999988079071,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 102,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 103,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                    String : $

for i = 1, 6 do
Game.Flash();
Program.Wait(0.02);
end

Program.Wait(0.7);
MusicPlayer.FadeOut();
Program.Wait(1);
MusicPlayer.PlayMusic(Game.DefaultMusicName());
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xac\x00\x00\x00\r\nfor i = 1, 6 do\r\nGame.Flash();\r\nProgram.Wait(0.02);\r\nend\r\n\r\nProgram.Wait(0.7);\r\nMusicPlayer.FadeOut();\r\nProgram.Wait(1);\r\nMusicPlayer.PlayMusic(Game.DefaultMusicName());\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x06\x1e\x00\x00\x00\x01\x00\x00\x00A@\x00\x00\x81\x00\x00\x00 \x80\x01\x80\x05\x81\x00\x00\x06\xc1@\x02\x1cA\x80\x00\x05\x01\x01\x00\x06AA\x02A\x81\x01\x00\x1cA\x00\x01\x1f\xc0\xfd\x7f\x05\x00\x01\x00\x06@A\x00A\xc0\x01\x00\x1c@\x00\x01\x05\x00\x02\x00\x06@B\x00\x1c@\x80\x00\x05\x00\x01\x00\x06@A\x00A\x00\x00\x00\x1c@\x00\x01\x05\x00\x02\x00\x06\x80B\x00E\x80\x00\x00F\xc0\xc2\x00\\\x00\x80\x00\x1c@\x00\x00\x1e\x00\x80\x00\x0c\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x03\x00\x00\x00\x00\x00\x00\x18@\x04\x05\x00\x00\x00Game\x00\x04\x06\x00\x00\x00Flash\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03{\x14\xaeG\xe1z\x94?\x03ffffff\xe6?\x04\x0c\x00\x00\x00MusicPlayer\x00\x04\x08\x00\x00\x00FadeOut\x00\x04\n\x00\x00\x00PlayMusic\x00\x04\x11\x00\x00\x00DefaultMusicName\x00\x00\x00\x00\x00\x1e\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x02\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x04\x00\x00\x00\x0c\x00\x00\x00(for index)\x00\x03\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00(for limit)\x00\x03\x00\x00\x00\x0c\x00\x00\x00\x0b\x00\x00\x00(for step)\x00\x03\x00\x00\x00\x0c\x00\x00\x00\x02\x00\x00\x00i\x00\x04\x00\x00\x00\x0b\x00\x00\x00\x00\x00\x00\x00',
                }
                OnHurt{ # Program
                    String : $
local self = ...;

local target = EntityController.Target(self);
Program.Wait(0.3);
if EntityController.IsIdle(self) then
    EntityController.PerformAction(self, 112);
end

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xb2\x00\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\nProgram.Wait(0.3);\r\nif EntityController.IsIdle(self) then\r\n\tEntityController.PerformAction(self, 112);\r\nend\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x05\x15\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x85\x80\x00\x00\x86\xc0@\x01\xc1\x00\x01\x00\x9c@\x00\x01\x85\x00\x00\x00\x86@A\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\x9a\x00\x00\x00\x16\x00\x01\x80\x85\x00\x00\x00\x86\x80A\x01\xc0\x00\x00\x00\x01\xc1\x01\x00\x9c@\x80\x01\x1e\x00\x80\x00\x08\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03333333\xd3?\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x00\\@\x00\x00\x00\x00\x15\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x14\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00\x14\x00\x00\x00\x00\x00\x00\x00',
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 104,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 103,
                AnimationControllerId : 102,
                DefaultMoveAnimationId : 109,
                RoamAreaId : 0,
                DefaultMoveSpeed : 100.0,
                DefaultAcceleration : 800.0,
                TargetingDistance : 1000.0,
                MovementBehavior : 4,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 106,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -10.0,
                    Y : 0.0,
                    Width : 20.0,
                    Height : 50.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'SwingableWeaponController',
            Identifier : 108,
            SwingableWeaponControllerComponent{ # SwingableWeaponControllerComponent
                ControllingModelId : 101,
                ControllingBoneName : 'BoneWeapon1',
                WeaponTemplateName : 'skeleton_lord_sword',
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 109,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'skelly_walk',
                Repeating : 1,
                SpeedMultiplier : 1.25,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 110,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 111,
            HealthComponent{ # HealthComponent
                MaxHealth : 30,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 112,
            Label : 'vertswing',
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local attackAnimation = 113;

EntityController.SetMoveSpeed(self, 0);
KeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);
AnimationController.BlendToAnimation(self, attackAnimation);

Program.Wait(0.1);

local swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 13);
local swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 17);

Program.Wait(swingStartTime);
EntityController.StartSwing(self, 108, swingEndTime - swingStartTime);

Program.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));

EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x9a\x02\x00\x00local self = ...;\r\n\r\nlocal attackAnimation = 113;\r\n\r\nEntityController.SetMoveSpeed(self, 0);\r\nKeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, attackAnimation);\r\n\r\nProgram.Wait(0.1);\r\n\r\nlocal swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 13);\r\nlocal swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 17);\r\n\r\nProgram.Wait(swingStartTime);\r\nEntityController.StartSwing(self, 108, swingEndTime - swingStartTime);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));\r\n\r\nEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x08=\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x85@\x00\x00\x86\x80@\x01\xc0\x00\x00\x00\x01\xc1\x00\x00\x9c@\x80\x01\x85\x00\x01\x00\x86@A\x01\xc0\x00\x00\x00\x00\x01\x80\x00A\xc1\x00\x00\x9c@\x00\x02\x85\x80\x01\x00\x86\xc0A\x01\xc0\x00\x00\x00\x00\x01\x80\x00\x9c@\x80\x01\x85\x00\x02\x00\x86@B\x01\xc1\x80\x02\x00\x9c@\x00\x01\x85\x00\x01\x00\x86\xc0B\x01\xc0\x00\x00\x00\x00\x01\x80\x00A\x01\x03\x00\x9c\x80\x00\x02\xc5\x00\x01\x00\xc6\xc0\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\x81A\x03\x00\xdc\x80\x00\x02\x05\x01\x02\x00\x06AB\x02@\x01\x00\x01\x1cA\x00\x01\x05A\x00\x00\x06\x81C\x02@\x01\x00\x00\x81\xc1\x03\x00\xcd\x81\x80\x01\x1cA\x00\x02\x05\x01\x02\x00\x06AB\x02E\x01\x01\x00F\x01\xc4\x02\x80\x01\x00\x00\xc0\x01\x80\x00\\\x01\x80\x01\x1cA\x00\x00\x05A\x00\x00\x06\x81@\x02@\x01\x00\x00\x85A\x00\x00\x86AD\x03\xc0\x01\x00\x00\x9c\x01\x00\x01\x1cA\x00\x00\x1e\x00\x80\x00\x12\x00\x00\x00\x03\x00\x00\x00\x00\x00@\\@\x04\x11\x00\x00\x00EntityController\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00*@\x03\x00\x00\x00\x00\x00\x001@\x04\x0b\x00\x00\x00StartSwing\x00\x03\x00\x00\x00\x00\x00\x00[@\x04\x11\x00\x00\x00TimeToCompletion\x00\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x00\x00\x00\x00=\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00<\x00\x00\x00\x10\x00\x00\x00attackAnimation\x00\x02\x00\x00\x00<\x00\x00\x00\x0f\x00\x00\x00swingStartTime\x00\x1c\x00\x00\x00<\x00\x00\x00\r\x00\x00\x00swingEndTime\x00"\x00\x00\x00<\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 113,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'skelly_attack1',
                Repeating : 0,
                SpeedMultiplier : 1.2999999523162842,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 116,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;

while true do
    local target = EntityController.Target(self);
    Program.Wait(Math.RandomFloat(2.2,3));
    if EntityController.IsIdle(self) and target ~= nil then
        local distance = Math.Abs(target:position():x()- self:position():x());
        if  distance > 300 then 
            if Math.RandomInt(1, 3) == 3 then
                EntityController.PerformAction(self, 2); -- spin swing
            else
                EntityController.PerformAction(self, 126); -- normal side swing
            end
        elseif distance > 150 then 
            EntityController.PerformAction(self, 121); -- jump, no swing
        elseif distance < 150 then 
            EntityController.PerformAction(self, 112); -- top swing
        end
    end
end

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xa3\x02\x00\x00local self = ...;\r\n\r\nwhile true do\r\n\tlocal target = EntityController.Target(self);\r\n\tProgram.Wait(Math.RandomFloat(2.2,3));\r\n\tif EntityController.IsIdle(self) and target ~= nil then\r\n\t\tlocal distance = Math.Abs(target:position():x()- self:position():x());\r\n\t\tif  distance > 300 then \r\n\t\t\tif Math.RandomInt(1, 3) == 3 then\r\n\t\t\t\tEntityController.PerformAction(self, 2); -- spin swing\r\n\t\t\telse\r\n\t\t\t\tEntityController.PerformAction(self, 126); -- normal side swing\r\n\t\t\tend\r\n\t\telseif distance > 150 then \r\n\t\t\tEntityController.PerformAction(self, 121); -- jump, no swing\r\n\t\telseif distance < 150 then \r\n\t\t\tEntityController.PerformAction(self, 112); -- top swing\r\n\t\tend\r\n\tend\r\nend\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x06G\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x85\x80\x00\x00\x86\xc0@\x01\xc5\x00\x01\x00\xc6@\xc1\x01\x01\x81\x01\x00A\xc1\x01\x00\xdc\x00\x80\x01\x9c@\x00\x00\x85\x00\x00\x00\x86\x00B\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\x9a\x00\x00\x00\x16@\xfb\x7fW@\xc2\x00\x16\xc0\xfa\x7f\x85\x00\x01\x00\x86\x80B\x01\xcb\xc0\xc2\x00\xdc\x80\x00\x01\xcb\x00\xc3\x01\xdc\x80\x00\x01\x0b\xc1B\x00\x1c\x81\x00\x01\x0b\x01C\x02\x1c\x81\x00\x01\xcd\x00\x81\x01\x9c\x80\x00\x01\x18\x80\x80\x86\x16\x80\x04\x80\xc5\x00\x01\x00\xc6\x80\xc3\x01\x01\xc1\x03\x00A\xc1\x01\x00\xdc\x80\x80\x01\x17\xc0\xc1\x01\x16@\x01\x80\xc5\x00\x00\x00\xc6\x00\xc4\x01\x00\x01\x00\x00AA\x04\x00\xdc@\x80\x01\x16\x00\xf4\x7f\xc5\x00\x00\x00\xc6\x00\xc4\x01\x00\x01\x00\x00A\x81\x04\x00\xdc@\x80\x01\x16\x80\xf2\x7f\x18\x80\x80\x89\x16@\x01\x80\xc5\x00\x00\x00\xc6\x00\xc4\x01\x00\x01\x00\x00A\x01\x05\x00\xdc@\x80\x01\x16\x80\xf0\x7f\x18\xc0D\x01\x16\x00\xf0\x7f\xc5\x00\x00\x00\xc6\x00\xc4\x01\x00\x01\x00\x00AA\x05\x00\xdc@\x80\x01\x16\x80\xee\x7f\x1e\x00\x80\x00\x16\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x05\x00\x00\x00Math\x00\x04\x0c\x00\x00\x00RandomFloat\x00\x03\x9a\x99\x99\x99\x99\x99\x01@\x03\x00\x00\x00\x00\x00\x00\x08@\x04\x07\x00\x00\x00IsIdle\x00\x00\x04\x04\x00\x00\x00Abs\x00\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\xc0r@\x04\n\x00\x00\x00RandomInt\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x00\x00@\x03\x00\x00\x00\x00\x00\x80_@\x03\x00\x00\x00\x00\x00\xc0b@\x03\x00\x00\x00\x00\x00@^@\x03\x00\x00\x00\x00\x00\x00\\@\x00\x00\x00\x00G\x00\x00\x00\x01\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x13\x00\x00\x00\x14\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00F\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00E\x00\x00\x00\t\x00\x00\x00distance\x00!\x00\x00\x00E\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 120,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'skelly_jump',
                Repeating : 0,
                SpeedMultiplier : 0.800000011920929,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 121,
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local target = EntityController.Target(self);

local jumpAnimation = 120;

if target ~= nil then 
    local targetDirection = 1;
    if (target:position() - self:position()):x() < 0 then targetDirection = -1; end

    EntityController.SetFacingDirection(self, targetDirection, 0);
    EntityController.SetMoveDirection(self, targetDirection, 0);    
    EntityController.SetMoveSpeed(self, 0);

    KeyframeAnimation.SetCurrentTime(self, jumpAnimation, 0.0);
    AnimationController.BlendToAnimation(self, jumpAnimation);
    
    Program.Wait(0.2);
        
    EntityController.SetAcceleration(self, 0.1, false);
    self:setVelocity(Vector3.New(targetDirection*450,350,0));

    Program.Wait(0.6);

    EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));
    
    EntityController.SetAcceleration(self, 1000, false);

end

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00N\x03\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nlocal jumpAnimation = 120;\r\n\r\nif target ~= nil then \r\n\tlocal targetDirection = 1;\r\n\tif (target:position() - self:position()):x() < 0 then targetDirection = -1; end\r\n\r\n\tEntityController.SetFacingDirection(self, targetDirection, 0);\r\n\tEntityController.SetMoveDirection(self, targetDirection, 0);\t\r\n\tEntityController.SetMoveSpeed(self, 0);\r\n\r\n\tKeyframeAnimation.SetCurrentTime(self, jumpAnimation, 0.0);\r\n\tAnimationController.BlendToAnimation(self, jumpAnimation);\r\n\t\r\n\tProgram.Wait(0.2);\r\n\t\t\r\n\tEntityController.SetAcceleration(self, 0.1, false);\r\n\tself:setVelocity(Vector3.New(targetDirection*450,350,0));\r\n\r\n\tProgram.Wait(0.6);\r\n\r\n\tEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\r\n\t\r\n\tEntityController.SetAcceleration(self, 1000, false);\r\n\r\nend\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\nT\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x81\x80\x00\x00W\xc0\xc0\x00\x16\x80\x12\x80\xc1\x00\x01\x00\x0bA\xc1\x00\x1c\x81\x00\x01KAA\x00\\\x81\x00\x01\rA\x01\x02\x0b\x81A\x02\x1c\x81\x00\x01\x18\xc0A\x02\x16\x00\x00\x80\xc1\x00\x02\x00\x05\x01\x00\x00\x06AB\x02@\x01\x00\x00\x80\x01\x80\x01\xc1\xc1\x01\x00\x1cA\x00\x02\x05\x01\x00\x00\x06\x81B\x02@\x01\x00\x00\x80\x01\x80\x01\xc1\xc1\x01\x00\x1cA\x00\x02\x05\x01\x00\x00\x06\xc1B\x02@\x01\x00\x00\x81\xc1\x01\x00\x1cA\x80\x01\x05\x01\x03\x00\x06AC\x02@\x01\x00\x00\x80\x01\x00\x01\xc1\xc1\x01\x00\x1cA\x00\x02\x05\x81\x03\x00\x06\xc1C\x02@\x01\x00\x00\x80\x01\x00\x01\x1cA\x80\x01\x05\x01\x04\x00\x06AD\x02A\x81\x04\x00\x1cA\x00\x01\x05\x01\x00\x00\x06\xc1D\x02@\x01\x00\x00\x81\x01\x05\x00\xc2\x01\x00\x00\x1cA\x00\x02\x0bAE\x00\x85\x81\x05\x00\x86\xc1E\x03\xce\x01\xc6\x01\x01B\x06\x00A\xc2\x01\x00\x9c\x01\x00\x02\x1cA\x00\x00\x05\x01\x04\x00\x06AD\x02A\x81\x06\x00\x1cA\x00\x01\x05\x01\x00\x00\x06\xc1B\x02@\x01\x00\x00\x85\x01\x00\x00\x86\xc1F\x03\xc0\x01\x00\x00\x9c\x01\x00\x01\x1cA\x00\x00\x05\x01\x00\x00\x06\xc1D\x02@\x01\x00\x00\x81\x01\x07\x00\xc2\x01\x00\x00\x1cA\x00\x02\x1e\x00\x80\x00\x1d\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x03\x00\x00\x00\x00\x00\x00^@\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\x11\x00\x00\x00SetMoveDirection\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x10\x00\x00\x00SetAcceleration\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x0c\x00\x00\x00setVelocity\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00 |@\x03\x00\x00\x00\x00\x00\xe0u@\x03333333\xe3?\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x03\x00\x00\x00\x00\x00@\x8f@\x00\x00\x00\x00T\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1d\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00S\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00S\x00\x00\x00\x0e\x00\x00\x00jumpAnimation\x00\x06\x00\x00\x00S\x00\x00\x00\x10\x00\x00\x00targetDirection\x00\t\x00\x00\x00S\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 122,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'skelly_jumpattack',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 126,
            Label : 'horizswing',
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local target = EntityController.Target(self);

local attackAnimation = 122;

if target ~= nil then 
    local targetDirection = 1;
    if (target:position() - self:position()):x() < 0 then targetDirection = -1; end

    EntityController.SetFacingDirection(self, targetDirection, 0);
    EntityController.SetMoveDirection(self, targetDirection, 0);    
    EntityController.SetMoveSpeed(self, 0);

    KeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);
    AnimationController.BlendToAnimation(self, attackAnimation);
    
    Program.Wait(0.2);


    EntityController.SetAcceleration(self, 0.1, false);
    self:setVelocity(Vector3.New(targetDirection*350,200,0));

    local swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 15);
    local swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 22);

    Program.Wait(swingStartTime);

     EntityController.StartSwing(self, 108, swingEndTime - swingStartTime);

    Program.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));    

    EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));

    EntityController.SetAcceleration(self, 1000, false);

end

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x9e\x04\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nlocal attackAnimation = 122;\r\n\r\nif target ~= nil then \r\n\tlocal targetDirection = 1;\r\n\tif (target:position() - self:position()):x() < 0 then targetDirection = -1; end\r\n\r\n\tEntityController.SetFacingDirection(self, targetDirection, 0);\r\n\tEntityController.SetMoveDirection(self, targetDirection, 0);\t\r\n\tEntityController.SetMoveSpeed(self, 0);\r\n\r\n\tKeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);\r\n\tAnimationController.BlendToAnimation(self, attackAnimation);\r\n\t\r\n\tProgram.Wait(0.2);\r\n\r\n\r\n\tEntityController.SetAcceleration(self, 0.1, false);\r\n\tself:setVelocity(Vector3.New(targetDirection*350,200,0));\r\n\r\n\tlocal swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 15);\r\n\tlocal swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 22);\r\n\r\n\tProgram.Wait(swingStartTime);\r\n\r\n \tEntityController.StartSwing(self, 108, swingEndTime - swingStartTime);\r\n\r\n\tProgram.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));\t\r\n\r\n\tEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\r\n\r\n\tEntityController.SetAcceleration(self, 1000, false);\r\n\r\nend\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\nn\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x81\x80\x00\x00W\xc0\xc0\x00\x16\x00\x19\x80\xc1\x00\x01\x00\x0bA\xc1\x00\x1c\x81\x00\x01KAA\x00\\\x81\x00\x01\rA\x01\x02\x0b\x81A\x02\x1c\x81\x00\x01\x18\xc0A\x02\x16\x00\x00\x80\xc1\x00\x02\x00\x05\x01\x00\x00\x06AB\x02@\x01\x00\x00\x80\x01\x80\x01\xc1\xc1\x01\x00\x1cA\x00\x02\x05\x01\x00\x00\x06\x81B\x02@\x01\x00\x00\x80\x01\x80\x01\xc1\xc1\x01\x00\x1cA\x00\x02\x05\x01\x00\x00\x06\xc1B\x02@\x01\x00\x00\x81\xc1\x01\x00\x1cA\x80\x01\x05\x01\x03\x00\x06AC\x02@\x01\x00\x00\x80\x01\x00\x01\xc1\xc1\x01\x00\x1cA\x00\x02\x05\x81\x03\x00\x06\xc1C\x02@\x01\x00\x00\x80\x01\x00\x01\x1cA\x80\x01\x05\x01\x04\x00\x06AD\x02A\x81\x04\x00\x1cA\x00\x01\x05\x01\x00\x00\x06\xc1D\x02@\x01\x00\x00\x81\x01\x05\x00\xc2\x01\x00\x00\x1cA\x00\x02\x0bAE\x00\x85\x81\x05\x00\x86\xc1E\x03\xce\x01\xc6\x01\x01B\x06\x00A\xc2\x01\x00\x9c\x01\x00\x02\x1cA\x00\x00\x05\x01\x03\x00\x06\x81F\x02@\x01\x00\x00\x80\x01\x00\x01\xc1\xc1\x06\x00\x1c\x81\x00\x02E\x01\x03\x00F\x81\xc6\x02\x80\x01\x00\x00\xc0\x01\x00\x01\x01\x02\x07\x00\\\x81\x00\x02\x85\x01\x04\x00\x86AD\x03\xc0\x01\x00\x02\x9cA\x00\x01\x85\x01\x00\x00\x86AG\x03\xc0\x01\x00\x00\x01\x82\x07\x00M\x02\x81\x02\x9cA\x00\x02\x85\x01\x04\x00\x86AD\x03\xc5\x01\x03\x00\xc6\xc1\xc7\x03\x00\x02\x00\x00@\x02\x00\x01\xdc\x01\x80\x01\x9cA\x00\x00\x85\x01\x00\x00\x86\xc1B\x03\xc0\x01\x00\x00\x05\x02\x00\x00\x06\x02H\x04@\x02\x00\x00\x1c\x02\x00\x01\x9cA\x00\x00\x85\x01\x00\x00\x86\xc1D\x03\xc0\x01\x00\x00\x01B\x08\x00B\x02\x00\x00\x9cA\x00\x02\x1e\x00\x80\x00"\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x03\x00\x00\x00\x00\x00\x80^@\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\x11\x00\x00\x00SetMoveDirection\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x10\x00\x00\x00SetAcceleration\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x0c\x00\x00\x00setVelocity\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\xe0u@\x03\x00\x00\x00\x00\x00\x00i@\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00.@\x03\x00\x00\x00\x00\x00\x006@\x04\x0b\x00\x00\x00StartSwing\x00\x03\x00\x00\x00\x00\x00\x00[@\x04\x11\x00\x00\x00TimeToCompletion\x00\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x03\x00\x00\x00\x00\x00@\x8f@\x00\x00\x00\x00n\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00%\x00\x00\x00\x06\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00m\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00m\x00\x00\x00\x10\x00\x00\x00attackAnimation\x00\x06\x00\x00\x00m\x00\x00\x00\x10\x00\x00\x00targetDirection\x00\t\x00\x00\x00m\x00\x00\x00\x0f\x00\x00\x00swingStartTime\x00G\x00\x00\x00m\x00\x00\x00\r\x00\x00\x00swingEndTime\x00M\x00\x00\x00m\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'ItemDrop',
            Identifier : 130,
            ItemDropComponent{ # ItemDropComponent
                ItemName : 'item_key_yellow',
                ItemIdentifier : 'magicsword_key',
                DropEntry{ # ItemDropComponent_ItemDropEntry
                    TemplateName : 'item_key_yellow',
                    ItemIdentifier : 'magicsword_key',
                    DropChance : 1.0,
                    MinCount : 1,
                    MaxCount : 1,
                }
                CanDropMultipleItems : 1,
                CanDropDefaultItems : 0,
            }
        }
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 134,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'skeleton_lord',
            }
        }
        Component{ # Component
            ClassName : 'SimpleGlow',
            Identifier : 138,
            SimpleGlowComponent{ # SimpleGlowComponent
                Color{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 0.5,
                }
                Size : 30.0,
                NumSegments : 10,
                Depth : 15.0,
                PulseAmount : 0.15000000596046448,
                PulseTime : 0.800000011920929,
                Offset{ # Vector2
                    X : 0.0,
                    Y : 25.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 139,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 140,
                ParticleId : 141,
                ParticleId : 142,
                ModelBindingId : 0,
                MaxParticles : 200,
                ParentEmitterId : 0,
                DestroyWhenFinished : 0,
                Emitter{ # ParticleEmitter
                    Type : 5,
                    BaseColor{ # FloatColor
                        R : 0.0,
                        G : 0.0,
                        B : 0.0,
                        A : 0.15555556118488312,
                    }
                    Parameter : 90.0,
                    Parameter : 360.0,
                    Parameter : 0.0,
                    Parameter : 10.0,
                    Parameter : 30.0,
                    Parameter : 100.0,
                    Parameter : 0.0,
                    Parameter : 0.0,
                    Parameter : 1.0,
                    Parameter : 0.0,
                    Parameter : 1.0,
                    Parameter : 0.0010000000474974513,
                    Parameter : 0.4000000059604645,
                    Parameter : 0.20000000298023224,
                    Parameter : 0.0,
                    HueVariance : 0.0,
                    SaturationVariance : 0.0,
                    LightnessVariance : 0.0,
                    OriginOffset{ # Vector3
                        X : 0.0,
                        Y : 0.0,
                        Z : 0.0,
                    }
                }
                LocalSystem : 0,
                Gravity{ # Vector3
                    X : 0.0,
                    Y : 1.0,
                    Z : 0.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 140,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_1',
                Size : 35.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 141,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_2',
                Size : 27.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 142,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_3',
                Size : 20.0,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -30.0,
            Y : -30.0,
            Width : 60.0,
            Height : 80.0,
        }
        Hidden : 0,
        OnLoad{ # Program
            String : $
local self = ...;

if Character.HasFlag("magicsword_key") then
    self:setHidden(true);
end
$end
            Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00^\x00\x00\x00local self = ...;\r\n\r\nif Character.HasFlag("magicsword_key") then\r\n\tself:setHidden(true);\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x04\x0b\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x81\x80\x00\x00\\\x80\x00\x01Z\x00\x00\x00\x16\x80\x00\x80K\xc0@\x00\xc2\x00\x80\x00\\@\x80\x01\x1e\x00\x80\x00\x04\x00\x00\x00\x04\n\x00\x00\x00Character\x00\x04\x08\x00\x00\x00HasFlag\x00\x04\x0f\x00\x00\x00magicsword_key\x00\x04\n\x00\x00\x00setHidden\x00\x00\x00\x00\x00\x0b\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x01\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\n\x00\x00\x00\x00\x00\x00\x00',
        }
    }
    Scaling : 1.7000000476837158,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'skeleton_mage',
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'skelly',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 102,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 103,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                    String : $
local self = ...;

local target = EntityController.Target(self);
Program.Wait(0.3);
if EntityController.IsIdle(self) then
    EntityController.PerformAction(self, 112);
end

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xb2\x00\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\nProgram.Wait(0.3);\r\nif EntityController.IsIdle(self) then\r\n\tEntityController.PerformAction(self, 112);\r\nend\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x05\x15\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x85\x80\x00\x00\x86\xc0@\x01\xc1\x00\x01\x00\x9c@\x00\x01\x85\x00\x00\x00\x86@A\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\x9a\x00\x00\x00\x16\x00\x01\x80\x85\x00\x00\x00\x86\x80A\x01\xc0\x00\x00\x00\x01\xc1\x01\x00\x9c@\x80\x01\x1e\x00\x80\x00\x08\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03333333\xd3?\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x00\\@\x00\x00\x00\x00\x15\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x14\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00\x14\x00\x00\x00\x00\x00\x00\x00',
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 104,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 103,
                AnimationControllerId : 102,
                DefaultMoveAnimationId : 109,
                RoamAreaId : 0,
                DefaultMoveSpeed : 100.0,
                DefaultAcceleration : 800.0,
                TargetingDistance : 1000.0,
                MovementBehavior : 4,
            }
        }
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 105,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Skeletal Mage',
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 106,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -10.0,
                    Y : 0.0,
                    Width : 20.0,
                    Height : 50.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 109,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'skelly_walk',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 110,
            DamageComponent{ # DamageComponent
                MinDamage : 2,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 111,
            HealthComponent{ # HealthComponent
                MaxHealth : 6,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 113,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'skelly_invoke',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 116,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 0,
                Program{ # Program
                    String : $
local self = ...;

local target = EntityController.Target(self);

while true do
    Program.Wait(Math.RandomFloat(1.5,3));
    if EntityController.IsIdle(self) then
        EntityController.PerformAction(self, 129);
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xde\x00\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nwhile true do\r\n\tProgram.Wait(Math.RandomFloat(1.5,3));\r\n\tif EntityController.IsIdle(self) then\r\n\t\tEntityController.PerformAction(self, 129);\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x06\x1a\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x85\x80\x00\x00\x86\xc0@\x01\xc5\x00\x01\x00\xc6@\xc1\x01\x01\x81\x01\x00A\xc1\x01\x00\xdc\x00\x80\x01\x9c@\x00\x00\x85\x00\x00\x00\x86\x00B\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\x9a\x00\x00\x00\x16@\xfc\x7f\x85\x00\x00\x00\x86@B\x01\xc0\x00\x00\x00\x01\x81\x02\x00\x9c@\x80\x01\x16\xc0\xfa\x7f\x1e\x00\x80\x00\x0b\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x05\x00\x00\x00Math\x00\x04\x0c\x00\x00\x00RandomFloat\x00\x03\x00\x00\x00\x00\x00\x00\xf8?\x03\x00\x00\x00\x00\x00\x00\x08@\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00 `@\x00\x00\x00\x00\x1a\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x19\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00\x19\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 120,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'skelly_cast',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'Skill',
            Identifier : 125,
            SkillComponent{ # SkillComponent
                CastFinishAnimationId : 120,
                Origin{ # Vector3
                    X : 30.0,
                    Y : 30.0,
                }
                CastObjectTemplateName : 'skeleton_spell_cast',
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 129,
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local invokeAnimation = 113;
local castAnimation = 120;

local target = EntityController.Target(self);

local facingDirection = 1;

EntityController.SetFacingDirection(facingDirection);

EntityController.SetMoveSpeed(self, 0);
KeyframeAnimation.SetCurrentTime(self, invokeAnimation, 0.0);
AnimationController.BlendToAnimation(self, invokeAnimation);

if target:position():x() - self:position():x() < 0 then
    facingDirection = -1;
end

Program.Print(EntityController.FacingDirection(self)*Math.Abs(self:position():x() - target:position():x())/40);
local bolt = Skill.BeginCasting(self, "skeleton_bolt_ballistic", Vector3.New(
    EntityController.FacingDirection(self)*Math.Abs(self:position():x() - target:position():x())/55,10 , 0):normalized());

Program.Wait(1);

KeyframeAnimation.SetCurrentTime(self, castAnimation, 0.0);
AnimationController.BlendToAnimation(self, castAnimation);

Program.Wait(KeyframeAnimation.TimeToFrame(self, castAnimation, 9));

Skill.FinishCasting(self);
Properties.SetProperty(bolt, "caster", self:identifier());

Program.Wait(KeyframeAnimation.TimeToCompletion(self, castAnimation));

EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xdd\x04\x00\x00local self = ...;\r\n\r\nlocal invokeAnimation = 113;\r\nlocal castAnimation = 120;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nlocal facingDirection = 1;\r\n\r\nEntityController.SetFacingDirection(facingDirection);\r\n\r\nEntityController.SetMoveSpeed(self, 0);\r\nKeyframeAnimation.SetCurrentTime(self, invokeAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, invokeAnimation);\r\n\r\nif target:position():x() - self:position():x() < 0 then\r\n\tfacingDirection = -1;\r\nend\r\n\r\nProgram.Print(EntityController.FacingDirection(self)*Math.Abs(self:position():x() - target:position():x())/40);\r\nlocal bolt = Skill.BeginCasting(self, "skeleton_bolt_ballistic", Vector3.New(\r\n\tEntityController.FacingDirection(self)*Math.Abs(self:position():x() - target:position():x())/55,10 , 0):normalized());\r\n\r\nProgram.Wait(1);\r\n\r\nKeyframeAnimation.SetCurrentTime(self, castAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, castAnimation);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, castAnimation, 9));\r\n\r\nSkill.FinishCasting(self);\r\nProperties.SetProperty(bolt, "caster", self:identifier());\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, castAnimation));\r\n\r\nEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x0e\x8f\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x00\x01\x00\x00\xdc\x80\x00\x01\x01\x01\x01\x00E\x81\x00\x00FA\xc1\x02\x80\x01\x00\x02\\A\x00\x01E\x81\x00\x00F\x81\xc1\x02\x80\x01\x00\x00\xc1\xc1\x01\x00\\A\x80\x01E\x01\x02\x00FA\xc2\x02\x80\x01\x00\x00\xc0\x01\x80\x00\x01\xc2\x01\x00\\A\x00\x02E\x81\x02\x00F\xc1\xc2\x02\x80\x01\x00\x00\xc0\x01\x80\x00\\A\x80\x01K\x01\xc3\x01\\\x81\x00\x01KA\xc3\x02\\\x81\x00\x01\x8b\x01C\x00\x9c\x81\x00\x01\x8bAC\x03\x9c\x81\x00\x01M\x81\x81\x02\x18\xc0\xc1\x02\x16\x00\x00\x80\x01\x81\x03\x00E\xc1\x03\x00F\x01\xc4\x02\x85\x81\x00\x00\x86AD\x03\xc0\x01\x00\x00\x9c\x81\x00\x01\xc5\x81\x04\x00\xc6\xc1\xc4\x03\x0b\x02C\x00\x1c\x82\x00\x01\x0bBC\x04\x1c\x82\x00\x01K\x02\xc3\x01\\\x82\x00\x01KB\xc3\x04\\\x82\x00\x01\rB\x02\x04\xdc\x81\x00\x01\x8e\xc1\x01\x03\x8f\x01E\x03\\A\x00\x01EA\x05\x00F\x81\xc5\x02\x80\x01\x00\x00\xc1\xc1\x05\x00\x05\x02\x06\x00\x06BF\x04E\x82\x00\x00FB\xc4\x04\x80\x02\x00\x00\\\x82\x00\x01\x85\x82\x04\x00\x86\xc2D\x05\xcb\x02C\x00\xdc\x82\x00\x01\xcbB\xc3\x05\xdc\x82\x00\x01\x0b\x03\xc3\x01\x1c\x83\x00\x01\x0bCC\x06\x1c\x83\x00\x01\xcd\x02\x83\x05\x9c\x82\x00\x01N\x82\x82\x04O\x82\xc6\x04\x81\xc2\x06\x00\xc1\xc2\x01\x00\x1c\x82\x00\x02\x0b\x02G\x04\x1c\x02\x00\x01\\\x81\x00\x00\x85\xc1\x03\x00\x86AG\x03\xc1\x01\x01\x00\x9cA\x00\x01\x85\x01\x02\x00\x86AB\x03\xc0\x01\x00\x00\x00\x02\x00\x01A\xc2\x01\x00\x9cA\x00\x02\x85\x81\x02\x00\x86\xc1B\x03\xc0\x01\x00\x00\x00\x02\x00\x01\x9cA\x80\x01\x85\xc1\x03\x00\x86AG\x03\xc5\x01\x02\x00\xc6\x81\xc7\x03\x00\x02\x00\x00@\x02\x00\x01\x81\xc2\x07\x00\xdc\x01\x00\x02\x9cA\x00\x00\x85A\x05\x00\x86\x01H\x03\xc0\x01\x00\x00\x9cA\x00\x01\x85A\x08\x00\x86\x81H\x03\xc0\x01\x80\x02\x01\xc2\x08\x00K\x02I\x00\\\x02\x00\x01\x9cA\x00\x00\x85\xc1\x03\x00\x86AG\x03\xc5\x01\x02\x00\xc6A\xc9\x03\x00\x02\x00\x00@\x02\x00\x01\xdc\x01\x80\x01\x9cA\x00\x00\x85\x81\x00\x00\x86\x81A\x03\xc0\x01\x00\x00\x05\x82\x00\x00\x06\x82I\x04@\x02\x00\x00\x1c\x02\x00\x01\x9cA\x00\x00\x1e\x00\x80\x00\'\x00\x00\x00\x03\x00\x00\x00\x00\x00@\\@\x03\x00\x00\x00\x00\x00\x00^@\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x08\x00\x00\x00Program\x00\x04\x06\x00\x00\x00Print\x00\x04\x10\x00\x00\x00FacingDirection\x00\x04\x05\x00\x00\x00Math\x00\x04\x04\x00\x00\x00Abs\x00\x03\x00\x00\x00\x00\x00\x00D@\x04\x06\x00\x00\x00Skill\x00\x04\r\x00\x00\x00BeginCasting\x00\x04\x18\x00\x00\x00skeleton_bolt_ballistic\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\x80K@\x03\x00\x00\x00\x00\x00\x00$@\x04\x0b\x00\x00\x00normalized\x00\x04\x05\x00\x00\x00Wait\x00\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00"@\x04\x0e\x00\x00\x00FinishCasting\x00\x04\x0b\x00\x00\x00Properties\x00\x04\x0c\x00\x00\x00SetProperty\x00\x04\x07\x00\x00\x00caster\x00\x04\x0b\x00\x00\x00identifier\x00\x04\x11\x00\x00\x00TimeToCompletion\x00\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x00\x00\x00\x00\x8f\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x15\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x15\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00\x06\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x8e\x00\x00\x00\x10\x00\x00\x00invokeAnimation\x00\x02\x00\x00\x00\x8e\x00\x00\x00\x0e\x00\x00\x00castAnimation\x00\x03\x00\x00\x00\x8e\x00\x00\x00\x07\x00\x00\x00target\x00\x07\x00\x00\x00\x8e\x00\x00\x00\x10\x00\x00\x00facingDirection\x00\x08\x00\x00\x00\x8e\x00\x00\x00\x05\x00\x00\x00bolt\x00[\x00\x00\x00\x8e\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'SwingableWeaponController',
            Identifier : 137,
            SwingableWeaponControllerComponent{ # SwingableWeaponControllerComponent
                ControllingModelId : 101,
                ControllingBoneName : 'BoneWeapon1',
                WeaponTemplateName : 'weapon_handglow_red',
            }
        }
        Component{ # Component
            ClassName : 'SwingableWeaponController',
            Identifier : 141,
            SwingableWeaponControllerComponent{ # SwingableWeaponControllerComponent
                ControllingModelId : 101,
                ControllingBoneName : 'BoneWeapon2',
                WeaponTemplateName : 'weapon_handglow_red',
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -10.0,
            Y : 0.0,
            Width : 20.0,
            Height : 50.0,
        }
        Hidden : 0,
        OnLoad{ # Program
            String : $
local self = ...;

if Character.HasSceneFlag(self:identifier()) then
    Program.Execute("magedoor"));
    self:setHidden(true);
end
$end
        }
    }
    Scaling : 1.2999999523162842,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'skeleton_mage_frost',
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'skelly',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 102,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 103,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                    String : $
local self = ...;

local target = EntityController.Target(self);
Program.Wait(0.3);
if EntityController.IsIdle(self) then
    EntityController.PerformAction(self, 112);
end

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xb2\x00\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\nProgram.Wait(0.3);\r\nif EntityController.IsIdle(self) then\r\n\tEntityController.PerformAction(self, 112);\r\nend\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x05\x15\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x85\x80\x00\x00\x86\xc0@\x01\xc1\x00\x01\x00\x9c@\x00\x01\x85\x00\x00\x00\x86@A\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\x9a\x00\x00\x00\x16\x00\x01\x80\x85\x00\x00\x00\x86\x80A\x01\xc0\x00\x00\x00\x01\xc1\x01\x00\x9c@\x80\x01\x1e\x00\x80\x00\x08\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03333333\xd3?\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x00\\@\x00\x00\x00\x00\x15\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x14\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00\x14\x00\x00\x00\x00\x00\x00\x00',
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 104,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 103,
                AnimationControllerId : 102,
                DefaultMoveAnimationId : 109,
                RoamAreaId : 0,
                DefaultMoveSpeed : 100.0,
                DefaultAcceleration : 2500.0,
                TargetingDistance : 1000.0,
                MovementBehavior : 4,
            }
        }
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 105,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Frost Mage',
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 106,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -10.0,
                    Y : 0.0,
                    Width : 20.0,
                    Height : 50.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 109,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'skelly_walk',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 110,
            DamageComponent{ # DamageComponent
                MinDamage : 2,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 111,
            HealthComponent{ # HealthComponent
                MaxHealth : 6,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 113,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'skelly_invoke',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 116,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 0,
                Program{ # Program
                    String : $
local self = ...;

local target = EntityController.Target(self);

while true do
    Program.Wait(Math.RandomFloat(1.8,4));
    if EntityController.IsIdle(self) then
        EntityController.PerformAction(self, 129);
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xde\x00\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nwhile true do\r\n\tProgram.Wait(Math.RandomFloat(1.8,4));\r\n\tif EntityController.IsIdle(self) then\r\n\t\tEntityController.PerformAction(self, 129);\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x06\x1a\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x85\x80\x00\x00\x86\xc0@\x01\xc5\x00\x01\x00\xc6@\xc1\x01\x01\x81\x01\x00A\xc1\x01\x00\xdc\x00\x80\x01\x9c@\x00\x00\x85\x00\x00\x00\x86\x00B\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\x9a\x00\x00\x00\x16@\xfc\x7f\x85\x00\x00\x00\x86@B\x01\xc0\x00\x00\x00\x01\x81\x02\x00\x9c@\x80\x01\x16\xc0\xfa\x7f\x1e\x00\x80\x00\x0b\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x05\x00\x00\x00Math\x00\x04\x0c\x00\x00\x00RandomFloat\x00\x03\xcd\xcc\xcc\xcc\xcc\xcc\xfc?\x03\x00\x00\x00\x00\x00\x00\x10@\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00 `@\x00\x00\x00\x00\x1a\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x19\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00\x19\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 120,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'skelly_cast',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'Skill',
            Identifier : 125,
            SkillComponent{ # SkillComponent
                CastFinishAnimationId : 120,
                Origin{ # Vector3
                    X : 30.0,
                    Y : 30.0,
                }
                CastObjectTemplateName : 'skeleton_spell_cast_frost',
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 129,
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local invokeAnimation = 113;
local castAnimation = 120;

local target = EntityController.Target(self);

local facingDirection = 1;

EntityController.SetFacingDirection(facingDirection);

EntityController.SetMoveSpeed(self, 0);
KeyframeAnimation.SetCurrentTime(self, invokeAnimation, 0.0);
AnimationController.BlendToAnimation(self, invokeAnimation);

if target:position():x() - self:position():x() < 0 then
    facingDirection = -1;
end

local bolt = Skill.BeginCasting(self, "skeleton_bolt_frost", Vector3.New(
    EntityController.FacingDirection(self)*Math.Abs(self:position():x() - target:position():x())/85,10 , 0):normalized());

Program.Wait(1);

KeyframeAnimation.SetCurrentTime(self, castAnimation, 0.0);
AnimationController.BlendToAnimation(self, castAnimation);

Program.Wait(KeyframeAnimation.TimeToFrame(self, castAnimation, 9));

Skill.FinishCasting(self);
Properties.SetProperty(bolt, "caster", self:identifier());

Program.Wait(0.1);
local bolt2 = Skill.BeginCasting(self, "skeleton_bolt_frost", Vector3.New(
    EntityController.FacingDirection(self)*Math.Abs(self:position():x() - target:position():x())/35,10 , 0):normalized());
Skill.FinishCasting(self);
Properties.SetProperty(bolt2, "caster", self:identifier());
Skill.FinishCasting(self);

Program.Wait(KeyframeAnimation.TimeToCompletion(self, castAnimation));

EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xb8\x05\x00\x00local self = ...;\r\n\r\nlocal invokeAnimation = 113;\r\nlocal castAnimation = 120;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nlocal facingDirection = 1;\r\n\r\nEntityController.SetFacingDirection(facingDirection);\r\n\r\nEntityController.SetMoveSpeed(self, 0);\r\nKeyframeAnimation.SetCurrentTime(self, invokeAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, invokeAnimation);\r\n\r\nif target:position():x() - self:position():x() < 0 then\r\n\tfacingDirection = -1;\r\nend\r\n\r\nlocal bolt = Skill.BeginCasting(self, "skeleton_bolt_frost", Vector3.New(\r\n\tEntityController.FacingDirection(self)*Math.Abs(self:position():x() - target:position():x())/85,10 , 0):normalized());\r\n\r\nProgram.Wait(1);\r\n\r\nKeyframeAnimation.SetCurrentTime(self, castAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, castAnimation);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, castAnimation, 9));\r\n\r\nSkill.FinishCasting(self);\r\nProperties.SetProperty(bolt, "caster", self:identifier());\r\n\r\nProgram.Wait(0.1);\r\nlocal bolt2 = Skill.BeginCasting(self, "skeleton_bolt_frost", Vector3.New(\r\n\tEntityController.FacingDirection(self)*Math.Abs(self:position():x() - target:position():x())/35,10 , 0):normalized());\r\nSkill.FinishCasting(self);\r\nProperties.SetProperty(bolt2, "caster", self:identifier());\r\nSkill.FinishCasting(self);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, castAnimation));\r\n\r\nEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x0f\xab\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x00\x01\x00\x00\xdc\x80\x00\x01\x01\x01\x01\x00E\x81\x00\x00FA\xc1\x02\x80\x01\x00\x02\\A\x00\x01E\x81\x00\x00F\x81\xc1\x02\x80\x01\x00\x00\xc1\xc1\x01\x00\\A\x80\x01E\x01\x02\x00FA\xc2\x02\x80\x01\x00\x00\xc0\x01\x80\x00\x01\xc2\x01\x00\\A\x00\x02E\x81\x02\x00F\xc1\xc2\x02\x80\x01\x00\x00\xc0\x01\x80\x00\\A\x80\x01K\x01\xc3\x01\\\x81\x00\x01KA\xc3\x02\\\x81\x00\x01\x8b\x01C\x00\x9c\x81\x00\x01\x8bAC\x03\x9c\x81\x00\x01M\x81\x81\x02\x18\xc0\xc1\x02\x16\x00\x00\x80\x01\x81\x03\x00E\xc1\x03\x00F\x01\xc4\x02\x80\x01\x00\x00\xc1A\x04\x00\x05\x82\x04\x00\x06\xc2D\x04E\x82\x00\x00F\x02\xc5\x04\x80\x02\x00\x00\\\x82\x00\x01\x85B\x05\x00\x86\x82E\x05\xcb\x02C\x00\xdc\x82\x00\x01\xcbB\xc3\x05\xdc\x82\x00\x01\x0b\x03\xc3\x01\x1c\x83\x00\x01\x0bCC\x06\x1c\x83\x00\x01\xcd\x02\x83\x05\x9c\x82\x00\x01N\x82\x82\x04O\xc2\xc5\x04\x81\x02\x06\x00\xc1\xc2\x01\x00\x1c\x82\x00\x02\x0bBF\x04\x1c\x02\x00\x01\\\x81\x00\x00\x85\x81\x06\x00\x86\xc1F\x03\xc1\x01\x01\x00\x9cA\x00\x01\x85\x01\x02\x00\x86AB\x03\xc0\x01\x00\x00\x00\x02\x00\x01A\xc2\x01\x00\x9cA\x00\x02\x85\x81\x02\x00\x86\xc1B\x03\xc0\x01\x00\x00\x00\x02\x00\x01\x9cA\x80\x01\x85\x81\x06\x00\x86\xc1F\x03\xc5\x01\x02\x00\xc6\x01\xc7\x03\x00\x02\x00\x00@\x02\x00\x01\x81B\x07\x00\xdc\x01\x00\x02\x9cA\x00\x00\x85\xc1\x03\x00\x86\x81G\x03\xc0\x01\x00\x00\x9cA\x00\x01\x85\xc1\x07\x00\x86\x01H\x03\xc0\x01\x80\x02\x01B\x08\x00K\x82H\x00\\\x02\x00\x01\x9cA\x00\x00\x85\x81\x06\x00\x86\xc1F\x03\xc1\xc1\x08\x00\x9cA\x00\x01\x85\xc1\x03\x00\x86\x01D\x03\xc0\x01\x00\x00\x01B\x04\x00E\x82\x04\x00F\xc2\xc4\x04\x85\x82\x00\x00\x86\x02E\x05\xc0\x02\x00\x00\x9c\x82\x00\x01\xc5B\x05\x00\xc6\x82\xc5\x05\x0b\x03C\x00\x1c\x83\x00\x01\x0bCC\x06\x1c\x83\x00\x01K\x03\xc3\x01\\\x83\x00\x01KC\xc3\x06\\\x83\x00\x01\rC\x03\x06\xdc\x82\x00\x01\x8e\xc2\x02\x05\x8f\x02I\x05\xc1\x02\x06\x00\x01\xc3\x01\x00\\\x82\x00\x02KB\xc6\x04\\\x02\x00\x01\x9c\x81\x00\x00\xc5\xc1\x03\x00\xc6\x81\xc7\x03\x00\x02\x00\x00\xdcA\x00\x01\xc5\xc1\x07\x00\xc6\x01\xc8\x03\x00\x02\x00\x03AB\x08\x00\x8b\x82H\x00\x9c\x02\x00\x01\xdcA\x00\x00\xc5\xc1\x03\x00\xc6\x81\xc7\x03\x00\x02\x00\x00\xdcA\x00\x01\xc5\x81\x06\x00\xc6\xc1\xc6\x03\x05\x02\x02\x00\x06BI\x04@\x02\x00\x00\x80\x02\x00\x01\x1c\x02\x80\x01\xdcA\x00\x00\xc5\x81\x00\x00\xc6\x81\xc1\x03\x00\x02\x00\x00E\x82\x00\x00F\x82\xc9\x04\x80\x02\x00\x00\\\x02\x00\x01\xdcA\x00\x00\x1e\x00\x80\x00\'\x00\x00\x00\x03\x00\x00\x00\x00\x00@\\@\x03\x00\x00\x00\x00\x00\x00^@\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x06\x00\x00\x00Skill\x00\x04\r\x00\x00\x00BeginCasting\x00\x04\x14\x00\x00\x00skeleton_bolt_frost\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x04\x10\x00\x00\x00FacingDirection\x00\x04\x05\x00\x00\x00Math\x00\x04\x04\x00\x00\x00Abs\x00\x03\x00\x00\x00\x00\x00@U@\x03\x00\x00\x00\x00\x00\x00$@\x04\x0b\x00\x00\x00normalized\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00"@\x04\x0e\x00\x00\x00FinishCasting\x00\x04\x0b\x00\x00\x00Properties\x00\x04\x0c\x00\x00\x00SetProperty\x00\x04\x07\x00\x00\x00caster\x00\x04\x0b\x00\x00\x00identifier\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x03\x00\x00\x00\x00\x00\x80A@\x04\x11\x00\x00\x00TimeToCompletion\x00\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x00\x00\x00\x00\xab\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x14\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x14\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00"\x00\x00\x00#\x00\x00\x00#\x00\x00\x00"\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00%\x00\x00\x00%\x00\x00\x00%\x00\x00\x00%\x00\x00\x00%\x00\x00\x00%\x00\x00\x00%\x00\x00\x00&\x00\x00\x00&\x00\x00\x00&\x00\x00\x00&\x00\x00\x00(\x00\x00\x00(\x00\x00\x00(\x00\x00\x00(\x00\x00\x00(\x00\x00\x00(\x00\x00\x00(\x00\x00\x00(\x00\x00\x00*\x00\x00\x00*\x00\x00\x00*\x00\x00\x00*\x00\x00\x00*\x00\x00\x00*\x00\x00\x00*\x00\x00\x00*\x00\x00\x00*\x00\x00\x00\x07\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\xaa\x00\x00\x00\x10\x00\x00\x00invokeAnimation\x00\x02\x00\x00\x00\xaa\x00\x00\x00\x0e\x00\x00\x00castAnimation\x00\x03\x00\x00\x00\xaa\x00\x00\x00\x07\x00\x00\x00target\x00\x07\x00\x00\x00\xaa\x00\x00\x00\x10\x00\x00\x00facingDirection\x00\x08\x00\x00\x00\xaa\x00\x00\x00\x05\x00\x00\x00bolt\x00F\x00\x00\x00\xaa\x00\x00\x00\x06\x00\x00\x00bolt2\x00\x8b\x00\x00\x00\xaa\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'SwingableWeaponController',
            Identifier : 137,
            SwingableWeaponControllerComponent{ # SwingableWeaponControllerComponent
                ControllingModelId : 101,
                ControllingBoneName : 'BoneWeapon1',
                WeaponTemplateName : 'weapon_handglow_frost',
            }
        }
        Component{ # Component
            ClassName : 'SwingableWeaponController',
            Identifier : 141,
            SwingableWeaponControllerComponent{ # SwingableWeaponControllerComponent
                ControllingModelId : 101,
                ControllingBoneName : 'BoneWeapon2',
                WeaponTemplateName : 'weapon_handglow_frost',
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -10.0,
            Y : 0.0,
            Width : 20.0,
            Height : 50.0,
        }
        Hidden : 0,
    }
    Scaling : 1.2999999523162842,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'skeleton_sword',
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'skelly',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 102,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 103,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                    String : $
local self = ...;

local target = EntityController.Target(self);
Program.Wait(0.3);
if EntityController.IsIdle(self) then
    EntityController.PerformAction(self, 112);
end

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xb2\x00\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\nProgram.Wait(0.3);\r\nif EntityController.IsIdle(self) then\r\n\tEntityController.PerformAction(self, 112);\r\nend\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x05\x15\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x85\x80\x00\x00\x86\xc0@\x01\xc1\x00\x01\x00\x9c@\x00\x01\x85\x00\x00\x00\x86@A\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\x9a\x00\x00\x00\x16\x00\x01\x80\x85\x00\x00\x00\x86\x80A\x01\xc0\x00\x00\x00\x01\xc1\x01\x00\x9c@\x80\x01\x1e\x00\x80\x00\x08\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03333333\xd3?\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x00\\@\x00\x00\x00\x00\x15\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x14\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00\x14\x00\x00\x00\x00\x00\x00\x00',
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 104,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 103,
                AnimationControllerId : 102,
                DefaultMoveAnimationId : 109,
                RoamAreaId : 0,
                DefaultMoveSpeed : 100.0,
                DefaultAcceleration : 2500.0,
                TargetingDistance : 1000.0,
                MovementBehavior : 4,
            }
        }
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 105,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Skeleton',
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 106,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -10.0,
                    Y : 0.0,
                    Width : 20.0,
                    Height : 50.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'SwingableWeaponController',
            Identifier : 108,
            SwingableWeaponControllerComponent{ # SwingableWeaponControllerComponent
                ControllingModelId : 101,
                ControllingBoneName : 'BoneWeapon1',
                WeaponTemplateName : 'skelly_weapon_sword',
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 109,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'skelly_walk',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 110,
            DamageComponent{ # DamageComponent
                MinDamage : 2,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 111,
            HealthComponent{ # HealthComponent
                MaxHealth : 6,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 112,
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local attackAnimation = 113;

EntityController.SetMoveSpeed(self, 0);
KeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);
AnimationController.BlendToAnimation(self, attackAnimation);

Program.Wait(0.1);

local swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 13);
local swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 16);

Program.Wait(swingStartTime);
EntityController.StartSwing(self, 108, swingEndTime - swingStartTime);

Program.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));

EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x9a\x02\x00\x00local self = ...;\r\n\r\nlocal attackAnimation = 113;\r\n\r\nEntityController.SetMoveSpeed(self, 0);\r\nKeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, attackAnimation);\r\n\r\nProgram.Wait(0.1);\r\n\r\nlocal swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 13);\r\nlocal swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 16);\r\n\r\nProgram.Wait(swingStartTime);\r\nEntityController.StartSwing(self, 108, swingEndTime - swingStartTime);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));\r\n\r\nEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x08=\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x85@\x00\x00\x86\x80@\x01\xc0\x00\x00\x00\x01\xc1\x00\x00\x9c@\x80\x01\x85\x00\x01\x00\x86@A\x01\xc0\x00\x00\x00\x00\x01\x80\x00A\xc1\x00\x00\x9c@\x00\x02\x85\x80\x01\x00\x86\xc0A\x01\xc0\x00\x00\x00\x00\x01\x80\x00\x9c@\x80\x01\x85\x00\x02\x00\x86@B\x01\xc1\x80\x02\x00\x9c@\x00\x01\x85\x00\x01\x00\x86\xc0B\x01\xc0\x00\x00\x00\x00\x01\x80\x00A\x01\x03\x00\x9c\x80\x00\x02\xc5\x00\x01\x00\xc6\xc0\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\x81A\x03\x00\xdc\x80\x00\x02\x05\x01\x02\x00\x06AB\x02@\x01\x00\x01\x1cA\x00\x01\x05A\x00\x00\x06\x81C\x02@\x01\x00\x00\x81\xc1\x03\x00\xcd\x81\x80\x01\x1cA\x00\x02\x05\x01\x02\x00\x06AB\x02E\x01\x01\x00F\x01\xc4\x02\x80\x01\x00\x00\xc0\x01\x80\x00\\\x01\x80\x01\x1cA\x00\x00\x05A\x00\x00\x06\x81@\x02@\x01\x00\x00\x85A\x00\x00\x86AD\x03\xc0\x01\x00\x00\x9c\x01\x00\x01\x1cA\x00\x00\x1e\x00\x80\x00\x12\x00\x00\x00\x03\x00\x00\x00\x00\x00@\\@\x04\x11\x00\x00\x00EntityController\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00*@\x03\x00\x00\x00\x00\x00\x000@\x04\x0b\x00\x00\x00StartSwing\x00\x03\x00\x00\x00\x00\x00\x00[@\x04\x11\x00\x00\x00TimeToCompletion\x00\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x00\x00\x00\x00=\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00<\x00\x00\x00\x10\x00\x00\x00attackAnimation\x00\x02\x00\x00\x00<\x00\x00\x00\x0f\x00\x00\x00swingStartTime\x00\x1c\x00\x00\x00<\x00\x00\x00\r\x00\x00\x00swingEndTime\x00"\x00\x00\x00<\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 113,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'skelly_attack1',
                Repeating : 0,
                SpeedMultiplier : 1.2999999523162842,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 116,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;

local target = EntityController.Target(self);
while true do
    Program.Wait(2);
    if EntityController.IsIdle(self) then
        EntityController.PerformAction(self, 112);
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xc6\x00\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\nwhile true do\r\n\tProgram.Wait(2);\r\n\tif EntityController.IsIdle(self) then\r\n\t\tEntityController.PerformAction(self, 112);\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x05\x16\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x85\x80\x00\x00\x86\xc0@\x01\xc1\x00\x01\x00\x9c@\x00\x01\x85\x00\x00\x00\x86@A\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\x9a\x00\x00\x00\x16@\xfd\x7f\x85\x00\x00\x00\x86\x80A\x01\xc0\x00\x00\x00\x01\xc1\x01\x00\x9c@\x80\x01\x16\xc0\xfb\x7f\x1e\x00\x80\x00\x08\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x00\x00\x00\x00\x00\x00\x00@\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x00\\@\x00\x00\x00\x00\x16\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x15\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00\x15\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -10.0,
            Y : 0.0,
            Width : 20.0,
            Height : 50.0,
        }
        Hidden : 0,
    }
    Scaling : 1.2999999523162842,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'skelly_dw',
        Component{ # Component
            ClassName : 'CharController',
            Identifier : 1,
            CharControllerComponent{ # CharControllerComponent
                DefaultAnimationControllerId : 117,
                RightWeaponControllerId : 3,
                NormalRunSpeed : 160.0,
                JumpSpeed : 150.0,
                NormalMaxJumpTime : 0.20000000298023224,
                LeftWeaponControllerId : 5,
                EntityId : 7,
                SwingComponentId : 10,
                LiftAnimationControllerId : 0,
                LiftAnimationId : 0,
                DropAnimationId : 0,
                ThrowAnimationId : 0,
                HurtAnimationId : 0,
                DieAnimationId : 0,
                PushAnimationId : 0,
                FastRunSpeed : 320.0,
                FastMaxJumpTime : 0.10999999940395355,
                JumpSoundId : 0,
                AirJumpSoundId : 0,
                JumpLandSoundId : 0,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 2,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -8.0,
                    Y : -1.0,
                    Width : 16.0,
                    Height : 61.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'SwingableWeaponController',
            Identifier : 3,
            SwingableWeaponControllerComponent{ # SwingableWeaponControllerComponent
                ControllingModelId : 101,
                ControllingBoneName : 'BoneWeapon1',
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 4,
            Label : 'swing1',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'skelly_attack1',
                Repeating : 0,
                SpeedMultiplier : 1.7000000476837158,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'SwingableWeaponController',
            Identifier : 5,
            SwingableWeaponControllerComponent{ # SwingableWeaponControllerComponent
                ControllingModelId : 101,
                ControllingBoneName : 'BoneWeapon2',
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 6,
            HealthComponent{ # HealthComponent
                MaxHealth : 6,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 7,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'SkellyMonsterController',
            Identifier : 8,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 100.0,
                AnimationControllerId : 117,
                EntityId : 7,
                RoamAreaId : 0,
            }
            SkellyMonsterControllerComponent{ # SkellyMonsterControllerComponent
                CharControllerId : 1,
                AttackAreaId : 9,
            }
        }
        Component{ # Component
            ClassName : 'UtilityShape',
            Identifier : 9,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : 150.0,
                    Y : -180.0,
                    Width : 120.0,
                    Height : 280.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Swing',
            Identifier : 10,
            SwingComponent{ # SwingComponent
                AnimationId : 4,
                SwingLeftWeapon : 1,
                SwingRightWeapon : 1,
                StartFrame : 3.200000047683716,
                EndFrame : 5.400000095367432,
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'skelly',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            Label : 'stand',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'skelly_stand',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 105,
            Label : 'run',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'skelly_walk',
                Repeating : 1,
                SpeedMultiplier : 1.399999976158142,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'BlendAnimation',
            Identifier : 107,
            Label : 'groundMove',
            BlendAnimationComponent{ # BlendAnimationComponent
                Animation1Id : 103,
                Animation2Id : 105,
                BlendTime : 0.10000000149011612,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 109,
            Label : 'jump',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'skelly_jump',
                Repeating : 0,
                SpeedMultiplier : 2.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 111,
            Label : 'fall',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'skelly_land',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'BlendAnimation',
            Identifier : 113,
            Label : 'airMove',
            BlendAnimationComponent{ # BlendAnimationComponent
                Animation1Id : 109,
                Animation2Id : 111,
                BlendTime : 0.3499999940395355,
            }
        }
        Component{ # Component
            ClassName : 'BlendAnimation',
            Identifier : 115,
            Label : 'move',
            BlendAnimationComponent{ # BlendAnimationComponent
                Animation1Id : 107,
                Animation2Id : 113,
                BlendTime : 0.03999999910593033,
                ReverseBlendTime : 0.07999999821186066,
            }
        }
        Component{ # Component
            ClassName : 'CharAnimController',
            Identifier : 117,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
            CharAnimControllerComponent{ # CharAnimControllerComponent
                StandAnimationId : 103,
                WalkAnimationId : 105,
                JumpAnimationId : 109,
                FallAnimationId : 111,
                CastAnimationId : 0,
                AirJumpAnimationId : 0,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -8.0,
            Y : -1.0,
            Width : 16.0,
            Height : 61.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'skelly_sword',
        Component{ # Component
            ClassName : 'WeaponTrail',
            Identifier : 1,
            WeaponTrailComponent{ # WeaponTrailComponent
                Color{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 0.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 2,
            ShapeComponent{ # ShapeComponent
                Circle{ # Circle
                    Center{ # Vector2
                        X : 25.0,
                        Y : 0.0,
                    }
                    Radius : 23.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                SpecialType : 5,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 3,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 4,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 5,
                ParticleId : 6,
                ModelBindingId : 0,
                MaxParticles : 30,
                ParentEmitterId : 0,
                DestroyWhenFinished : 0,
                LocalSystem : 0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 5,
            ParticleComponent{ # ParticleComponent
                TextureName : 'flash_particle',
                Size : 50.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 6,
            ParticleComponent{ # ParticleComponent
                TextureName : 'spark_particle',
                Size : 10.0,
            }
        }
        Component{ # Component
            ClassName : 'SoundEffect',
            Identifier : 7,
            Label : 'swing1',
            SoundEffectComponent{ # SoundEffectComponent
                Name : 'sword_swing1',
                Delay : 0.0,
                Volume : 1.0,
            }
        }
        Component{ # Component
            ClassName : 'SoundEffect',
            Identifier : 8,
            Label : 'impact1',
            SoundEffectComponent{ # SoundEffectComponent
                Name : 'sword_impact1',
                Delay : 0.0,
                Volume : 1.0,
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'brass_sword',
                YRotation : 0.0,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'SwingableWeapon',
            Identifier : 103,
            SwingableWeaponComponent{ # SwingableWeaponComponent
                ModelId : 101,
                TrailId : 1,
                ImpactParticleEmitterId : 4,
                SwingSoundId : 7,
                DamageImpactSoundId : 8,
                GlowTrailId : 0,
                CollisionShapeId : 0,
                GlowId : 0,
                BaseLength : 50.0,
                GlowLength : 65.0,
                GlowIntensity : 0.0,
                Width : 10.0,
                GlowColor{ # FloatColor
                    R : 0.5,
                    G : 0.5,
                    B : 0.5,
                    A : 0.0,
                }
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : 0.0,
            Y : -23.0,
            Width : 48.0,
            Height : 46.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'snart',
        Component{ # Component
            ClassName : 'UtilityShape',
            Identifier : 1,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -150.0,
                    Y : -30.0,
                    Width : 300.0,
                    Height : 80.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'snart',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'snart_walk',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 104,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'snart_shoot',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 105,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 106,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 108,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -15.0,
                    Y : -24.971399307250977,
                    Width : 23.0,
                    Height : 64.54967498779297,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 110,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 111,
            HealthComponent{ # HealthComponent
                MaxHealth : 4,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'ShootingMonsterController',
            Identifier : 114,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 50.0,
                AnimationControllerId : 105,
                EntityId : 106,
                RoamAreaId : 1,
            }
            ShootingMonsterControllerComponent{ # ShootingMonsterControllerComponent
                WalkAnimationId : 103,
                ShootAnimationId : 104,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -15.0,
            Y : -24.971399307250977,
            Width : 23.0,
            Height : 64.54967498779297,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'snart_projectile',
        Component{ # Component
            ClassName : 'PhysicsObject',
            Identifier : 1,
            PhysicsObjectComponent{ # PhysicsObjectComponent
                PhysicsEnabled : 1,
                GravityMagnitude : 0.0,
                GroundDeceleration : 1500.0,
                AirDeceleration : 0.0,
                MaxSpeed : 700.0,
                AllowRotation : 0,
                Elasticity : 0.0,
            }
        }
        Component{ # Component
            ClassName : 'ProjectileController',
            Identifier : 2,
            ProjectileControllerComponent{ # ProjectileControllerComponent
                AlignObjectRotation : 0,
                BreakOnGroundCollision : 1,
            }
        }
        Component{ # Component
            ClassName : 'ModelTransformController',
            Identifier : 3,
            ModelTransformControllerComponent{ # ModelTransformControllerComponent
                ModelId : 101,
                RotationAxis{ # Vector3
                    X : 0.0,
                    Y : 0.7071067690849304,
                    Z : 0.7071067690849304,
                }
                RotationSpeed : 18.84955596923828,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 4,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_1',
                Size : 30.0,
            }
        }
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 5,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 4,
                ModelBindingId : 0,
                MaxParticles : 30,
                ParentEmitterId : 0,
                DestroyWhenFinished : 0,
                Emitter{ # ParticleEmitter
                    Type : 3,
                    BaseColor{ # FloatColor
                        R : 0.0,
                        G : 0.0,
                        B : 0.0,
                        A : 0.5888888835906982,
                    }
                    Parameter : 0.009999999776482582,
                    Parameter : 0.25,
                    Parameter : 1.0,
                    Parameter : 20.0,
                    Parameter : 0.30000001192092896,
                    Parameter : 0.0,
                    Parameter : 1.0,
                    HueVariance : 0.0,
                    SaturationVariance : 0.0,
                    LightnessVariance : 0.0,
                    OriginOffset{ # Vector3
                        X : 0.0,
                        Y : 0.0,
                        Z : 0.0,
                    }
                }
                LocalSystem : 0,
            }
        }
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 6,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 4,
                ModelBindingId : 0,
                MaxParticles : 30,
                ParentEmitterId : 5,
                DestroyWhenFinished : 0,
                Emitter{ # ParticleEmitter
                    Type : 2,
                    BaseColor{ # FloatColor
                        R : 0.0,
                        G : 0.0,
                        B : 0.0,
                        A : 0.6000000238418579,
                    }
                    Parameter : 50.0,
                    Parameter : 0.5,
                    Parameter : 50.0,
                    Parameter : 50.0,
                    HueVariance : 0.0,
                    SaturationVariance : 0.0,
                    LightnessVariance : 0.0,
                    OriginOffset{ # Vector3
                        X : 0.0,
                        Y : 0.0,
                        Z : 0.0,
                    }
                }
                LocalSystem : 0,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 7,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 0,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'SimpleGlow',
            Identifier : 8,
            SimpleGlowComponent{ # SimpleGlowComponent
                Color{ # FloatColor
                    R : 0.8303703665733337,
                    G : 0.8555555939674377,
                    B : 0.47777777910232544,
                    A : 1.0,
                }
                Size : 22.0,
                NumSegments : 10,
                Depth : 15.0,
                PulseAmount : 0.10000000149011612,
                PulseTime : 0.4000000059604645,
                Offset{ # Vector2
                    X : 0.0,
                    Y : 0.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'snart_projectile',
                YRotation : 0.0,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 102,
            ShapeComponent{ # ShapeComponent
                Circle{ # Circle
                    Center{ # Vector2
                        X : 0.0,
                        Y : 0.0,
                    }
                    Radius : 13.909807205200195,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 107,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -20.0,
            Y : -20.0,
            Width : 40.0,
            Height : 40.0,
        }
        Hidden : 0,
    }
    Scaling : 1.2999999523162842,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'snort',
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 1,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 2,
            HealthComponent{ # HealthComponent
                MaxHealth : 2,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 3,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 4,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'UtilityShape',
            Identifier : 5,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -150.0,
                    Y : -30.0,
                    Width : 300.0,
                    Height : 80.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'snort',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.7647058963775635,
                    G : 0.43529412150382996,
                    B : 0.13725490868091583,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            Label : 'walk',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'snort_walk',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 107,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -10.0,
                    Y : -24.971399307250977,
                    Width : 20.0,
                    Height : 65.06086730957031,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 116,
            Label : 'charge',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'snort_charge',
                Repeating : 0,
                SpeedMultiplier : 1.2999999523162842,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 119,
            Label : 'run',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'snort_run',
                Repeating : 1,
                SpeedMultiplier : 1.5,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'ChargingMonsterController',
            Identifier : 125,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 0.0,
                AnimationControllerId : 4,
                EntityId : 3,
                RoamAreaId : 5,
            }
            ChargingMonsterControllerComponent{ # ChargingMonsterControllerComponent
                WalkAnimationId : 103,
                ChargeAnimationId : 116,
                RunAnimationId : 119,
                RunSpeed : 230.0,
                RunAcceleration : 300.0,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 128,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -10.0,
                    Y : -10.0,
                    Width : 40.0,
                    Height : 20.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -10.0,
            Y : -24.971399307250977,
            Width : 40.0,
            Height : 65.06086730957031,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'snowbat',
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 1,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Ice Bat',
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'bat_blue',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.699999988079071,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'bat_fly',
                Repeating : 1,
                SpeedMultiplier : 2.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 105,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 107,
            EntityComponent{ # EntityComponent
                FacingDirection : 18446744073709551615,
                PhysicsEnabled : 0,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 111,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 113,
            HealthComponent{ # HealthComponent
                MaxHealth : 1,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 115,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -20.0,
                    Y : -7.7837300300598145,
                    Width : 40.0,
                    Height : 42.783729553222656,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                OnCollide{ # Program
                    String : $
local self, collidedObject, collisionNormal, groundCollision = ...;

if groundCollision then
    self:setVelocity(self:velocity() - collisionNormal*(2 * self:velocity():dot(collisionNormal)));
    if self:velocity():length() < 250 then
        self:setVelocity(self:velocity():normalized()*250);
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00,\x01\x00\x00local self, collidedObject, collisionNormal, groundCollision = ...;\r\n\r\nif groundCollision then\r\n\tself:setVelocity(self:velocity() - collisionNormal*(2 * self:velocity():dot(collisionNormal)));\r\n\tif self:velocity():length() < 250 then\r\n\t\tself:setVelocity(self:velocity():normalized()*250);\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\n\x1d\x00\x00\x00%\x00\x80\x02\xda\x00\x00\x00\x16\x00\x06\x80\x0b\x01@\x00\x8bA@\x00\x9c\x81\x00\x01\xcbA@\x00\xdc\x81\x00\x01\xcb\x81\xc0\x03@\x02\x00\x01\xdc\x81\x80\x01\xce\xc1\x81\x81\xce\xc1\x01\x01\x8d\xc1\x01\x03\x1cA\x80\x01\x0bA@\x00\x1c\x81\x00\x01\x0b\x01A\x02\x1c\x81\x00\x01\x18@A\x02\x16\x80\x01\x80\x0b\x01@\x00\x8bA@\x00\x9c\x81\x00\x01\x8b\x81A\x03\x9c\x81\x00\x01\x8eAA\x03\x1cA\x80\x01\x1e\x00\x80\x00\x07\x00\x00\x00\x04\x0c\x00\x00\x00setVelocity\x00\x04\t\x00\x00\x00velocity\x00\x04\x04\x00\x00\x00dot\x00\x03\x00\x00\x00\x00\x00\x00\x00@\x04\x07\x00\x00\x00length\x00\x03\x00\x00\x00\x00\x00@o@\x04\x0b\x00\x00\x00normalized\x00\x00\x00\x00\x00\x1d\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x1c\x00\x00\x00\x0f\x00\x00\x00collidedObject\x00\x01\x00\x00\x00\x1c\x00\x00\x00\x10\x00\x00\x00collisionNormal\x00\x01\x00\x00\x00\x1c\x00\x00\x00\x10\x00\x00\x00groundCollision\x00\x01\x00\x00\x00\x1c\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 118,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'bat_attack',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 119,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 107,
                AnimationControllerId : 105,
                DefaultMoveAnimationId : 103,
                RoamAreaId : 115,
                DefaultMoveSpeed : 100.0,
                DefaultAcceleration : 800.0,
                TargetingDistance : 1000.0,
                MovementBehavior : 1,
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 122,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;

local function ShouldAttack()
    if EntityController.Target(self) == nil then 
        return false; 
    end

    return (EntityController.Target(self):position() - self:position()):length() < 400;
end

local targetPosition = self:position();

local timeSinceAttack = 3;

while true do
    Program.Wait(0.2);
    timeSinceAttack = timeSinceAttack + 0.2;
    local target = EntityController.Target(self);

    if EntityController.IsIdle(self) then    

        if target ~= nil then
            EntityController.SetFacingDirection(self, 
                DirectionToTargetFromPosition(EntityController.Target(self):position(), self:position()));
        end

        local delta = targetPosition - self:position();

        PhysicsObject.SetGravityDirection(self, delta:normalized());
        PhysicsObject.SetGravityMagnitude(self, 0.5);
        PhysicsObject.SetDecelerationForce(self, 2);


        if  target ~= nil then
            targetPosition = target:position();
        end

    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xb0\x03\x00\x00local self = ...;\r\n\r\nlocal function ShouldAttack()\r\n\tif EntityController.Target(self) == nil then \r\n\t\treturn false; \r\n\tend\r\n\r\n\treturn (EntityController.Target(self):position() - self:position()):length() < 400;\r\nend\r\n\r\nlocal targetPosition = self:position();\r\n\r\nlocal timeSinceAttack = 3;\r\n\r\nwhile true do\r\n\tProgram.Wait(0.2);\r\n\ttimeSinceAttack = timeSinceAttack + 0.2;\r\n\tlocal target = EntityController.Target(self);\r\n\r\n\tif EntityController.IsIdle(self) then\t\r\n\r\n\t\tif target ~= nil then\r\n\t\t\tEntityController.SetFacingDirection(self, \r\n\t\t\t\tDirectionToTargetFromPosition(EntityController.Target(self):position(), self:position()));\r\n\t\tend\r\n\r\n\t\tlocal delta = targetPosition - self:position();\r\n\r\n\t\tPhysicsObject.SetGravityDirection(self, delta:normalized());\r\n\t\tPhysicsObject.SetGravityMagnitude(self, 0.5);\r\n\t\tPhysicsObject.SetDecelerationForce(self, 2);\r\n\r\n\r\n\t\tif  target ~= nil then\r\n\t\t\ttargetPosition = target:position();\r\n\t\tend\r\n\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x0b?\x00\x00\x00%\x00\x00\x01d\x00\x00\x00\x00\x00\x00\x00\x8b\x00@\x00\x9c\x80\x00\x01\xc1@\x00\x00\x05\x81\x00\x00\x06\xc1@\x02A\x01\x01\x00\x1cA\x00\x01\xcc\x00\xc1\x01\x05A\x01\x00\x06\x81A\x02@\x01\x00\x00\x1c\x81\x00\x01EA\x01\x00F\xc1\xc1\x02\x80\x01\x00\x00\\\x81\x00\x01Z\x01\x00\x00\x16\x00\xfc\x7fW\x00B\x02\x16@\x03\x80EA\x01\x00FA\xc2\x02\x80\x01\x00\x00\xc5\x81\x02\x00\x05B\x01\x00\x06\x82A\x04@\x02\x00\x00\x1c\x82\x00\x01\x0b\x02@\x04\x1c\x82\x00\x01K\x02@\x00\\\x02\x00\x01\xdc\x01\x00\x00\\A\x00\x00K\x01@\x00\\\x81\x00\x01MA\x01\x01\x85\xc1\x02\x00\x86\x01C\x03\xc0\x01\x00\x00\x0bB\xc3\x02\x1c\x02\x00\x01\x9cA\x00\x00\x85\xc1\x02\x00\x86\x81C\x03\xc0\x01\x00\x00\x01\xc2\x03\x00\x9cA\x80\x01\x85\xc1\x02\x00\x86\x01D\x03\xc0\x01\x00\x00\x01B\x04\x00\x9cA\x80\x01W\x00B\x02\x16\xc0\xf2\x7f\x8b\x01@\x02\x9c\x81\x00\x01\x80\x00\x00\x03\x16\xc0\xf1\x7f\x1e\x00\x80\x00\x12\x00\x00\x00\x04\t\x00\x00\x00position\x00\x03\x00\x00\x00\x00\x00\x00\x08@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x07\x00\x00\x00IsIdle\x00\x00\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\x1e\x00\x00\x00DirectionToTargetFromPosition\x00\x04\x0e\x00\x00\x00PhysicsObject\x00\x04\x14\x00\x00\x00SetGravityDirection\x00\x04\x0b\x00\x00\x00normalized\x00\x04\x14\x00\x00\x00SetGravityMagnitude\x00\x03\x00\x00\x00\x00\x00\x00\xe0?\x04\x15\x00\x00\x00SetDecelerationForce\x00\x03\x00\x00\x00\x00\x00\x00\x00@\x01\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\t\x00\x00\x00\x01\x00\x00\x03\x1a\x00\x00\x00\x05\x00\x00\x00\x06@@\x00D\x00\x00\x00\x1c\x80\x00\x01\x17\x80@\x00\x16@\x00\x80\x02\x00\x00\x00\x1e\x00\x00\x01\x05\x00\x00\x00\x06@@\x00D\x00\x00\x00\x1c\x80\x00\x01\x0b\xc0@\x00\x1c\x80\x00\x01D\x00\x00\x00K\xc0\xc0\x00\\\x80\x00\x01\r@\x00\x00\x0b\x00A\x00\x1c\x80\x00\x01X@A\x00\x16\x00\x00\x80\x02@\x00\x00\x02\x00\x80\x00\x1e\x00\x00\x01\x1e\x00\x80\x00\x06\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x00\x04\t\x00\x00\x00position\x00\x04\x07\x00\x00\x00length\x00\x03\x00\x00\x00\x00\x00\x00y@\x00\x00\x00\x00\x1a\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x05\x00\x00\x00self\x00?\x00\x00\x00\x01\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x17\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00"\x00\x00\x00"\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00&\x00\x00\x00\'\x00\x00\x00\x06\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00>\x00\x00\x00\r\x00\x00\x00ShouldAttack\x00\x03\x00\x00\x00>\x00\x00\x00\x0f\x00\x00\x00targetPosition\x00\x05\x00\x00\x00>\x00\x00\x00\x10\x00\x00\x00timeSinceAttack\x00\x06\x00\x00\x00>\x00\x00\x00\x07\x00\x00\x00target\x00\x0f\x00\x00\x00=\x00\x00\x00\x06\x00\x00\x00delta\x00(\x00\x00\x00=\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'PhysicsObject',
            Identifier : 125,
            PhysicsObjectComponent{ # PhysicsObjectComponent
                PhysicsEnabled : 1,
                GroundDeceleration : 1500.0,
                AirDeceleration : 0.0,
                MaxSpeed : 700.0,
                AllowRotation : 0,
                Elasticity : 0.0,
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 128,
            Label : 'attack',
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local attackAnimation = 118;

PhysicsObject.SetGravityMagnitude(self, 0);
PhysicsObject.SetDecelerationForce(self, 0);

self:setVelocity(Vector3.New(0, 0, 0));
AnimationController.BlendToAnimation(self, attackAnimation);

Program.Wait(0.5);

local speed = 550;

local delta = (EntityController.Target(self):position() - self:position());
self:setVelocity(delta:normalized() * speed);

Program.Wait(0.9 * delta:length() / speed);

$end
                    Bytes : "\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xd3\x01\x00\x00local self = ...;\r\n\r\nlocal attackAnimation = 118;\r\n\r\nPhysicsObject.SetGravityMagnitude(self, 0);\r\nPhysicsObject.SetDecelerationForce(self, 0);\r\n\r\nself:setVelocity(Vector3.New(0, 0, 0));\r\nAnimationController.BlendToAnimation(self, attackAnimation);\r\n\r\nProgram.Wait(0.5);\r\n\r\nlocal speed = 550;\r\n\r\nlocal delta = (EntityController.Target(self):position() - self:position());\r\nself:setVelocity(delta:normalized() * speed);\r\n\r\nProgram.Wait(0.9 * delta:length() / speed);\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x084\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x85@\x00\x00\x86\x80@\x01\xc0\x00\x00\x00\x01\xc1\x00\x00\x9c@\x80\x01\x85@\x00\x00\x86\x00A\x01\xc0\x00\x00\x00\x01\xc1\x00\x00\x9c@\x80\x01\x8b@A\x00\x05\x81\x01\x00\x06\xc1A\x02A\xc1\x00\x00\x81\xc1\x00\x00\xc1\xc1\x00\x00\x1c\x01\x00\x02\x9c@\x00\x00\x85\x00\x02\x00\x86@B\x01\xc0\x00\x00\x00\x00\x01\x80\x00\x9c@\x80\x01\x85\x80\x02\x00\x86\xc0B\x01\xc1\x00\x03\x00\x9c@\x00\x01\x81@\x03\x00\xc5\x80\x03\x00\xc6\xc0\xc3\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xcb\x00\xc4\x01\xdc\x80\x00\x01\x0b\x01D\x00\x1c\x81\x00\x01\xcd\x00\x81\x01\x0bAA\x00\x8bA\xc4\x01\x9c\x81\x00\x01\x8e\x81\x00\x03\x1cA\x80\x01\x05\x81\x02\x00\x06\xc1B\x02K\x81\xc4\x01\\\x81\x00\x01NA\x81\x89O\x81\x80\x02\x1cA\x00\x01\x1e\x00\x80\x00\x14\x00\x00\x00\x03\x00\x00\x00\x00\x00\x80]@\x04\x0e\x00\x00\x00PhysicsObject\x00\x04\x14\x00\x00\x00SetGravityMagnitude\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x15\x00\x00\x00SetDecelerationForce\x00\x04\x0c\x00\x00\x00setVelocity\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x00\x00\x00\x00\x00\x00\xe0?\x03\x00\x00\x00\x00\x000\x81@\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\t\x00\x00\x00position\x00\x04\x0b\x00\x00\x00normalized\x00\x04\x07\x00\x00\x00length\x00\x03\xcd\xcc\xcc\xcc\xcc\xcc\xec?\x00\x00\x00\x004\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x003\x00\x00\x00\x10\x00\x00\x00attackAnimation\x00\x02\x00\x00\x003\x00\x00\x00\x06\x00\x00\x00speed\x00\x1e\x00\x00\x003\x00\x00\x00\x06\x00\x00\x00delta\x00'\x00\x00\x003\x00\x00\x00\x00\x00\x00\x00",
                }
            }
        }
        Component{ # Component
            ClassName : 'SimpleGlow',
            Identifier : 132,
            SimpleGlowComponent{ # SimpleGlowComponent
                Color{ # FloatColor
                    R : 0.5,
                    G : 0.5,
                    B : 0.5,
                    A : 0.5,
                }
                Size : 30.0,
                NumSegments : 10,
                Depth : 15.0,
                PulseAmount : 0.15000000596046448,
                PulseTime : 0.800000011920929,
                Offset{ # Vector2
                    X : 0.0,
                    Y : 10.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 133,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 134,
                ParticleId : 135,
                ParticleId : 136,
                ModelBindingId : 0,
                MaxParticles : 30,
                ParentEmitterId : 0,
                DestroyWhenFinished : 0,
                Emitter{ # ParticleEmitter
                    Type : 5,
                    BaseColor{ # FloatColor
                        R : 0.17777779698371887,
                        G : 0.17777779698371887,
                        B : 0.46666666865348816,
                        A : 0.0,
                    }
                    Parameter : 90.0,
                    Parameter : 360.0,
                    Parameter : 0.0,
                    Parameter : 0.0,
                    Parameter : 0.0,
                    Parameter : 70.0,
                    Parameter : 0.20000000298023224,
                    Parameter : 0.0,
                    Parameter : 1.0,
                    Parameter : 0.5,
                    Parameter : 1.0,
                    Parameter : 0.029999999329447746,
                    Parameter : 0.30000001192092896,
                    Parameter : 0.20000000298023224,
                    Parameter : 0.0,
                    HueVariance : 0.0,
                    SaturationVariance : 0.0,
                    LightnessVariance : 0.0,
                    OriginOffset{ # Vector3
                        X : 0.0,
                        Y : 0.0,
                        Z : 0.0,
                    }
                }
                LocalSystem : 0,
                Gravity{ # Vector3
                    X : 0.0,
                    Y : 800.0,
                    Z : 0.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 134,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_1',
                Size : 40.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 135,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_2',
                Size : 30.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 136,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_3',
                Size : 20.0,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -30.0,
            Y : -30.0,
            Width : 60.0,
            Height : 65.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'snowbug',
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 1,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'snowbug_jump',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 2,
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local target = EntityController.Target(self);

local jumpAnimation = 1;

EntityController.SetMovementBehavior(self, "none");    

local targetDirection = 1;
if target:position():x() - self:position():x()  < 0 then targetDirection = -1; end

EntityController.SetFacingDirection(self, targetDirection);

EntityController.SetMoveDirection(self, targetDirection);    
EntityController.SetMoveSpeed(self, 0);

KeyframeAnimation.SetCurrentTime(self, jumpAnimation, 0.0);
AnimationController.BlendToAnimation(self, jumpAnimation);
        
EntityController.SetAcceleration(self, 50, false);
self:setVelocity(Vector3.New(targetDirection*350,300,0));

Program.Wait(0.6);

EntityController.SetAcceleration(self, 800, false);

EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));

Program.Wait(0.2);

EntityController.SetMovementBehavior(self, "follow");



$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x90\x03\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nlocal jumpAnimation = 1;\r\n\r\nEntityController.SetMovementBehavior(self, "none");\t\r\n\r\nlocal targetDirection = 1;\r\nif target:position():x() - self:position():x()  < 0 then targetDirection = -1; end\r\n\r\nEntityController.SetFacingDirection(self, targetDirection);\r\n\r\nEntityController.SetMoveDirection(self, targetDirection);\t\r\nEntityController.SetMoveSpeed(self, 0);\r\n\r\nKeyframeAnimation.SetCurrentTime(self, jumpAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, jumpAnimation);\r\n\t\t\r\nEntityController.SetAcceleration(self, 50, false);\r\nself:setVelocity(Vector3.New(targetDirection*350,300,0));\r\n\r\nProgram.Wait(0.6);\r\n\r\nEntityController.SetAcceleration(self, 800, false);\r\n\r\nEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\r\n\r\nProgram.Wait(0.2);\r\n\r\nEntityController.SetMovementBehavior(self, "follow");\r\n\r\n\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\n\\\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x81\x80\x00\x00\xc5\x00\x00\x00\xc6\xc0\xc0\x01\x00\x01\x00\x00A\x01\x01\x00\xdc@\x80\x01\xc1\x80\x00\x00\x0bA\xc1\x00\x1c\x81\x00\x01\x0b\x81A\x02\x1c\x81\x00\x01KAA\x00\\\x81\x00\x01K\x81\xc1\x02\\\x81\x00\x01\rA\x01\x02\x18\xc0A\x02\x16\x00\x00\x80\xc1\x00\x02\x00\x05\x01\x00\x00\x06AB\x02@\x01\x00\x00\x80\x01\x80\x01\x1cA\x80\x01\x05\x01\x00\x00\x06\x81B\x02@\x01\x00\x00\x80\x01\x80\x01\x1cA\x80\x01\x05\x01\x00\x00\x06\xc1B\x02@\x01\x00\x00\x81\xc1\x01\x00\x1cA\x80\x01\x05\x01\x03\x00\x06AC\x02@\x01\x00\x00\x80\x01\x00\x01\xc1\xc1\x01\x00\x1cA\x00\x02\x05\x81\x03\x00\x06\xc1C\x02@\x01\x00\x00\x80\x01\x00\x01\x1cA\x80\x01\x05\x01\x00\x00\x06\x01D\x02@\x01\x00\x00\x81A\x04\x00\xc2\x01\x00\x00\x1cA\x00\x02\x0b\x81D\x00\x85\xc1\x04\x00\x86\x01E\x03\xceA\xc5\x01\x01\x82\x05\x00A\xc2\x01\x00\x9c\x01\x00\x02\x1cA\x00\x00\x05\xc1\x05\x00\x06\x01F\x02AA\x06\x00\x1cA\x00\x01\x05\x01\x00\x00\x06\x01D\x02@\x01\x00\x00\x81\x81\x06\x00\xc2\x01\x00\x00\x1cA\x00\x02\x05\x01\x00\x00\x06\xc1B\x02@\x01\x00\x00\x85\x01\x00\x00\x86\xc1F\x03\xc0\x01\x00\x00\x9c\x01\x00\x01\x1cA\x00\x00\x05\xc1\x05\x00\x06\x01F\x02A\x01\x07\x00\x1cA\x00\x01\x05\x01\x00\x00\x06\xc1@\x02@\x01\x00\x00\x81A\x07\x00\x1cA\x80\x01\x1e\x00\x80\x00\x1e\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\x14\x00\x00\x00SetMovementBehavior\x00\x04\x05\x00\x00\x00none\x00\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\x11\x00\x00\x00SetMoveDirection\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x10\x00\x00\x00SetAcceleration\x00\x03\x00\x00\x00\x00\x00\x00I@\x04\x0c\x00\x00\x00setVelocity\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\xe0u@\x03\x00\x00\x00\x00\x00\xc0r@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03333333\xe3?\x03\x00\x00\x00\x00\x00\x00\x89@\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x07\x00\x00\x00follow\x00\x00\x00\x00\x00\\\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00[\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00[\x00\x00\x00\x0e\x00\x00\x00jumpAnimation\x00\x06\x00\x00\x00[\x00\x00\x00\x10\x00\x00\x00targetDirection\x00\x0c\x00\x00\x00[\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 3,
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local target = EntityController.Target(self);

local attackAnimation = 4;

EntityController.SetMovementBehavior(self, "none");    

local targetDirection = 1;
if target:position():x() - self:position():x()  < 0 then targetDirection = -1; end

EntityController.SetFacingDirection(self, targetDirection);

EntityController.SetMoveDirection(self, targetDirection);    
EntityController.SetMoveSpeed(self, 0);

KeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);
AnimationController.BlendToAnimation(self, attackAnimation);
        
EntityController.SetAcceleration(self, 50, false);
self:setVelocity(Vector3.New(targetDirection*100,100,0));

Program.Wait(0.5);

EntityController.SetAcceleration(self, 800, false);

EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));

Program.Wait(0.1);

EntityController.SetMovementBehavior(self, "fight");



$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x95\x03\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nlocal attackAnimation = 4;\r\n\r\nEntityController.SetMovementBehavior(self, "none");\t\r\n\r\nlocal targetDirection = 1;\r\nif target:position():x() - self:position():x()  < 0 then targetDirection = -1; end\r\n\r\nEntityController.SetFacingDirection(self, targetDirection);\r\n\r\nEntityController.SetMoveDirection(self, targetDirection);\t\r\nEntityController.SetMoveSpeed(self, 0);\r\n\r\nKeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, attackAnimation);\r\n\t\t\r\nEntityController.SetAcceleration(self, 50, false);\r\nself:setVelocity(Vector3.New(targetDirection*100,100,0));\r\n\r\nProgram.Wait(0.5);\r\n\r\nEntityController.SetAcceleration(self, 800, false);\r\n\r\nEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\r\n\r\nProgram.Wait(0.1);\r\n\r\nEntityController.SetMovementBehavior(self, "fight");\r\n\r\n\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\n\\\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x81\x80\x00\x00\xc5\x00\x00\x00\xc6\xc0\xc0\x01\x00\x01\x00\x00A\x01\x01\x00\xdc@\x80\x01\xc1@\x01\x00\x0b\x81\xc1\x00\x1c\x81\x00\x01\x0b\xc1A\x02\x1c\x81\x00\x01K\x81A\x00\\\x81\x00\x01K\xc1\xc1\x02\\\x81\x00\x01\rA\x01\x02\x18\x00B\x02\x16\x00\x00\x80\xc1@\x02\x00\x05\x01\x00\x00\x06\x81B\x02@\x01\x00\x00\x80\x01\x80\x01\x1cA\x80\x01\x05\x01\x00\x00\x06\xc1B\x02@\x01\x00\x00\x80\x01\x80\x01\x1cA\x80\x01\x05\x01\x00\x00\x06\x01C\x02@\x01\x00\x00\x81\x01\x02\x00\x1cA\x80\x01\x05A\x03\x00\x06\x81C\x02@\x01\x00\x00\x80\x01\x00\x01\xc1\x01\x02\x00\x1cA\x00\x02\x05\xc1\x03\x00\x06\x01D\x02@\x01\x00\x00\x80\x01\x00\x01\x1cA\x80\x01\x05\x01\x00\x00\x06AD\x02@\x01\x00\x00\x81\x81\x04\x00\xc2\x01\x00\x00\x1cA\x00\x02\x0b\xc1D\x00\x85\x01\x05\x00\x86AE\x03\xce\x81\xc5\x01\x01\x82\x05\x00A\x02\x02\x00\x9c\x01\x00\x02\x1cA\x00\x00\x05\xc1\x05\x00\x06\x01F\x02AA\x06\x00\x1cA\x00\x01\x05\x01\x00\x00\x06AD\x02@\x01\x00\x00\x81\x81\x06\x00\xc2\x01\x00\x00\x1cA\x00\x02\x05\x01\x00\x00\x06\x01C\x02@\x01\x00\x00\x85\x01\x00\x00\x86\xc1F\x03\xc0\x01\x00\x00\x9c\x01\x00\x01\x1cA\x00\x00\x05\xc1\x05\x00\x06\x01F\x02A\x01\x07\x00\x1cA\x00\x01\x05\x01\x00\x00\x06\xc1@\x02@\x01\x00\x00\x81A\x07\x00\x1cA\x80\x01\x1e\x00\x80\x00\x1e\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x03\x00\x00\x00\x00\x00\x00\x10@\x04\x14\x00\x00\x00SetMovementBehavior\x00\x04\x05\x00\x00\x00none\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\x11\x00\x00\x00SetMoveDirection\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x10\x00\x00\x00SetAcceleration\x00\x03\x00\x00\x00\x00\x00\x00I@\x04\x0c\x00\x00\x00setVelocity\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\x00Y@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x00\x00\x00\x00\x00\x00\xe0?\x03\x00\x00\x00\x00\x00\x00\x89@\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x06\x00\x00\x00fight\x00\x00\x00\x00\x00\\\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00[\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00[\x00\x00\x00\x10\x00\x00\x00attackAnimation\x00\x06\x00\x00\x00[\x00\x00\x00\x10\x00\x00\x00targetDirection\x00\x0c\x00\x00\x00[\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 4,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'snowbug_attack',
                Repeating : 1,
                SpeedMultiplier : 1.5,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 5,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;

local behavior = "follow";
local waitTime = Math.RandomFloat(1.4,1.7);
local moveSpeed = 400;

while true do

    Program.Wait(waitTime);

    local target = EntityController.Target(self);

    if Math.Abs( target:position():x() - self:position():x() ) > 150 then
        behavior = "follow";
        waitTime = Math.RandomFloat(1.4,1.7);
        moveSpeed = 400;
        if Math.RandomInt(1,2) == 2 then
            SoundLibrary.PlayEffect("insect_move");
        end
    else
        behavior = "fight";
        waitTime = 0.2;
        moveSpeed = 200;
        if Math.RandomInt(1,2) == 2 then
            SoundLibrary.PlayEffect("insect_move");
        end
    end
     
    EntityController.SetMovementBehavior(self, behavior);
    EntityController.SetMoveSpeed(self, moveSpeed, false);

    if target ~= nil and EntityController.IsIdle(self) and Entity.IsOnGround(self) then

        if behavior == "follow" then
                EntityController.PerformAction(self, 2);
        else if behavior == "fight" then
                EntityController.PerformAction(self, 3);
            end
        end

    end

end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xf9\x03\x00\x00local self = ...;\r\n\r\nlocal behavior = "follow";\r\nlocal waitTime = Math.RandomFloat(1.4,1.7);\r\nlocal moveSpeed = 400;\r\n\r\nwhile true do\r\n\r\n\tProgram.Wait(waitTime);\r\n\r\n\tlocal target = EntityController.Target(self);\r\n\r\n\tif Math.Abs( target:position():x() - self:position():x() ) > 150 then\r\n\t\tbehavior = "follow";\r\n\t\twaitTime = Math.RandomFloat(1.4,1.7);\r\n\t\tmoveSpeed = 400;\r\n\t\tif Math.RandomInt(1,2) == 2 then\r\n\t\t\tSoundLibrary.PlayEffect("insect_move");\r\n\t\tend\r\n\telse\r\n\t\tbehavior = "fight";\r\n\t\twaitTime = 0.2;\r\n\t\tmoveSpeed = 200;\r\n\t\tif Math.RandomInt(1,2) == 2 then\r\n\t\t\tSoundLibrary.PlayEffect("insect_move");\r\n\t\tend\r\n\tend\r\n \t\r\n\tEntityController.SetMovementBehavior(self, behavior);\r\n\tEntityController.SetMoveSpeed(self, moveSpeed, false);\r\n\r\n\tif target ~= nil and EntityController.IsIdle(self) and Entity.IsOnGround(self) then\r\n\r\n\t\tif behavior == "follow" then\r\n\t\t\t\tEntityController.PerformAction(self, 2);\r\n\t\telse if behavior == "fight" then\r\n\t\t\t\tEntityController.PerformAction(self, 3);\r\n\t\t\tend\r\n\t\tend\r\n\r\n\tend\r\n\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\tj\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x85@\x00\x00\x86\x80@\x01\xc1\xc0\x00\x00\x01\x01\x01\x00\x9c\x80\x80\x01\xc1@\x01\x00\x05\x81\x01\x00\x06\xc1A\x02@\x01\x00\x01\x1cA\x00\x01\x05\x01\x02\x00\x06AB\x02@\x01\x00\x00\x1c\x81\x00\x01EA\x00\x00F\x81\xc2\x02\x8b\xc1B\x02\x9c\x81\x00\x01\x8b\x01C\x03\x9c\x81\x00\x01\xcb\xc1B\x00\xdc\x81\x00\x01\xcb\x01\xc3\x03\xdc\x81\x00\x01\x8d\xc1\x01\x03\\\x81\x00\x01\x18@\x81\x86\x16\xc0\x04\x80A\x00\x00\x00EA\x00\x00F\x81\xc0\x02\x81\xc1\x00\x00\xc1\x01\x01\x00\\\x81\x80\x01\x80\x00\x80\x02\xc1@\x01\x00EA\x00\x00F\x81\xc3\x02\x81\xc1\x03\x00\xc1\x01\x04\x00\\\x81\x80\x01\x17\x00\xc4\x02\x16\x80\x04\x80EA\x04\x00F\x81\xc4\x02\x81\xc1\x04\x00\\A\x00\x01\x16@\x03\x80A\x00\x05\x00\x81@\x05\x00\xc1\x80\x05\x00EA\x00\x00F\x81\xc3\x02\x81\xc1\x03\x00\xc1\x01\x04\x00\\\x81\x80\x01\x17\x00\xc4\x02\x16\xc0\x00\x80EA\x04\x00F\x81\xc4\x02\x81\xc1\x04\x00\\A\x00\x01E\x01\x02\x00F\xc1\xc5\x02\x80\x01\x00\x00\xc0\x01\x80\x00\\A\x80\x01E\x01\x02\x00F\x01\xc6\x02\x80\x01\x00\x00\xc0\x01\x80\x01\x02\x02\x00\x00\\A\x00\x02W@F\x02\x16\x80\xee\x7fE\x01\x02\x00F\x81\xc6\x02\x80\x01\x00\x00\\\x81\x00\x01Z\x01\x00\x00\x16\x00\xed\x7fE\xc1\x06\x00F\x01\xc7\x02\x80\x01\x00\x00\\\x81\x00\x01Z\x01\x00\x00\x16\x80\xeb\x7f\x17\x00\xc0\x00\x16@\x01\x80E\x01\x02\x00FA\xc7\x02\x80\x01\x00\x00\xc1\x01\x04\x00\\A\x80\x01\x16\x80\xe9\x7f\x17\x00\xc5\x00\x16\x00\xe9\x7fE\x01\x02\x00FA\xc7\x02\x80\x01\x00\x00\xc1\x81\x07\x00\\A\x80\x01\x16\x80\xe7\x7f\x1e\x00\x80\x00\x1f\x00\x00\x00\x04\x07\x00\x00\x00follow\x00\x04\x05\x00\x00\x00Math\x00\x04\x0c\x00\x00\x00RandomFloat\x00\x03ffffff\xf6?\x03333333\xfb?\x03\x00\x00\x00\x00\x00\x00y@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x04\x00\x00\x00Abs\x00\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\xc0b@\x04\n\x00\x00\x00RandomInt\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x03\x00\x00\x00\x00\x00\x00\x00@\x04\r\x00\x00\x00SoundLibrary\x00\x04\x0b\x00\x00\x00PlayEffect\x00\x04\x0c\x00\x00\x00insect_move\x00\x04\x06\x00\x00\x00fight\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x03\x00\x00\x00\x00\x00\x00i@\x04\x14\x00\x00\x00SetMovementBehavior\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x00\x04\x07\x00\x00\x00IsIdle\x00\x04\x07\x00\x00\x00Entity\x00\x04\x0b\x00\x00\x00IsOnGround\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x00\x08@\x00\x00\x00\x00j\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x13\x00\x00\x00\x15\x00\x00\x00\x16\x00\x00\x00\x17\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00"\x00\x00\x00"\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00$\x00\x00\x00$\x00\x00\x00%\x00\x00\x00%\x00\x00\x00%\x00\x00\x00%\x00\x00\x00%\x00\x00\x00)\x00\x00\x00+\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00i\x00\x00\x00\t\x00\x00\x00behavior\x00\x02\x00\x00\x00i\x00\x00\x00\t\x00\x00\x00waitTime\x00\x07\x00\x00\x00i\x00\x00\x00\n\x00\x00\x00moveSpeed\x00\x08\x00\x00\x00i\x00\x00\x00\x07\x00\x00\x00target\x00\x10\x00\x00\x00h\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 6,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 7,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Snow Bug',
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'snowbug',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.5,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 102,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 103,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                    String : $
SoundLibrary.PlayEffect("insect_die");
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\'\x00\x00\x00SoundLibrary.PlayEffect("insect_die");\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x02\x05\x00\x00\x00\x05\x00\x00\x00\x06@@\x00A\x80\x00\x00\x1c@\x00\x01\x1e\x00\x80\x00\x03\x00\x00\x00\x04\r\x00\x00\x00SoundLibrary\x00\x04\x0b\x00\x00\x00PlayEffect\x00\x04\x0b\x00\x00\x00insect_die\x00\x00\x00\x00\x00\x05\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00',
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 104,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 103,
                AnimationControllerId : 102,
                DefaultMoveAnimationId : 108,
                RoamAreaId : 0,
                DefaultMoveSpeed : 400.0,
                DefaultAcceleration : 800.0,
                TargetingDistance : 10000.0,
                MovementBehavior : 3,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 106,
            Label : 'general',
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -23.0,
                    Y : -3.352979898452759,
                    Width : 46.0,
                    Height : 25.35297966003418,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 108,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'snowbug_walk',
                Repeating : 1,
                SpeedMultiplier : 1.2999999523162842,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 111,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 112,
            HealthComponent{ # HealthComponent
                MaxHealth : 2,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 115,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -31.56399917602539,
                    Y : -3.352979898452759,
                    Width : 62.73246383666992,
                    Height : 43.35298156738281,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                ReceivesDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -31.56399917602539,
            Y : -3.352979898452759,
            Width : 62.73246383666992,
            Height : 43.35298156738281,
        }
        Hidden : 0,
    }
    Scaling : 0.699999988079071,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'spikebouncy',
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'spikeball',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 102,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'spikeball_jump',
                Repeating : 0,
                SpeedMultiplier : 0.800000011920929,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'spikeball_land',
                Repeating : 0,
                SpeedMultiplier : 0.800000011920929,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 104,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 106,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -25.0,
                    Y : 7.0,
                    Width : 30.0,
                    Height : 38.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 109,
            DamageComponent{ # DamageComponent
                MinDamage : 2,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 110,
            HealthComponent{ # HealthComponent
                MaxHealth : 4,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 111,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'BouncingMonsterController',
            Identifier : 112,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 100.0,
                AnimationControllerId : 111,
                EntityId : 104,
                RoamAreaId : 0,
            }
            BouncingMonsterControllerComponent{ # BouncingMonsterControllerComponent
                JumpAnimationId : 102,
                FallAnimationId : 103,
                JumpAngle : 1.2217304706573486,
                JumpSpeed : 450.0,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -25.0,
            Y : 0.0,
            Width : 30.0,
            Height : 45.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'spikebouncy_follow',
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'spikeball_green',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 102,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'spikeball_jump',
                Repeating : 0,
                SpeedMultiplier : 0.800000011920929,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'spikeball_land',
                Repeating : 0,
                SpeedMultiplier : 0.800000011920929,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 104,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 106,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -25.0,
                    Y : 7.0,
                    Width : 30.0,
                    Height : 38.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 109,
            DamageComponent{ # DamageComponent
                MinDamage : 2,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 110,
            HealthComponent{ # HealthComponent
                MaxHealth : 2,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 111,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'BouncingMonsterController',
            Identifier : 112,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 100.0,
                AnimationControllerId : 111,
                EntityId : 104,
                RoamAreaId : 0,
            }
            BouncingMonsterControllerComponent{ # BouncingMonsterControllerComponent
                JumpAnimationId : 102,
                FallAnimationId : 103,
                JumpAngle : 1.2217304706573486,
                JumpSpeed : 450.0,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -25.0,
            Y : 0.0,
            Width : 30.0,
            Height : 45.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'spikebouncy_roam',
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'spikeball',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 102,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'spikeball_jump',
                Repeating : 0,
                SpeedMultiplier : 0.800000011920929,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'spikeball_land',
                Repeating : 0,
                SpeedMultiplier : 0.800000011920929,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 104,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 106,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -25.0,
                    Y : 7.0,
                    Width : 30.0,
                    Height : 38.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 109,
            DamageComponent{ # DamageComponent
                MinDamage : 2,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 110,
            HealthComponent{ # HealthComponent
                MaxHealth : 4,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 111,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'BouncingMonsterController',
            Identifier : 112,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 100.0,
                AnimationControllerId : 111,
                EntityId : 104,
                RoamAreaId : 115,
            }
            BouncingMonsterControllerComponent{ # BouncingMonsterControllerComponent
                JumpAnimationId : 102,
                FallAnimationId : 103,
                JumpAngle : 1.2217304706573486,
                JumpSpeed : 450.0,
            }
        }
        Component{ # Component
            ClassName : 'UtilityShape',
            Identifier : 115,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -50.0,
                    Y : -50.0,
                    Width : 100.0,
                    Height : 100.0,
                }
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -25.0,
            Y : 0.0,
            Width : 30.0,
            Height : 45.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'spikey_spikes',
        Component{ # Component
            ClassName : 'TransformController',
            Identifier : 1,
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'spikey_spikes',
                YRotation : 0.0,
                EmissionFactor : 0.5,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : 0.0,
            Y : 0.0,
            Width : 0.0,
            Height : 0.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'sprit',
        Component{ # Component
            ClassName : 'Model',
            Identifier : 1,
            ModelComponent{ # ModelComponent
                Name : 'sprit',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 101,
            Label : 'stand',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 1,
                Name : 'sprit_stand',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            Label : 'move',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 1,
                Name : 'sprit_move',
                Repeating : 1,
                SpeedMultiplier : 2.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 105,
            Label : 'charge',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 1,
                Name : 'sprit_charge',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'ChargingMonsterController',
            Identifier : 107,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 0.0,
                AnimationControllerId : 111,
                EntityId : 109,
                RoamAreaId : 0,
            }
            ChargingMonsterControllerComponent{ # ChargingMonsterControllerComponent
                WalkAnimationId : 101,
                ChargeAnimationId : 105,
                RunAnimationId : 103,
                RunSpeed : 230.0,
                RunAcceleration : 300.0,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 109,
            EntityComponent{ # EntityComponent
                FacingDirection : 18446744073709551615,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 111,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 1,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 113,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -25.0,
                    Y : 2.0,
                    Width : 50.0,
                    Height : 48.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 116,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 119,
            HealthComponent{ # HealthComponent
                MaxHealth : 1,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -25.0,
            Y : 0.0,
            Width : 50.0,
            Height : 50.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'stonegolem',
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 1,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Stone Golem',
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'golem_small',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 103,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'golem_small_walk',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 107,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 109,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'UtilityShape',
            Identifier : 111,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -500.0,
                    Y : 0.0,
                    Width : 1000.0,
                    Height : 150.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 114,
            HealthComponent{ # HealthComponent
                MaxHealth : 6,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 117,
            DamageComponent{ # DamageComponent
                MinDamage : 2,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 120,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -20.0,
                    Y : -0.8058220148086548,
                    Width : 40.0,
                    Height : 100.80582427978516,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 128,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'golem_small_attack3begin',
                Repeating : 0,
                SpeedMultiplier : 1.2000000476837158,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 132,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'golem_small_charge',
                Repeating : 1,
                SpeedMultiplier : 1.7999999523162842,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'BoneControlledCollisionShape',
            Identifier : 136,
            ShapeComponent{ # ShapeComponent
                Circle{ # Circle
                    Center{ # Vector2
                        X : 0.0,
                        Y : 0.0,
                    }
                    Radius : 30.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                InflictsDamage : 1,
                MinDepth : -23.0,
                MaxDepth : 23.0,
                Enabled : 1,
            }
            BoneControlledCollisionShapeComponent{ # BoneControlledCollisionShapeComponent
                ControllingModelId : 101,
                ControllingBoneName : 'BoneRightHand3',
            }
        }
        Component{ # Component
            ClassName : 'BoneControlledCollisionShape',
            Identifier : 141,
            ShapeComponent{ # ShapeComponent
                Circle{ # Circle
                    Center{ # Vector2
                        X : 0.0,
                        Y : 0.0,
                    }
                    Radius : 30.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                MinDepth : -23.0,
                MaxDepth : 23.0,
                Enabled : 1,
            }
            BoneControlledCollisionShapeComponent{ # BoneControlledCollisionShapeComponent
                ControllingModelId : 101,
                ControllingBoneName : 'BoneLeftHand3',
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 147,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 109,
                AnimationControllerId : 107,
                DefaultMoveAnimationId : 103,
                RoamAreaId : 111,
                DefaultMoveSpeed : 70.0,
                DefaultAcceleration : 800.0,
                TargetingDistance : 1000.0,
                MovementBehavior : 4,
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 148,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;



while true do
    local target = EntityController.Target(self);
    Program.Wait(1+Math.RandomFloat(0.5,1.0));
    if target ~= nil then
        if EntityController.IsIdle(self) then
            EntityController.PerformAction(self, 149);
        end
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x06\x01\x00\x00local self = ...;\r\n\r\n\r\n\r\nwhile true do\r\n\tlocal target = EntityController.Target(self);\r\n\tProgram.Wait(1+Math.RandomFloat(0.5,1.0));\r\n\tif target ~= nil then\r\n\t\tif EntityController.IsIdle(self) then\r\n\t\t\tEntityController.PerformAction(self, 149);\r\n\t\tend\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x06\x1d\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x85\x80\x00\x00\x86\xc0@\x01\xc5\x00\x01\x00\xc6@\xc1\x01\x01\x81\x01\x00A\xc1\x01\x00\xdc\x80\x80\x01\xcc\xc0\x80\x83\x9c@\x00\x01W\x00\xc2\x00\x16\x00\xfc\x7f\x85\x00\x00\x00\x86@B\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\x9a\x00\x00\x00\x16\x80\xfa\x7f\x85\x00\x00\x00\x86\x80B\x01\xc0\x00\x00\x00\x01\xc1\x02\x00\x9c@\x80\x01\x16\x00\xf9\x7f\x1e\x00\x80\x00\x0c\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x05\x00\x00\x00Math\x00\x04\x0c\x00\x00\x00RandomFloat\x00\x03\x00\x00\x00\x00\x00\x00\xe0?\x03\x00\x00\x00\x00\x00\x00\xf0?\x00\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\xa0b@\x00\x00\x00\x00\x1d\x00\x00\x00\x01\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x1c\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00\x1b\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 149,
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local target = EntityController.Target(self);

local attackBegin = 128;
local attackRun = 132;

local targetDirection = 1;

if ( target:position():x() < self:position():x() ) then
    targetDirection = -1;    
end

EntityController.SetMovementBehavior(self, "none");

EntityController.SetMoveSpeed(self, 0);
EntityController.SetMoveDirection(self, targetDirection);
EntityController.SetFacingDirection(self, targetDirection);

KeyframeAnimation.SetCurrentTime(self, attackBegin, 0.0);
AnimationController.BlendToAnimation(self, attackBegin);

Program.Wait(0.4);

KeyframeAnimation.SetCurrentTime(self, attackRun, 0.0);
AnimationController.BlendToAnimation(self, attackRun);

EntityController.SetMoveSpeed(self, 200 );

Program.Wait(3);

Program.Wait(KeyframeAnimation.TimeToCompletion(self, attackRun));

EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));

EntityController.SetMovementBehavior(self, "fight");
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xd9\x03\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nlocal attackBegin = 128;\r\nlocal attackRun = 132;\r\n\r\nlocal targetDirection = 1;\r\n\r\nif ( target:position():x() < self:position():x() ) then\r\n\ttargetDirection = -1;\t\r\nend\r\n\r\nEntityController.SetMovementBehavior(self, "none");\r\n\r\nEntityController.SetMoveSpeed(self, 0);\r\nEntityController.SetMoveDirection(self, targetDirection);\r\nEntityController.SetFacingDirection(self, targetDirection);\r\n\r\nKeyframeAnimation.SetCurrentTime(self, attackBegin, 0.0);\r\nAnimationController.BlendToAnimation(self, attackBegin);\r\n\r\nProgram.Wait(0.4);\r\n\r\nKeyframeAnimation.SetCurrentTime(self, attackRun, 0.0);\r\nAnimationController.BlendToAnimation(self, attackRun);\r\n\r\nEntityController.SetMoveSpeed(self, 200 );\r\n\r\nProgram.Wait(3);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, attackRun));\r\n\r\nEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\r\n\r\nEntityController.SetMovementBehavior(self, "fight");\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\t`\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x81\x80\x00\x00\xc1\xc0\x00\x00\x01\x01\x01\x00KA\xc1\x00\\\x81\x00\x01K\x81\xc1\x02\\\x81\x00\x01\x8bAA\x00\x9c\x81\x00\x01\x8b\x81A\x03\x9c\x81\x00\x01\x18\x80\x81\x02\x16\x00\x00\x80\x01\xc1\x01\x00E\x01\x00\x00F\x01\xc2\x02\x80\x01\x00\x00\xc1A\x02\x00\\A\x80\x01E\x01\x00\x00F\x81\xc2\x02\x80\x01\x00\x00\xc1\xc1\x02\x00\\A\x80\x01E\x01\x00\x00F\x01\xc3\x02\x80\x01\x00\x00\xc0\x01\x00\x02\\A\x80\x01E\x01\x00\x00FA\xc3\x02\x80\x01\x00\x00\xc0\x01\x00\x02\\A\x80\x01E\x81\x03\x00F\xc1\xc3\x02\x80\x01\x00\x00\xc0\x01\x00\x01\x01\xc2\x02\x00\\A\x00\x02E\x01\x04\x00FA\xc4\x02\x80\x01\x00\x00\xc0\x01\x00\x01\\A\x80\x01E\x81\x04\x00F\xc1\xc4\x02\x81\x01\x05\x00\\A\x00\x01E\x81\x03\x00F\xc1\xc3\x02\x80\x01\x00\x00\xc0\x01\x80\x01\x01\xc2\x02\x00\\A\x00\x02E\x01\x04\x00FA\xc4\x02\x80\x01\x00\x00\xc0\x01\x80\x01\\A\x80\x01E\x01\x00\x00F\x81\xc2\x02\x80\x01\x00\x00\xc1A\x05\x00\\A\x80\x01E\x81\x04\x00F\xc1\xc4\x02\x81\x81\x05\x00\\A\x00\x01E\x81\x04\x00F\xc1\xc4\x02\x85\x81\x03\x00\x86\xc1E\x03\xc0\x01\x00\x00\x00\x02\x80\x01\x9c\x01\x80\x01\\A\x00\x00E\x01\x00\x00F\x81\xc2\x02\x80\x01\x00\x00\xc5\x01\x00\x00\xc6\x01\xc6\x03\x00\x02\x00\x00\xdc\x01\x00\x01\\A\x00\x00E\x01\x00\x00F\x01\xc2\x02\x80\x01\x00\x00\xc1A\x06\x00\\A\x80\x01\x1e\x00\x80\x00\x1a\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x03\x00\x00\x00\x00\x00\x00`@\x03\x00\x00\x00\x00\x00\x80`@\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x14\x00\x00\x00SetMovementBehavior\x00\x04\x05\x00\x00\x00none\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x11\x00\x00\x00SetMoveDirection\x00\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xd9?\x03\x00\x00\x00\x00\x00\x00i@\x03\x00\x00\x00\x00\x00\x00\x08@\x04\x11\x00\x00\x00TimeToCompletion\x00\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x04\x06\x00\x00\x00fight\x00\x00\x00\x00\x00`\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0b\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00_\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00_\x00\x00\x00\x0c\x00\x00\x00attackBegin\x00\x06\x00\x00\x00_\x00\x00\x00\n\x00\x00\x00attackRun\x00\x07\x00\x00\x00_\x00\x00\x00\x10\x00\x00\x00targetDirection\x00\x08\x00\x00\x00_\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -20.0,
            Y : -0.8058220148086548,
            Width : 40.0,
            Height : 100.80582427978516,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'tainted_knight',
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 1,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Tainted Knight',
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'variknight_shield',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 103,
            EntityComponent{ # EntityComponent
                FacingDirection : 18446744073709551615,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                    String : $
Program.Wait(0.2);

Game.SetCinematicMode(true, true);

MusicPlayer.PlayMusic(Game.DefaultMusicName());

Program.Wait(1.0);

Camera.FocusAtPoint(Scene.Find("trigger_focus2"):position());
Program.Wait(1.0);
DoorController.Open(Scene.Find("trap_door"));
DoorController.Open(Scene.Find("trap_door2"));
SoundLibrary.PlayEffect("surprise2");

Program.Wait(1.0);

Camera.ResetFocus();

Game.SetCinematicMode(false, true);

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xb4\x01\x00\x00Program.Wait(0.2);\r\n\r\nGame.SetCinematicMode(true, true);\r\n\r\nMusicPlayer.PlayMusic(Game.DefaultMusicName());\r\n\r\nProgram.Wait(1.0);\r\n\r\nCamera.FocusAtPoint(Scene.Find("trigger_focus2"):position());\r\nProgram.Wait(1.0);\r\nDoorController.Open(Scene.Find("trap_door"));\r\nDoorController.Open(Scene.Find("trap_door2"));\r\nSoundLibrary.PlayEffect("surprise2");\r\n\r\nProgram.Wait(1.0);\r\n\r\nCamera.ResetFocus();\r\n\r\nGame.SetCinematicMode(false, true);\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x03?\x00\x00\x00\x05\x00\x00\x00\x06@@\x00A\x80\x00\x00\x1c@\x00\x01\x05\xc0\x00\x00\x06\x00A\x00B\x00\x80\x00\x82\x00\x80\x00\x1c@\x80\x01\x05@\x01\x00\x06\x80A\x00E\xc0\x00\x00F\xc0\xc1\x00\\\x00\x80\x00\x1c@\x00\x00\x05\x00\x00\x00\x06@@\x00A\x00\x02\x00\x1c@\x00\x01\x05@\x02\x00\x06\x80B\x00E\xc0\x02\x00F\x00\xc3\x00\x81@\x03\x00\\\x80\x00\x01K\x80\xc3\x00\\\x00\x00\x01\x1c@\x00\x00\x05\x00\x00\x00\x06@@\x00A\x00\x02\x00\x1c@\x00\x01\x05\xc0\x03\x00\x06\x00D\x00E\xc0\x02\x00F\x00\xc3\x00\x81@\x04\x00\\\x00\x00\x01\x1c@\x00\x00\x05\xc0\x03\x00\x06\x00D\x00E\xc0\x02\x00F\x00\xc3\x00\x81\x80\x04\x00\\\x00\x00\x01\x1c@\x00\x00\x05\xc0\x04\x00\x06\x00E\x00A@\x05\x00\x1c@\x00\x01\x05\x00\x00\x00\x06@@\x00A\x00\x02\x00\x1c@\x00\x01\x05@\x02\x00\x06\x80E\x00\x1c@\x80\x00\x05\xc0\x00\x00\x06\x00A\x00B\x00\x00\x00\x82\x00\x80\x00\x1c@\x80\x01\x1e\x00\x80\x00\x17\x00\x00\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x05\x00\x00\x00Game\x00\x04\x11\x00\x00\x00SetCinematicMode\x00\x04\x0c\x00\x00\x00MusicPlayer\x00\x04\n\x00\x00\x00PlayMusic\x00\x04\x11\x00\x00\x00DefaultMusicName\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\x07\x00\x00\x00Camera\x00\x04\r\x00\x00\x00FocusAtPoint\x00\x04\x06\x00\x00\x00Scene\x00\x04\x05\x00\x00\x00Find\x00\x04\x0f\x00\x00\x00trigger_focus2\x00\x04\t\x00\x00\x00position\x00\x04\x0f\x00\x00\x00DoorController\x00\x04\x05\x00\x00\x00Open\x00\x04\n\x00\x00\x00trap_door\x00\x04\x0b\x00\x00\x00trap_door2\x00\x04\r\x00\x00\x00SoundLibrary\x00\x04\x0b\x00\x00\x00PlayEffect\x00\x04\n\x00\x00\x00surprise2\x00\x04\x0b\x00\x00\x00ResetFocus\x00\x00\x00\x00\x00?\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00',
                }
                OnHurt{ # Program
                    String : $
local self = ...;

Properties.SetProperty(self, "isHurt", "true");
Program.Print("set: " .. Properties.GetProperty(self, "isHurt"));
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x88\x00\x00\x00local self = ...;\r\n\r\nProperties.SetProperty(self, "isHurt", "true");\r\nProgram.Print("set: " .. Properties.GetProperty(self, "isHurt"));\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x06\x12\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\xc1\x80\x00\x00\x01\xc1\x00\x00\\@\x00\x02E\x00\x01\x00F@\xc1\x00\x81\x80\x01\x00\xc5\x00\x00\x00\xc6\xc0\xc1\x01\x00\x01\x00\x00A\x81\x00\x00\xdc\x80\x80\x01\x95\xc0\x00\x01\\@\x00\x01\x1e\x00\x80\x00\x08\x00\x00\x00\x04\x0b\x00\x00\x00Properties\x00\x04\x0c\x00\x00\x00SetProperty\x00\x04\x07\x00\x00\x00isHurt\x00\x04\x05\x00\x00\x00true\x00\x04\x08\x00\x00\x00Program\x00\x04\x06\x00\x00\x00Print\x00\x04\x06\x00\x00\x00set: \x00\x04\x0c\x00\x00\x00GetProperty\x00\x00\x00\x00\x00\x12\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x01\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x11\x00\x00\x00\x00\x00\x00\x00',
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 104,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 103,
                AnimationControllerId : 105,
                DefaultMoveAnimationId : 112,
                RoamAreaId : 117,
                DefaultMoveSpeed : 150.0,
                DefaultAcceleration : 1000.0,
                TargetingDistance : 2000.0,
                MovementBehavior : 3,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 105,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 106,
            Label : 'main',
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -26.0,
                    Y : -0.8095080256462097,
                    Width : 71.0,
                    Height : 70.80950927734375,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'SwingableWeaponController',
            Identifier : 109,
            SwingableWeaponControllerComponent{ # SwingableWeaponControllerComponent
                ControllingModelId : 101,
                ControllingBoneName : 'BoneRightWeapon1',
                WeaponTemplateName : 'variknight_weapon_sword',
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 112,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'variknight_shield_walk',
                Repeating : 1,
                SpeedMultiplier : 1.2000000476837158,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 115,
            Label : 'shield',
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : 0.0,
                    Y : -4.818707466125488,
                    Width : 65.0,
                    Height : 80.2313461303711,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                SpecialType : 5,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'UtilityShape',
            Identifier : 117,
            Label : 'roam',
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -300.0,
                    Y : -50.0,
                    Width : 600.0,
                    Height : 100.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 119,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 120,
            HealthComponent{ # HealthComponent
                MaxHealth : 5,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 126,
            Label : 'attack',
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

Properties.SetProperty(self, "isHurt", "false");

local attackAnimation = 127;
local shieldShape = 115;

EntityController.SetMoveSpeed(self, 0);
KeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);
KeyframeAnimation.SetRunning(self, attackAnimation, true);
AnimationController.BlendToAnimation(self, attackAnimation);

Program.Wait(0.1);
CollisionShape.SetEnabled(self, shieldShape, false);

KeyframeAnimation.SetRunning(self, attackAnimation, false);
Program.Wait(0.5);
KeyframeAnimation.SetRunning(self, attackAnimation, true);

local swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 11.5);
local swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 16.5);
Program.Wait(swingStartTime);


Program.Print("get: " .. Properties.GetProperty(self, "isHurt"));

if Properties.GetProperty(self, "isHurt") == "true" then
else
    EntityController.StartSwing(self, 109, swingEndTime - swingStartTime);

    Program.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));
end

CollisionShape.SetEnabled(self, shieldShape, true);
EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xb2\x04\x00\x00local self = ...;\r\n\r\nProperties.SetProperty(self, "isHurt", "false");\r\n\r\nlocal attackAnimation = 127;\r\nlocal shieldShape = 115;\r\n\r\nEntityController.SetMoveSpeed(self, 0);\r\nKeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);\r\nKeyframeAnimation.SetRunning(self, attackAnimation, true);\r\nAnimationController.BlendToAnimation(self, attackAnimation);\r\n\r\nProgram.Wait(0.1);\r\nCollisionShape.SetEnabled(self, shieldShape, false);\r\n\r\nKeyframeAnimation.SetRunning(self, attackAnimation, false);\r\nProgram.Wait(0.5);\r\nKeyframeAnimation.SetRunning(self, attackAnimation, true);\r\n\r\nlocal swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 11.5);\r\nlocal swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 16.5);\r\nProgram.Wait(swingStartTime);\r\n\r\n\r\nProgram.Print("get: " .. Properties.GetProperty(self, "isHurt"));\r\n\r\nif Properties.GetProperty(self, "isHurt") == "true" then\r\nelse\r\n\tEntityController.StartSwing(self, 109, swingEndTime - swingStartTime);\r\n\r\n\tProgram.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));\r\nend\r\n\r\nCollisionShape.SetEnabled(self, shieldShape, true);\r\nEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\nx\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\xc1\x80\x00\x00\x01\xc1\x00\x00\\@\x00\x02A\x00\x01\x00\x81@\x01\x00\xc5\x80\x01\x00\xc6\xc0\xc1\x01\x00\x01\x00\x00A\x01\x02\x00\xdc@\x80\x01\xc5@\x02\x00\xc6\x80\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\x81\x01\x02\x00\xdc@\x00\x02\xc5@\x02\x00\xc6\xc0\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\x82\x01\x80\x00\xdc@\x00\x02\xc5\x00\x03\x00\xc6@\xc3\x01\x00\x01\x00\x00@\x01\x80\x00\xdc@\x80\x01\xc5\x80\x03\x00\xc6\xc0\xc3\x01\x01\x01\x04\x00\xdc@\x00\x01\xc5@\x04\x00\xc6\x80\xc4\x01\x00\x01\x00\x00@\x01\x00\x01\x82\x01\x00\x00\xdc@\x00\x02\xc5@\x02\x00\xc6\xc0\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\x82\x01\x00\x00\xdc@\x00\x02\xc5\x80\x03\x00\xc6\xc0\xc3\x01\x01\xc1\x04\x00\xdc@\x00\x01\xc5@\x02\x00\xc6\xc0\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\x82\x01\x80\x00\xdc@\x00\x02\xc5@\x02\x00\xc6\x00\xc5\x01\x00\x01\x00\x00@\x01\x80\x00\x81A\x05\x00\xdc\x80\x00\x02\x05A\x02\x00\x06\x01E\x02@\x01\x00\x00\x80\x01\x80\x00\xc1\x81\x05\x00\x1c\x81\x00\x02E\x81\x03\x00F\xc1\xc3\x02\x80\x01\x80\x01\\A\x00\x01E\x81\x03\x00F\xc1\xc5\x02\x81\x01\x06\x00\xc5\x01\x00\x00\xc6A\xc6\x03\x00\x02\x00\x00A\x82\x00\x00\xdc\x81\x80\x01\x95\xc1\x01\x03\\A\x00\x01E\x01\x00\x00FA\xc6\x02\x80\x01\x00\x00\xc1\x81\x00\x00\\\x81\x80\x01\x17\x80\xc6\x02\x16\x00\x00\x80\x16@\x03\x80E\x81\x01\x00F\xc1\xc6\x02\x80\x01\x00\x00\xc1\x01\x07\x00\r\xc2\x00\x02\\A\x00\x02E\x81\x03\x00F\xc1\xc3\x02\x85A\x02\x00\x86AG\x03\xc0\x01\x00\x00\x00\x02\x80\x00\x9c\x01\x80\x01\\A\x00\x00EA\x04\x00F\x81\xc4\x02\x80\x01\x00\x00\xc0\x01\x00\x01\x02\x02\x80\x00\\A\x00\x02E\x81\x01\x00F\xc1\xc1\x02\x80\x01\x00\x00\xc5\x81\x01\x00\xc6\x81\xc7\x03\x00\x02\x00\x00\xdc\x01\x00\x01\\A\x00\x00\x1e\x00\x80\x00\x1f\x00\x00\x00\x04\x0b\x00\x00\x00Properties\x00\x04\x0c\x00\x00\x00SetProperty\x00\x04\x07\x00\x00\x00isHurt\x00\x04\x06\x00\x00\x00false\x00\x03\x00\x00\x00\x00\x00\xc0_@\x03\x00\x00\x00\x00\x00\xc0\\@\x04\x11\x00\x00\x00EntityController\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x0b\x00\x00\x00SetRunning\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x0f\x00\x00\x00CollisionShape\x00\x04\x0b\x00\x00\x00SetEnabled\x00\x03\x00\x00\x00\x00\x00\x00\xe0?\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00\'@\x03\x00\x00\x00\x00\x00\x800@\x04\x06\x00\x00\x00Print\x00\x04\x06\x00\x00\x00get: \x00\x04\x0c\x00\x00\x00GetProperty\x00\x04\x05\x00\x00\x00true\x00\x04\x0b\x00\x00\x00StartSwing\x00\x03\x00\x00\x00\x00\x00@[@\x04\x11\x00\x00\x00TimeToCompletion\x00\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x00\x00\x00\x00x\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00w\x00\x00\x00\x10\x00\x00\x00attackAnimation\x00\x08\x00\x00\x00w\x00\x00\x00\x0c\x00\x00\x00shieldShape\x00\t\x00\x00\x00w\x00\x00\x00\x0f\x00\x00\x00swingStartTime\x00?\x00\x00\x00w\x00\x00\x00\r\x00\x00\x00swingEndTime\x00E\x00\x00\x00w\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 127,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'variknight_shield_attack1',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 142,
            Label : 'update',
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;

local updateInterval = 0.3;
local timeToAttack = 3;

while true do

Program.Wait(updateInterval);

timeToAttack = timeToAttack - updateInterval;

if EntityController.IsIdle(self) then
    if timeToAttack < 0 then
        EntityController.PerformAction(self, 126);
        timeToAttack = 2;
    end
end

end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00F\x01\x00\x00local self = ...;\r\n\r\nlocal updateInterval = 0.3;\r\nlocal timeToAttack = 3;\r\n\r\nwhile true do\r\n\r\nProgram.Wait(updateInterval);\r\n\r\ntimeToAttack = timeToAttack - updateInterval;\r\n\r\nif EntityController.IsIdle(self) then\r\n\tif timeToAttack < 0 then\r\n\t\tEntityController.PerformAction(self, 126);\r\n\t\ttimeToAttack = 2;\r\n\tend\r\nend\r\n\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x06\x18\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x00\x01\x80\x00\xdc@\x00\x01\x8d@\x00\x01\xc5\x00\x01\x00\xc6@\xc1\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xda\x00\x00\x00\x16\x00\xfd\x7f\x18\x80A\x01\x16\x80\xfc\x7f\xc5\x00\x01\x00\xc6\xc0\xc1\x01\x00\x01\x00\x00A\x01\x02\x00\xdc@\x80\x01\x81@\x02\x00\x16\xc0\xfa\x7f\x1e\x00\x80\x00\n\x00\x00\x00\x03333333\xd3?\x03\x00\x00\x00\x00\x00\x00\x08@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00IsIdle\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x80_@\x03\x00\x00\x00\x00\x00\x00\x00@\x00\x00\x00\x00\x18\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x13\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x17\x00\x00\x00\x0f\x00\x00\x00updateInterval\x00\x02\x00\x00\x00\x17\x00\x00\x00\r\x00\x00\x00timeToAttack\x00\x03\x00\x00\x00\x17\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'Properties',
            Identifier : 147,
            PropertiesComponent{ # PropertiesComponent
                OnLoad{ # Program
                }
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -26.0,
            Y : -4.818707466125488,
            Width : 91.0,
            Height : 80.2313461303711,
        }
        Hidden : 0,
    }
    Scaling : 1.2000000476837158,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'woodblock',
        Component{ # Component
            ClassName : 'EntityInfo',
            Identifier : 1,
            EntityInfoComponent{ # EntityInfoComponent
                EntityClass : 'Charger',
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'woodblock',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.16862745583057404,
                    G : 0.08235294371843338,
                    B : 0.007843137718737125,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 103,
            EntityComponent{ # EntityComponent
                FacingDirection : 18446744073709551615,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 104,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'woodblock_sleep',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 105,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'woodblock_charge',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 106,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'woodblock_run',
                Repeating : 1,
                SpeedMultiplier : 4.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 107,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'woodblock_stop',
                Repeating : 0,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 108,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 109,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 110,
            HealthComponent{ # HealthComponent
                MaxHealth : 5,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 111,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -30.0,
                    Y : -0.0,
                    Width : 65.0,
                    Height : 100.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 114,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 103,
                AnimationControllerId : 108,
                DefaultMoveAnimationId : 104,
                RoamAreaId : 0,
                DefaultMoveSpeed : 400.0,
                DefaultAcceleration : 800.0,
                TargetingDistance : 350.0,
                MovementBehavior : 1,
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 115,
            Label : 'charge',
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local chargeAnimation = 105;
local runAnimation = 106;
local stopAnimation = 107;

local target = EntityController.Target(self);
local direction = DirectionToTargetFromPosition(target:position(), self:position());

EntityController.SetFacingDirection(self, direction);
EntityController.SetMoveDirection(self, direction);


KeyframeAnimation.SetCurrentTime(self, chargeAnimation, 0);
AnimationController.BlendToAnimation(self, chargeAnimation);
Program.Wait(KeyframeAnimation.TimeToCompletion(self, chargeAnimation));


AnimationController.BlendToAnimation(self, runAnimation);
EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));


while (target:position():x() - self:position():x()) * direction > 0 do
    Program.Wait(0.2);
end

Program.Wait(0.1);

EntityController.SetMoveSpeed(self, 0);


KeyframeAnimation.SetCurrentTime(self, stopAnimation, 0);
AnimationController.BlendToAnimation(self, stopAnimation);
Program.Wait(KeyframeAnimation.TimeToCompletion(self, stopAnimation));

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00!\x04\x00\x00local self = ...;\r\n\r\nlocal chargeAnimation = 105;\r\nlocal runAnimation = 106;\r\nlocal stopAnimation = 107;\r\n\r\nlocal target = EntityController.Target(self);\r\nlocal direction = DirectionToTargetFromPosition(target:position(), self:position());\r\n\r\nEntityController.SetFacingDirection(self, direction);\r\nEntityController.SetMoveDirection(self, direction);\r\n\r\n\r\nKeyframeAnimation.SetCurrentTime(self, chargeAnimation, 0);\r\nAnimationController.BlendToAnimation(self, chargeAnimation);\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, chargeAnimation));\r\n\r\n\r\nAnimationController.BlendToAnimation(self, runAnimation);\r\nEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\r\n\r\n\r\nwhile (target:position():x() - self:position():x()) * direction > 0 do\r\n\tProgram.Wait(0.2);\r\nend\r\n\r\nProgram.Wait(0.1);\r\n\r\nEntityController.SetMoveSpeed(self, 0);\r\n\r\n\r\nKeyframeAnimation.SetCurrentTime(self, stopAnimation, 0);\r\nAnimationController.BlendToAnimation(self, stopAnimation);\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, stopAnimation));\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\nf\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\xc1\x80\x00\x00\x05\xc1\x00\x00\x06\x01A\x02@\x01\x00\x00\x1c\x81\x00\x01EA\x01\x00\x8b\x81A\x02\x9c\x81\x00\x01\xcb\x81A\x00\xdc\x01\x00\x01\\\x81\x00\x00\x85\xc1\x00\x00\x86\xc1A\x03\xc0\x01\x00\x00\x00\x02\x80\x02\x9cA\x80\x01\x85\xc1\x00\x00\x86\x01B\x03\xc0\x01\x00\x00\x00\x02\x80\x02\x9cA\x80\x01\x85A\x02\x00\x86\x81B\x03\xc0\x01\x00\x00\x00\x02\x80\x00A\xc2\x02\x00\x9cA\x00\x02\x85\x01\x03\x00\x86AC\x03\xc0\x01\x00\x00\x00\x02\x80\x00\x9cA\x80\x01\x85\x81\x03\x00\x86\xc1C\x03\xc5A\x02\x00\xc6\x01\xc4\x03\x00\x02\x00\x00@\x02\x80\x00\xdc\x01\x80\x01\x9cA\x00\x00\x85\x01\x03\x00\x86AC\x03\xc0\x01\x00\x00\x00\x02\x00\x01\x9cA\x80\x01\x85\xc1\x00\x00\x86AD\x03\xc0\x01\x00\x00\x05\xc2\x00\x00\x06\x82D\x04@\x02\x00\x00\x1c\x02\x00\x01\x9cA\x00\x00\x8b\x81A\x02\x9c\x81\x00\x01\x8b\xc1D\x03\x9c\x81\x00\x01\xcb\x81A\x00\xdc\x81\x00\x01\xcb\xc1\xc4\x03\xdc\x81\x00\x01\x8d\xc1\x01\x03\x8eA\x01\x03\x18\x80\x81\x85\x16\x00\x01\x80\x85\x81\x03\x00\x86\xc1C\x03\xc1\x01\x05\x00\x9cA\x00\x01\x16\x80\xfb\x7f\x85\x81\x03\x00\x86\xc1C\x03\xc1A\x05\x00\x9cA\x00\x01\x85\xc1\x00\x00\x86AD\x03\xc0\x01\x00\x00\x01\xc2\x02\x00\x9cA\x80\x01\x85A\x02\x00\x86\x81B\x03\xc0\x01\x00\x00\x00\x02\x80\x01A\xc2\x02\x00\x9cA\x00\x02\x85\x01\x03\x00\x86AC\x03\xc0\x01\x00\x00\x00\x02\x80\x01\x9cA\x80\x01\x85\x81\x03\x00\x86\xc1C\x03\xc5A\x02\x00\xc6\x01\xc4\x03\x00\x02\x00\x00@\x02\x80\x01\xdc\x01\x80\x01\x9cA\x00\x00\x1e\x00\x80\x00\x16\x00\x00\x00\x03\x00\x00\x00\x00\x00@Z@\x03\x00\x00\x00\x00\x00\x80Z@\x03\x00\x00\x00\x00\x00\xc0Z@\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x1e\x00\x00\x00DirectionToTargetFromPosition\x00\x04\t\x00\x00\x00position\x00\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\x11\x00\x00\x00SetMoveDirection\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x11\x00\x00\x00TimeToCompletion\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x04\x02\x00\x00\x00x\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x03\x9a\x99\x99\x99\x99\x99\xb9?\x00\x00\x00\x00f\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00\x06\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00e\x00\x00\x00\x10\x00\x00\x00chargeAnimation\x00\x02\x00\x00\x00e\x00\x00\x00\r\x00\x00\x00runAnimation\x00\x03\x00\x00\x00e\x00\x00\x00\x0e\x00\x00\x00stopAnimation\x00\x04\x00\x00\x00e\x00\x00\x00\x07\x00\x00\x00target\x00\x08\x00\x00\x00e\x00\x00\x00\n\x00\x00\x00direction\x00\x0e\x00\x00\x00e\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 116,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;

local timeSinceCharge = 10;

EntityController.SetMoveSpeed(self, 0);

while true do
    Program.Wait(0.1);
    timeSinceCharge = timeSinceCharge + 0.1;

    local target = EntityController.Target(self);

    if EntityController.IsIdle(self) and target ~= nil then
        if timeSinceCharge > 3.5 or Math.Abs(target:position():x() - self:position():x()) > 300 then
            timeSinceCharge = 0;
            EntityController.PerformAction(self, 115);
        end
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xd5\x01\x00\x00local self = ...;\r\n\r\nlocal timeSinceCharge = 10;\r\n\r\nEntityController.SetMoveSpeed(self, 0);\r\n\r\nwhile true do\r\n\tProgram.Wait(0.1);\r\n\ttimeSinceCharge = timeSinceCharge + 0.1;\r\n\r\n\tlocal target = EntityController.Target(self);\r\n\r\n\tif EntityController.IsIdle(self) and target ~= nil then\r\n\t\tif timeSinceCharge > 3.5 or Math.Abs(target:position():x() - self:position():x()) > 300 then\r\n\t\t\ttimeSinceCharge = 0;\r\n\t\t\tEntityController.PerformAction(self, 115);\r\n\t\tend\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x070\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x85@\x00\x00\x86\x80@\x01\xc0\x00\x00\x00\x01\xc1\x00\x00\x9c@\x80\x01\x85\x00\x01\x00\x86@A\x01\xc1\x80\x01\x00\x9c@\x00\x01L\x80\xc1\x00\x85@\x00\x00\x86\xc0A\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\xc5@\x00\x00\xc6\x00\xc2\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xda\x00\x00\x00\x16\x00\xfc\x7fW@B\x01\x16\x80\xfb\x7fX@\x00\x85\x16@\x03\x80\xc5\xc0\x02\x00\xc6\x00\xc3\x01\x0bAC\x01\x1c\x81\x00\x01\x0b\x81C\x02\x1c\x81\x00\x01KAC\x00\\\x81\x00\x01K\x81\xc3\x02\\\x81\x00\x01\rA\x01\x02\xdc\x80\x00\x01\x18\xc0\x80\x87\x16\x80\xf7\x7fA\xc0\x00\x00\xc5@\x00\x00\xc6\x00\xc4\x01\x00\x01\x00\x00AA\x04\x00\xdc@\x80\x01\x16\xc0\xf5\x7f\x1e\x00\x80\x00\x12\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00$@\x04\x11\x00\x00\x00EntityController\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x07\x00\x00\x00Target\x00\x04\x07\x00\x00\x00IsIdle\x00\x00\x03\x00\x00\x00\x00\x00\x00\x0c@\x04\x05\x00\x00\x00Math\x00\x04\x04\x00\x00\x00Abs\x00\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\xc0r@\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\xc0\\@\x00\x00\x00\x000\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x12\x00\x00\x00\x13\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00/\x00\x00\x00\x10\x00\x00\x00timeSinceCharge\x00\x02\x00\x00\x00/\x00\x00\x00\x07\x00\x00\x00target\x00\x10\x00\x00\x00.\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -30.0,
            Y : 0.0,
            Width : 65.0,
            Height : 100.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'woodknight',
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'woodknight',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'WalkingMonsterController',
            Identifier : 102,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 100.0,
                AnimationControllerId : 109,
                EntityId : 103,
                RoamAreaId : 110,
            }
            WalkingMonsterControllerComponent{ # WalkingMonsterControllerComponent
                WalkAnimationId : 104,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 103,
            EntityComponent{ # EntityComponent
                FacingDirection : 18446744073709551615,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 104,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'woodknight_walk',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 105,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -16.0,
                    Y : 0.0,
                    Width : 25.999996185302734,
                    Height : 62.02389907836914,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -40.0,
                MaxDepth : 40.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 109,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'UtilityShape',
            Identifier : 110,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -180.0,
                    Y : 0.0,
                    Width : 360.0,
                    Height : 70.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 115,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 116,
            HealthComponent{ # HealthComponent
                MaxHealth : 4,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'BoneControlledCollisionShape',
            Identifier : 117,
            ShapeComponent{ # ShapeComponent
                Circle{ # Circle
                    Center{ # Vector2
                        X : 55.0,
                        Y : 0.0,
                    }
                    Radius : 15.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                InflictsDamage : 1,
                MinDepth : -40.0,
                MaxDepth : 40.0,
                Enabled : 1,
            }
            BoneControlledCollisionShapeComponent{ # BoneControlledCollisionShapeComponent
                ControllingModelId : 101,
                ControllingBoneName : 'BoneRightWeapon',
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -16.0,
            Y : 0.0,
            Width : 25.999996185302734,
            Height : 62.02389907836914,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'woodknight_mace',
        Component{ # Component
            ClassName : 'SoundEffect',
            Identifier : 1,
            SoundEffectComponent{ # SoundEffectComponent
                Name : 'axeswoosh1',
                Delay : 0.6000000238418579,
                Volume : 1.0,
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'woodknight_mace',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 103,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 1,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 104,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'woodknight_walk',
                Repeating : 1,
                SpeedMultiplier : 1.2000000476837158,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 105,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -16.0,
                    Y : 0.0,
                    Width : 25.999996185302734,
                    Height : 62.02389907836914,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                Collides : 1,
                ReceivesDamage : 1,
                MinDepth : -40.0,
                MaxDepth : 40.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 109,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'UtilityShape',
            Identifier : 110,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -200.0,
                    Y : 0.0,
                    Width : 400.0,
                    Height : 70.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Damage',
            Identifier : 115,
            DamageComponent{ # DamageComponent
                MinDamage : 1,
                DamageType : 0,
                SpecialDamageType : 0,
                PhysicalDamageFactor : 1.0,
                MagicDamageFactor : 0.0,
                IgnoreTargetImmunity : 0,
                CanBeBlocked : 1,
            }
        }
        Component{ # Component
            ClassName : 'Health',
            Identifier : 116,
            HealthComponent{ # HealthComponent
                MaxHealth : 8,
                HEALTHTYPE : 0,
                BarOffset{ # Vector3
                    X : 0.0,
                    Y : 50.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'GenericMonsterController',
            Identifier : 120,
            MonsterControllerComponent{ # MonsterControllerComponent
                WalkSpeed : 100.0,
                AnimationControllerId : 109,
                EntityId : 103,
                RoamAreaId : 110,
            }
            GenericMonsterControllerComponent{ # GenericMonsterControllerComponent
                WalkAnimationId : 104,
            }
        }
        Component{ # Component
            ClassName : 'Attack',
            Identifier : 124,
            Label : 'attack1',
            AttackComponent{ # AttackComponent
                AnimationId : 125,
                CollisionShapeId : 126,
                AttackAreaId : 0,
                SoundEffectId : 1,
                AttackInterval : 1.0,
                AttackDuration : 0.0,
                DamageStartTime : 0.49000000953674316,
                DamageEndTime : 0.550000011920929,
                AnimationStartBlendTime : 0.30000001192092896,
                AnimationEndBlendTime : 0.20000000298023224,
                OnAttack{ # Program
                }
                DamageStartTime2 : 0.0,
                DamageEndTime2 : 0.0,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 125,
            Label : 'attack1',
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'woodknight_mace_attack',
                Repeating : 0,
                SpeedMultiplier : 0.699999988079071,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 126,
            Label : 'attack1',
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : 0.0,
                    Y : 10.0,
                    Width : 120.0,
                    Height : 40.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                ReceivesDamage : 1,
                InflictsDamage : 1,
                MinDepth : -15.0,
                MaxDepth : 15.0,
                Enabled : 1,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -16.0,
            Y : 0.0,
            Width : 136.0,
            Height : 62.02389907836914,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
ImportedLibrary : 'old',
ImportedLibrary : 'playground',
ImportedLibrary : 'skeleton',
