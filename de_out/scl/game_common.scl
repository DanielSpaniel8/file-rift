# rifted with FR v5.7.3

Name : 'game_common',
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'collect_health',
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 2,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 123,
                ParticleId : 3,
                ParticleId : 4,
                ModelBindingId : 0,
                MaxParticles : 30,
                ParentEmitterId : 120,
                DestroyWhenFinished : 0,
                Emitter{ # ParticleEmitter
                    Type : 1,
                    BaseColor{ # FloatColor
                        R : 0.4000000059604645,
                        G : 0.0,
                        B : 1.4305115314527939e-07,
                        A : 0.0,
                    }
                    Parameter : 0.0,
                    Parameter : 0.3499999940395355,
                    Parameter : 30.0,
                    Parameter : 80.0,
                    HueVariance : 0.0,
                    SaturationVariance : 0.0,
                    LightnessVariance : 0.0,
                    OriginOffset{ # Vector3
                        X : 0.0,
                        Y : 0.0,
                        Z : 0.0,
                    }
                }
                LocalSystem : 1,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 3,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_2',
                Size : 40.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 4,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_3',
                Size : 40.0,
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 5,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;
local hero = Scene.Find("hero");
while true do
    self:setPosition(hero:position() + hero:velocity() * 0.05 + Vector3.New(0, -5, 0));
    Program.Wait(0.01);
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xb4\x00\x00\x00local self = ...;\r\nlocal hero = Scene.Find("hero");\r\nwhile true do\r\n\tself:setPosition(hero:position() + hero:velocity() * 0.05 + Vector3.New(0, -5, 0));\r\n\tProgram.Wait(0.01);\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\t\x1a\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x81\x80\x00\x00\\\x80\x00\x01\x8b\xc0@\x00\x0b\x01\xc1\x00\x1c\x81\x00\x01KA\xc1\x00\\\x81\x00\x01N\x81\xc1\x02\x0cA\x01\x02E\xc1\x01\x00F\x01\xc2\x02\x81A\x02\x00\xc1\x81\x02\x00\x01B\x02\x00\\\x81\x00\x02\x0cA\x01\x02\x9c@\x80\x01\x85\xc0\x02\x00\x86\x00C\x01\xc1@\x03\x00\x9c@\x00\x01\x16\xc0\xfa\x7f\x1e\x00\x80\x00\x0e\x00\x00\x00\x04\x06\x00\x00\x00Scene\x00\x04\x05\x00\x00\x00Find\x00\x04\x05\x00\x00\x00hero\x00\x04\x0c\x00\x00\x00setPosition\x00\x04\t\x00\x00\x00position\x00\x04\t\x00\x00\x00velocity\x00\x03\x9a\x99\x99\x99\x99\x99\xa9?\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x14\xc0\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03{\x14\xaeG\xe1z\x84?\x00\x00\x00\x00\x1a\x00\x00\x00\x01\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x19\x00\x00\x00\x05\x00\x00\x00hero\x00\x05\x00\x00\x00\x19\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 6,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 7,
                ModelBindingId : 0,
                MaxParticles : 30,
                ParentEmitterId : 0,
                DestroyWhenFinished : 0,
                Emitter{ # ParticleEmitter
                    Type : 1,
                    BaseColor{ # FloatColor
                        R : 0.14444446563720703,
                        G : 0.14444446563720703,
                        B : 0.14444446563720703,
                        A : 0.0,
                    }
                    Parameter : 20.0,
                    Parameter : 0.3499999940395355,
                    Parameter : 8.0,
                    Parameter : 100.0,
                    HueVariance : 0.0,
                    SaturationVariance : 0.0,
                    LightnessVariance : 0.0,
                    OriginOffset{ # Vector3
                        X : 0.0,
                        Y : 0.0,
                        Z : 0.0,
                    }
                }
                LocalSystem : 1,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 7,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_2',
                Size : 40.0,
            }
        }
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 120,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 123,
                ParticleId : 3,
                ParticleId : 4,
                ModelBindingId : 0,
                MaxParticles : 100,
                ParentEmitterId : 0,
                DestroyWhenFinished : 1,
                Emitter{ # ParticleEmitter
                    Type : 2,
                    BaseColor{ # FloatColor
                        R : 0.7061728239059448,
                        G : 0.18271607160568237,
                        B : 0.1827162653207779,
                        A : 0.0,
                    }
                    Parameter : 35.0,
                    Parameter : 0.3499999940395355,
                    Parameter : 5.0,
                    Parameter : 30.0,
                    HueVariance : 0.0,
                    SaturationVariance : 0.0,
                    LightnessVariance : 0.0,
                    OriginOffset{ # Vector3
                        X : 0.0,
                        Y : 0.0,
                        Z : 0.0,
                    }
                }
                LocalSystem : 1,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 123,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_1',
                Size : 30.0,
            }
        }
        Component{ # Component
            ClassName : 'TransformController',
            Identifier : 125,
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -10.0,
            Y : -10.0,
            Width : 20.0,
            Height : 20.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'collect_mana',
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 2,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 123,
                ParticleId : 3,
                ParticleId : 4,
                ModelBindingId : 0,
                MaxParticles : 30,
                ParentEmitterId : 120,
                DestroyWhenFinished : 0,
                Emitter{ # ParticleEmitter
                    Type : 1,
                    BaseColor{ # FloatColor
                        R : 0.0,
                        G : 0.1195068359375,
                        B : 0.9777777791023254,
                        A : 0.0,
                    }
                    Parameter : 0.0,
                    Parameter : 0.3499999940395355,
                    Parameter : 30.0,
                    Parameter : 80.0,
                    HueVariance : 0.0,
                    SaturationVariance : 0.0,
                    LightnessVariance : 0.0,
                    OriginOffset{ # Vector3
                        X : 0.0,
                        Y : 0.0,
                        Z : 0.0,
                    }
                }
                LocalSystem : 1,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 3,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_2',
                Size : 40.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 4,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_3',
                Size : 40.0,
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 5,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;
local hero = Scene.Find("hero");
while true do
    self:setPosition(hero:position() + hero:velocity() * 0.05 + Vector3.New(0, -5, 0));
    Program.Wait(0.01);
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xb4\x00\x00\x00local self = ...;\r\nlocal hero = Scene.Find("hero");\r\nwhile true do\r\n\tself:setPosition(hero:position() + hero:velocity() * 0.05 + Vector3.New(0, -5, 0));\r\n\tProgram.Wait(0.01);\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\t\x1a\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x81\x80\x00\x00\\\x80\x00\x01\x8b\xc0@\x00\x0b\x01\xc1\x00\x1c\x81\x00\x01KA\xc1\x00\\\x81\x00\x01N\x81\xc1\x02\x0cA\x01\x02E\xc1\x01\x00F\x01\xc2\x02\x81A\x02\x00\xc1\x81\x02\x00\x01B\x02\x00\\\x81\x00\x02\x0cA\x01\x02\x9c@\x80\x01\x85\xc0\x02\x00\x86\x00C\x01\xc1@\x03\x00\x9c@\x00\x01\x16\xc0\xfa\x7f\x1e\x00\x80\x00\x0e\x00\x00\x00\x04\x06\x00\x00\x00Scene\x00\x04\x05\x00\x00\x00Find\x00\x04\x05\x00\x00\x00hero\x00\x04\x0c\x00\x00\x00setPosition\x00\x04\t\x00\x00\x00position\x00\x04\t\x00\x00\x00velocity\x00\x03\x9a\x99\x99\x99\x99\x99\xa9?\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x14\xc0\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03{\x14\xaeG\xe1z\x84?\x00\x00\x00\x00\x1a\x00\x00\x00\x01\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x19\x00\x00\x00\x05\x00\x00\x00hero\x00\x05\x00\x00\x00\x19\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 1,
            }
        }
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 6,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 7,
                ModelBindingId : 0,
                MaxParticles : 30,
                ParentEmitterId : 0,
                DestroyWhenFinished : 0,
                Emitter{ # ParticleEmitter
                    Type : 1,
                    BaseColor{ # FloatColor
                        R : 0.2666666805744171,
                        G : 0.2666666805744171,
                        B : 0.2666666805744171,
                        A : 0.0,
                    }
                    Parameter : 20.0,
                    Parameter : 0.3499999940395355,
                    Parameter : 8.0,
                    Parameter : 100.0,
                    HueVariance : 0.0,
                    SaturationVariance : 0.0,
                    LightnessVariance : 0.0,
                    OriginOffset{ # Vector3
                        X : 0.0,
                        Y : 0.0,
                        Z : 0.0,
                    }
                }
                LocalSystem : 1,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 7,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_2',
                Size : 40.0,
            }
        }
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 120,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 123,
                ParticleId : 3,
                ParticleId : 4,
                ModelBindingId : 0,
                MaxParticles : 100,
                ParentEmitterId : 0,
                DestroyWhenFinished : 1,
                Emitter{ # ParticleEmitter
                    Type : 2,
                    BaseColor{ # FloatColor
                        R : 0.19185185432434082,
                        G : 0.265135794878006,
                        B : 0.7414814829826355,
                        A : 0.0,
                    }
                    Parameter : 35.0,
                    Parameter : 0.3499999940395355,
                    Parameter : 5.0,
                    Parameter : 30.0,
                    HueVariance : 0.0,
                    SaturationVariance : 0.0,
                    LightnessVariance : 0.0,
                    OriginOffset{ # Vector3
                        X : 0.0,
                        Y : 0.0,
                        Z : 0.0,
                    }
                }
                LocalSystem : 1,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 123,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_1',
                Size : 30.0,
            }
        }
        Component{ # Component
            ClassName : 'TransformController',
            Identifier : 125,
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -10.0,
            Y : -10.0,
            Width : 20.0,
            Height : 20.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'effect_shatter',
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 1,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_break1',
                Size : 20.0,
            }
        }
        Component{ # Component
            ClassName : 'ShatterComponent',
            Identifier : 101,
        }
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 102,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 1,
                ParticleId : 104,
                ModelBindingId : 0,
                MaxParticles : 30,
                ParentEmitterId : 0,
                DestroyWhenFinished : 0,
                LocalSystem : 0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 104,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_break2',
                Size : 12.0,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -10.0,
            Y : -10.0,
            Width : 20.0,
            Height : 20.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'iapstoremodel',
        Component{ # Component
            ClassName : 'ModelTransformController',
            Identifier : 3,
            ModelTransformControllerComponent{ # ModelTransformControllerComponent
                ModelId : 101,
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'iapCoin',
                YRotation : 1.5707963705062866,
                EmissionFactor : 0.20000000298023224,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'SimpleGlow',
            Identifier : 102,
            SimpleGlowComponent{ # SimpleGlowComponent
                Color{ # FloatColor
                    R : 0.21111111342906952,
                    G : 0.21111111342906952,
                    B : 0.21111111342906952,
                    A : 0.18888893723487854,
                }
                Size : 30.0,
                NumSegments : 15,
                Depth : 15.0,
                PulseAmount : 0.15000000596046448,
                PulseTime : 0.800000011920929,
                Offset{ # Vector2
                    X : 0.0,
                    Y : 0.0,
                }
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -20.0,
            Y : -20.0,
            Width : 40.0,
            Height : 40.0,
        }
        Hidden : 0,
    }
    Scaling : 1.2000000476837158,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'iapstoretrigger',
        Component{ # Component
            ClassName : 'Portal',
            Identifier : 101,
            PortalComponent{ # PortalComponent
                DestinationSceneName : 'iapstore',
                SpawnPointName : '',
                TapToEnter : 1,
                TriggerShapeId : 102,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 102,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -41.5,
                    Y : -43.0,
                    Width : 83.0,
                    Height : 133.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                MinDepth : -15.0,
                MaxDepth : 150.0,
                SpecialType : 2,
                OnCollide{ # Program
                    String : $
local coinObject = Scene.Find("iapstoremodel");
TransformController.ScaleTo(coinObject, 1.2, 0.2);
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00d\x00\x00\x00local coinObject = Scene.Find("iapstoremodel");\r\nTransformController.ScaleTo(coinObject, 1.2, 0.2);\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x05\x0b\x00\x00\x00\x05\x00\x00\x00\x06@@\x00A\x80\x00\x00\x1c\x80\x00\x01E\xc0\x00\x00F\x00\xc1\x00\x80\x00\x00\x00\xc1@\x01\x00\x01\x81\x01\x00\\@\x00\x02\x1e\x00\x80\x00\x07\x00\x00\x00\x04\x06\x00\x00\x00Scene\x00\x04\x05\x00\x00\x00Find\x00\x04\x0e\x00\x00\x00iapstoremodel\x00\x04\x14\x00\x00\x00TransformController\x00\x04\x08\x00\x00\x00ScaleTo\x00\x03333333\xf3?\x03\x9a\x99\x99\x99\x99\x99\xc9?\x00\x00\x00\x00\x0b\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x01\x00\x00\x00\x0b\x00\x00\x00coinObject\x00\x04\x00\x00\x00\n\x00\x00\x00\x00\x00\x00\x00',
                }
                OnCollisionEnd{ # Program
                    String : $
local coinObject = Scene.Find("iapstoremodel");
TransformController.ScaleTo(coinObject, 1.0, 0.2);
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00d\x00\x00\x00local coinObject = Scene.Find("iapstoremodel");\r\nTransformController.ScaleTo(coinObject, 1.0, 0.2);\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x05\x0b\x00\x00\x00\x05\x00\x00\x00\x06@@\x00A\x80\x00\x00\x1c\x80\x00\x01E\xc0\x00\x00F\x00\xc1\x00\x80\x00\x00\x00\xc1@\x01\x00\x01\x81\x01\x00\\@\x00\x02\x1e\x00\x80\x00\x07\x00\x00\x00\x04\x06\x00\x00\x00Scene\x00\x04\x05\x00\x00\x00Find\x00\x04\x0e\x00\x00\x00iapstoremodel\x00\x04\x14\x00\x00\x00TransformController\x00\x04\x08\x00\x00\x00ScaleTo\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x03\x9a\x99\x99\x99\x99\x99\xc9?\x00\x00\x00\x00\x0b\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x01\x00\x00\x00\x0b\x00\x00\x00coinObject\x00\x04\x00\x00\x00\n\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -41.5,
            Y : -43.0,
            Width : 83.0,
            Height : 133.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'particle_blast',
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 1,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_1',
                Size : 40.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 2,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_2',
                Size : 40.0,
            }
        }
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 3,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 1,
                ParticleId : 2,
                ParticleId : 102,
                ModelBindingId : 0,
                MaxParticles : 30,
                ParentEmitterId : 101,
                DestroyWhenFinished : 1,
                Emitter{ # ParticleEmitter
                    Type : 2,
                    BaseColor{ # FloatColor
                        R : 1.0,
                        G : 1.0,
                        B : 1.0,
                        A : 0.0,
                    }
                    HueVariance : 0.0,
                    SaturationVariance : 0.0,
                    LightnessVariance : 0.0,
                    OriginOffset{ # Vector3
                        X : 0.0,
                        Y : 0.0,
                        Z : 0.0,
                    }
                }
                LocalSystem : 0,
            }
        }
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 101,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 102,
                ParticleId : 1,
                ParticleId : 2,
                ModelBindingId : 0,
                MaxParticles : 30,
                ParentEmitterId : 0,
                DestroyWhenFinished : 1,
                Emitter{ # ParticleEmitter
                    Type : 1,
                    BaseColor{ # FloatColor
                        R : 1.0,
                        G : 1.0,
                        B : 1.0,
                        A : 0.0,
                    }
                    HueVariance : 0.0,
                    SaturationVariance : 0.0,
                    LightnessVariance : 0.0,
                    OriginOffset{ # Vector3
                        X : 0.0,
                        Y : 0.0,
                        Z : 0.0,
                    }
                }
                LocalSystem : 0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 102,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_3',
                Size : 40.0,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -10.0,
            Y : -10.0,
            Width : 20.0,
            Height : 20.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'portal',
        Component{ # Component
            ClassName : 'SpawnPoint',
            Identifier : 1,
            SpawnPointComponent{ # SpawnPointComponent
                FacingDirection : 1,
                SpawnOffset{ # Vector3
                    X : 0.0,
                    Y : 30.0,
                    Z : 0.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 2,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;

if not Character.HasSceneFlag("has_portal") then
    Character.AddSceneFlag("has_portal");
end

self.leftTorch = Scene.CreateObject("portal_torch_left", "portal_torch_left");
self.rightTorch = Scene.CreateObject("portal_torch_right", "portal_torch_right");

self.leftTorch:setPosition(self:position() + Vector3.New(-75, 40, -70));
self.rightTorch:setPosition(self:position() + Vector3.New(72, 40, -70));

if Character.HasSceneFlag("portal_found") then
    Program.Execute(self, 3); -- create fires
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x11\x02\x00\x00local self = ...;\r\n\r\nif not Character.HasSceneFlag("has_portal") then\r\n\tCharacter.AddSceneFlag("has_portal");\r\nend\r\n\r\nself.leftTorch = Scene.CreateObject("portal_torch_left", "portal_torch_left");\r\nself.rightTorch = Scene.CreateObject("portal_torch_right", "portal_torch_right");\r\n\r\nself.leftTorch:setPosition(self:position() + Vector3.New(-75, 40, -70));\r\nself.rightTorch:setPosition(self:position() + Vector3.New(72, 40, -70));\r\n\r\nif Character.HasSceneFlag("portal_found") then\r\n\tProgram.Execute(self, 3); -- create fires\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x08;\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x81\x80\x00\x00\\\x80\x00\x01Z@\x00\x00\x16\xc0\x00\x80E\x00\x00\x00F\xc0\xc0\x00\x81\x80\x00\x00\\@\x00\x01E@\x01\x00F\x80\xc1\x00\x81\xc0\x01\x00\xc1\xc0\x01\x00\\\x80\x80\x01\t@\x00\x82E@\x01\x00F\x80\xc1\x00\x81@\x02\x00\xc1@\x02\x00\\\x80\x80\x01\t@\x00\x84F\x00A\x00K\x80\xc2\x00\xcb\xc0B\x00\xdc\x80\x00\x01\x05\x01\x03\x00\x06AC\x02A\x81\x03\x00\x81\xc1\x03\x00\xc1\x01\x04\x00\x1c\x81\x00\x02\xcc\x00\x81\x01\\@\x80\x01F\x00B\x00K\x80\xc2\x00\xcb\xc0B\x00\xdc\x80\x00\x01\x05\x01\x03\x00\x06AC\x02AA\x04\x00\x81\xc1\x03\x00\xc1\x01\x04\x00\x1c\x81\x00\x02\xcc\x00\x81\x01\\@\x80\x01E\x00\x00\x00F@\xc0\x00\x81\x80\x04\x00\\\x80\x00\x01Z\x00\x00\x00\x16\x00\x01\x80E\xc0\x04\x00F\x00\xc5\x00\x80\x00\x00\x00\xc1@\x05\x00\\@\x80\x01\x1e\x00\x80\x00\x16\x00\x00\x00\x04\n\x00\x00\x00Character\x00\x04\r\x00\x00\x00HasSceneFlag\x00\x04\x0b\x00\x00\x00has_portal\x00\x04\r\x00\x00\x00AddSceneFlag\x00\x04\n\x00\x00\x00leftTorch\x00\x04\x06\x00\x00\x00Scene\x00\x04\r\x00\x00\x00CreateObject\x00\x04\x12\x00\x00\x00portal_torch_left\x00\x04\x0b\x00\x00\x00rightTorch\x00\x04\x13\x00\x00\x00portal_torch_right\x00\x04\x0c\x00\x00\x00setPosition\x00\x04\t\x00\x00\x00position\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\xc0R\xc0\x03\x00\x00\x00\x00\x00\x00D@\x03\x00\x00\x00\x00\x00\x80Q\xc0\x03\x00\x00\x00\x00\x00\x00R@\x04\r\x00\x00\x00portal_found\x00\x04\x08\x00\x00\x00Program\x00\x04\x08\x00\x00\x00Execute\x00\x03\x00\x00\x00\x00\x00\x00\x08@\x00\x00\x00\x00;\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x01\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00:\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 10,
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 3,
            Label : 'createFires',
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;

self.firesCreated = true;

local leftFire = Scene.CreateObject("portal_torch_fire", "portal_fire_left");
local rightFire = Scene.CreateObject("portal_torch_fire", "portal_fire_right");

leftFire:setPosition(self.leftTorch:position());
rightFire:setPosition(self.rightTorch:position());

TransformController.ScaleTo(leftFire, 0.01, 0);
TransformController.ScaleTo(leftFire, 1, 0.15);

TransformController.ScaleTo(rightFire, 0.01, 0);
TransformController.ScaleTo(rightFire, 1, 0.15);

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x05\x02\x00\x00local self = ...;\r\n\r\nself.firesCreated = true;\r\n\r\nlocal leftFire = Scene.CreateObject("portal_torch_fire", "portal_fire_left");\r\nlocal rightFire = Scene.CreateObject("portal_torch_fire", "portal_fire_right");\r\n\r\nleftFire:setPosition(self.leftTorch:position());\r\nrightFire:setPosition(self.rightTorch:position());\r\n\r\nTransformController.ScaleTo(leftFire, 0.01, 0);\r\nTransformController.ScaleTo(leftFire, 1, 0.15);\r\n\r\nTransformController.ScaleTo(rightFire, 0.01, 0);\r\nTransformController.ScaleTo(rightFire, 1, 0.15);\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x07/\x00\x00\x00%\x00\x00\x01\t@@\x80E\x80\x00\x00F\xc0\xc0\x00\x81\x00\x01\x00\xc1@\x01\x00\\\x80\x80\x01\x85\x80\x00\x00\x86\xc0@\x01\xc1\x00\x01\x00\x01\x81\x01\x00\x9c\x80\x80\x01\xcb\xc0\xc1\x00F\x01B\x00KA\xc2\x02\\\x01\x00\x01\xdc@\x00\x00\xcb\xc0A\x01F\x81B\x00KA\xc2\x02\\\x01\x00\x01\xdc@\x00\x00\xc5\xc0\x02\x00\xc6\x00\xc3\x01\x00\x01\x80\x00AA\x03\x00\x81\x81\x03\x00\xdc@\x00\x02\xc5\xc0\x02\x00\xc6\x00\xc3\x01\x00\x01\x80\x00A\xc1\x03\x00\x81\x01\x04\x00\xdc@\x00\x02\xc5\xc0\x02\x00\xc6\x00\xc3\x01\x00\x01\x00\x01AA\x03\x00\x81\x81\x03\x00\xdc@\x00\x02\xc5\xc0\x02\x00\xc6\x00\xc3\x01\x00\x01\x00\x01A\xc1\x03\x00\x81\x01\x04\x00\xdc@\x00\x02\x1e\x00\x80\x00\x11\x00\x00\x00\x04\r\x00\x00\x00firesCreated\x00\x01\x01\x04\x06\x00\x00\x00Scene\x00\x04\r\x00\x00\x00CreateObject\x00\x04\x12\x00\x00\x00portal_torch_fire\x00\x04\x11\x00\x00\x00portal_fire_left\x00\x04\x12\x00\x00\x00portal_fire_right\x00\x04\x0c\x00\x00\x00setPosition\x00\x04\n\x00\x00\x00leftTorch\x00\x04\t\x00\x00\x00position\x00\x04\x0b\x00\x00\x00rightTorch\x00\x04\x14\x00\x00\x00TransformController\x00\x04\x08\x00\x00\x00ScaleTo\x00\x03{\x14\xaeG\xe1z\x84?\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x03333333\xc3?\x00\x00\x00\x00/\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00.\x00\x00\x00\t\x00\x00\x00leftFire\x00\x07\x00\x00\x00.\x00\x00\x00\n\x00\x00\x00rightFire\x00\x0c\x00\x00\x00.\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 0,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 4,
            ParentComponentIdentifier : 102,
            ShapeComponent{ # ShapeComponent
                Polygon{ # Polygon
                    Vertex{ # Vector2
                        X : -94.46080017089844,
                        Y : 1.84075927734375,
                    }
                    Vertex{ # Vector2
                        X : 101.94805908203125,
                        Y : 2.36572265625,
                    }
                    Vertex{ # Vector2
                        X : 63.26611328125,
                        Y : 10.772216796875,
                    }
                    Vertex{ # Vector2
                        X : -57.924285888671875,
                        Y : 11.21063232421875,
                    }
                    Convex : 0,
                    Closed : 1,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                IsGround : 1,
                MinDepth : -50.0,
                MaxDepth : 50.0,
                Enabled : 1,
            }
        }
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'portal',
                YRotation : 0.0,
                EmissionFactor : 0.0,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 4.0,
                    Y : 0.0,
                    Z : 10.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'GroundPolygon',
            Identifier : 102,
            GroundPolygonComponent{ # GroundPolygonComponent
                Polygon{ # Polygon
                    Vertex{ # Vector2
                        X : -94.46080017089844,
                        Y : 1.84075927734375,
                    }
                    Vertex{ # Vector2
                        X : 101.94805908203125,
                        Y : 2.36572265625,
                    }
                    Vertex{ # Vector2
                        X : 63.26611328125,
                        Y : 10.772216796875,
                    }
                    Vertex{ # Vector2
                        X : -57.924285888671875,
                        Y : 11.21063232421875,
                    }
                    Convex : 0,
                    Closed : 1,
                }
                Collides : 1,
                MinDepth : -50.0,
                MaxDepth : 50.0,
                OnCollide{ # Program
                }
            }
        }
        Component{ # Component
            ClassName : 'Portal',
            Identifier : 105,
            PortalComponent{ # PortalComponent
                DestinationSceneName : '',
                SpawnPointName : '',
                TapToEnter : 1,
                TriggerShapeId : 106,
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 106,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -50.0,
                    Y : 20.0,
                    Width : 100.0,
                    Height : 110.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                MinDepth : -70.0,
                MaxDepth : 50.0,
                OnCollide{ # Program
                    String : $
local self, target = ...;

if target:identifier() == "hero" then

    Portal.Activate(self);

    local effect = Scene.CreateObject("portal_effect", "portal_effect_" .. self:identifier(), self);
    effect:setPosition(self:position() + Vector3.New(0, 68, -95));
    TransformController.ScaleTo(effect, 0.001, 0);
    self.effect = effect;

    Program.Wait(0.01);

    if not Character.HasSceneFlag("portal_found") then
        Character.AddSceneFlag("portal_found")
        Program.Execute(self, 3); -- create fires
        Program.Wait(0.2);
    end

    TransformController.ScaleTo(effect, 1, 0.2);
end

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00G\x02\x00\x00local self, target = ...;\r\n\r\nif target:identifier() == "hero" then\r\n\r\n\tPortal.Activate(self);\r\n\r\n\tlocal effect = Scene.CreateObject("portal_effect", "portal_effect_" .. self:identifier(), self);\r\n\teffect:setPosition(self:position() + Vector3.New(0, 68, -95));\r\n\tTransformController.ScaleTo(effect, 0.001, 0);\r\n\tself.effect = effect;\r\n\r\n\tProgram.Wait(0.01);\r\n\r\n\tif not Character.HasSceneFlag("portal_found") then\r\n\t\tCharacter.AddSceneFlag("portal_found")\r\n\t\tProgram.Execute(self, 3); -- create fires\r\n\t\tProgram.Wait(0.2);\r\n\tend\r\n\r\n\tTransformController.ScaleTo(effect, 1, 0.2);\r\nend\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\nB\x00\x00\x00%\x00\x80\x01\x8b\x00\xc0\x00\x9c\x80\x00\x01\x17@@\x01\x16\xc0\x0e\x80\x85\x80\x00\x00\x86\xc0@\x01\xc0\x00\x00\x00\x9c@\x00\x01\x85\x00\x01\x00\x86@A\x01\xc1\x80\x01\x00\x01\xc1\x01\x00K\x01@\x00\\\x81\x00\x01\x15A\x01\x02@\x01\x00\x00\x9c\x80\x00\x02\xcb\x00B\x01KAB\x00\\\x81\x00\x01\x85\x81\x02\x00\x86\xc1B\x03\xc1\x01\x03\x00\x01B\x03\x00A\x82\x03\x00\x9c\x81\x00\x02L\x81\x81\x02\xdc@\x80\x01\xc5\xc0\x03\x00\xc6\x00\xc4\x01\x00\x01\x00\x01AA\x04\x00\x81\x01\x03\x00\xdc@\x00\x02\t\x80\x00\x89\xc5\xc0\x04\x00\xc6\x00\xc5\x01\x01A\x05\x00\xdc@\x00\x01\xc5\x80\x05\x00\xc6\xc0\xc5\x01\x01\x01\x06\x00\xdc\x80\x00\x01\xda@\x00\x00\x16\x00\x03\x80\xc5\x80\x05\x00\xc6@\xc6\x01\x01\x01\x06\x00\xdc@\x00\x01\xc5\xc0\x04\x00\xc6\x80\xc6\x01\x00\x01\x00\x00A\xc1\x06\x00\xdc@\x80\x01\xc5\xc0\x04\x00\xc6\x00\xc5\x01\x01\x01\x07\x00\xdc@\x00\x01\xc5\xc0\x03\x00\xc6\x00\xc4\x01\x00\x01\x00\x01AA\x07\x00\x81\x01\x07\x00\xdc@\x00\x02\x1e\x00\x80\x00\x1e\x00\x00\x00\x04\x0b\x00\x00\x00identifier\x00\x04\x05\x00\x00\x00hero\x00\x04\x07\x00\x00\x00Portal\x00\x04\t\x00\x00\x00Activate\x00\x04\x06\x00\x00\x00Scene\x00\x04\r\x00\x00\x00CreateObject\x00\x04\x0e\x00\x00\x00portal_effect\x00\x04\x0f\x00\x00\x00portal_effect_\x00\x04\x0c\x00\x00\x00setPosition\x00\x04\t\x00\x00\x00position\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00Q@\x03\x00\x00\x00\x00\x00\xc0W\xc0\x04\x14\x00\x00\x00TransformController\x00\x04\x08\x00\x00\x00ScaleTo\x00\x03\xfc\xa9\xf1\xd2MbP?\x04\x07\x00\x00\x00effect\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03{\x14\xaeG\xe1z\x84?\x04\n\x00\x00\x00Character\x00\x04\r\x00\x00\x00HasSceneFlag\x00\x04\r\x00\x00\x00portal_found\x00\x04\r\x00\x00\x00AddSceneFlag\x00\x04\x08\x00\x00\x00Execute\x00\x03\x00\x00\x00\x00\x00\x00\x08@\x03\x9a\x99\x99\x99\x99\x99\xc9?\x03\x00\x00\x00\x00\x00\x00\xf0?\x00\x00\x00\x00B\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x15\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00A\x00\x00\x00\x07\x00\x00\x00target\x00\x01\x00\x00\x00A\x00\x00\x00\x07\x00\x00\x00effect\x00\x12\x00\x00\x00A\x00\x00\x00\x00\x00\x00\x00',
                }
                OnCollisionEnd{ # Program
                    String : $
local self, target = ...;

if target:identifier() == "hero" then
    Portal.Deactivate(self);

    local effect = self.effect;

    if effect ~= nil then
        TransformController.ScaleTo(effect, 0.01, 0.3);
        Program.Wait(0.25);
        Scene.CreateObject("portal_blast", "b", effect);
        effect:destroy();
    end
end

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x008\x01\x00\x00local self, target = ...;\r\n\r\nif target:identifier() == "hero" then\r\n\tPortal.Deactivate(self);\r\n\r\n\tlocal effect = self.effect;\r\n\r\n\tif effect ~= nil then\r\n\t\tTransformController.ScaleTo(effect, 0.01, 0.3);\r\n\t\tProgram.Wait(0.25);\r\n\t\tScene.CreateObject("portal_blast", "b", effect);\r\n\t\teffect:destroy();\r\n\tend\r\nend\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x07\x1f\x00\x00\x00%\x00\x80\x01\x8b\x00\xc0\x00\x9c\x80\x00\x01\x17@@\x01\x16\x00\x06\x80\x85\x80\x00\x00\x86\xc0@\x01\xc0\x00\x00\x00\x9c@\x00\x01\x86\x00A\x00W@A\x01\x16@\x04\x80\xc5\x80\x01\x00\xc6\xc0\xc1\x01\x00\x01\x00\x01A\x01\x02\x00\x81A\x02\x00\xdc@\x00\x02\xc5\x80\x02\x00\xc6\xc0\xc2\x01\x01\x01\x03\x00\xdc@\x00\x01\xc5@\x03\x00\xc6\x80\xc3\x01\x01\xc1\x03\x00A\x01\x04\x00\x80\x01\x00\x01\xdc@\x00\x02\xcb@D\x01\xdc@\x00\x01\x1e\x00\x80\x00\x12\x00\x00\x00\x04\x0b\x00\x00\x00identifier\x00\x04\x05\x00\x00\x00hero\x00\x04\x07\x00\x00\x00Portal\x00\x04\x0b\x00\x00\x00Deactivate\x00\x04\x07\x00\x00\x00effect\x00\x00\x04\x14\x00\x00\x00TransformController\x00\x04\x08\x00\x00\x00ScaleTo\x00\x03{\x14\xaeG\xe1z\x84?\x03333333\xd3?\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x00\x00\x00\x00\x00\x00\xd0?\x04\x06\x00\x00\x00Scene\x00\x04\r\x00\x00\x00CreateObject\x00\x04\r\x00\x00\x00portal_blast\x00\x04\x02\x00\x00\x00b\x00\x04\x08\x00\x00\x00destroy\x00\x00\x00\x00\x00\x1f\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0e\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x1e\x00\x00\x00\x07\x00\x00\x00target\x00\x01\x00\x00\x00\x1e\x00\x00\x00\x07\x00\x00\x00effect\x00\n\x00\x00\x00\x1e\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -94.46080017089844,
            Y : 0.0,
            Width : 196.4088592529297,
            Height : 130.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'portal_blast',
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 101,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 103,
                ParticleId : 104,
                ParticleId : 105,
                ModelBindingId : 0,
                MaxParticles : 30,
                ParentEmitterId : 0,
                DestroyWhenFinished : 0,
                Emitter{ # ParticleEmitter
                    Type : 2,
                    BaseColor{ # FloatColor
                        R : 0.4333333373069763,
                        G : 0.5133333206176758,
                        B : 0.5666666626930237,
                        A : 0.0,
                    }
                    Parameter : 50.0,
                    Parameter : 0.30000001192092896,
                    Parameter : 6.0,
                    Parameter : 30.0,
                    HueVariance : 0.0,
                    SaturationVariance : 0.0,
                    LightnessVariance : 0.0,
                    OriginOffset{ # Vector3
                        X : 0.0,
                        Y : 0.0,
                        Z : 0.0,
                    }
                }
                LocalSystem : 0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 103,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_1',
                Size : 40.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 104,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_2',
                Size : 40.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 105,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_3',
                Size : 40.0,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -10.0,
            Y : -10.0,
            Width : 20.0,
            Height : 20.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'portal_effect',
        Component{ # Component
            ClassName : 'PortalEffect',
            Identifier : 1,
            PortalEffectComponent{ # PortalEffectComponent
                PolygonId : 100,
                TextureMappingId : 103,
                Color{ # FloatColor
                    R : 0.8807407021522522,
                    G : 0.9471110701560974,
                    B : 0.9637036919593811,
                    A : 0.800000011920929,
                }
                Speed{ # Vector3
                    X : 0.05000000074505806,
                    Y : 0.08000000566244125,
                    Z : 0.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 2,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 3,
                ModelBindingId : 0,
                MaxParticles : 100,
                ParentEmitterId : 0,
                DestroyWhenFinished : 0,
                Emitter{ # ParticleEmitter
                    Type : 5,
                    BaseColor{ # FloatColor
                        R : 0.12222222238779068,
                        G : 0.12222222238779068,
                        B : 0.12222222238779068,
                        A : 0.0,
                    }
                    Parameter : 0.0,
                    Parameter : 360.0,
                    Parameter : 20.0,
                    Parameter : 0.0,
                    Parameter : 0.0,
                    Parameter : 50.0,
                    Parameter : 0.20000000298023224,
                    Parameter : 0.0,
                    Parameter : 0.10000000149011612,
                    Parameter : 0.0,
                    Parameter : 1.0,
                    Parameter : 0.019999999552965164,
                    Parameter : 1.0,
                    Parameter : 0.20000000298023224,
                    Parameter : 0.0,
                    HueVariance : 0.0,
                    SaturationVariance : 0.0,
                    LightnessVariance : 0.10000000149011612,
                    OriginOffset{ # Vector3
                        X : 0.0,
                        Y : 0.0,
                        Z : 0.0,
                    }
                }
                LocalSystem : 0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 3,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle',
                Size : 40.0,
            }
        }
        Component{ # Component
            ClassName : 'Light',
            Identifier : 4,
            LightComponent{ # LightComponent
                Type : 3,
                Intensity : 2.0,
                Color{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
                LinearAttenuation : 0.0,
                QuadraticAttenuation : 0.00019999999494757503,
                Offset{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Radius : 300.0,
            }
        }
        Component{ # Component
            ClassName : 'TransformController',
            Identifier : 5,
        }
        Component{ # Component
            ClassName : 'GroundPolygon',
            Identifier : 100,
            GroundPolygonComponent{ # GroundPolygonComponent
                Polygon{ # Polygon
                    Vertex{ # Vector2
                        X : -48.494873046875,
                        Y : -72.06495666503906,
                    }
                    Vertex{ # Vector2
                        X : -3.850830078125,
                        Y : -81.76434326171875,
                    }
                    Vertex{ # Vector2
                        X : 48.669921875,
                        Y : -72.10324096679688,
                    }
                    Vertex{ # Vector2
                        X : 59.131103515625,
                        Y : -23.802703857421875,
                    }
                    Vertex{ # Vector2
                        X : 61.85546875,
                        Y : 37.782379150390625,
                    }
                    Vertex{ # Vector2
                        X : 48.486572265625,
                        Y : 62.678375244140625,
                    }
                    Vertex{ # Vector2
                        X : 28.592514038085938,
                        Y : 81.78480529785156,
                    }
                    Vertex{ # Vector2
                        X : -0.296142578125,
                        Y : 85.93389892578125,
                    }
                    Vertex{ # Vector2
                        X : -29.1845703125,
                        Y : 81.77779388427734,
                    }
                    Vertex{ # Vector2
                        X : -50.22900390625,
                        Y : 61.087677001953125,
                    }
                    Vertex{ # Vector2
                        X : -60.73974609375,
                        Y : 33.52960205078125,
                    }
                    Vertex{ # Vector2
                        X : -59.926025390625,
                        Y : -24.602325439453125,
                    }
                    Convex : 0,
                    Closed : 1,
                }
                Collides : 0,
                MinDepth : -1.0,
                MaxDepth : 1.0,
                OnCollide{ # Program
                }
            }
        }
        Component{ # Component
            ClassName : 'TextureMapping',
            Identifier : 103,
            TextureMappingComponent{ # TextureMappingComponent
                TextureName : 'portal_effect',
                Scale : 1.0,
                Offset{ # Vector2
                    X : 0.0,
                    Y : 0.0,
                }
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -100.0,
            Y : -100.0,
            Width : 200.0,
            Height : 200.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'portal_torch_fire',
        Component{ # Component
            ClassName : 'SimpleGlow',
            Identifier : 1,
            SimpleGlowComponent{ # SimpleGlowComponent
                Color{ # FloatColor
                    R : 0.6383950710296631,
                    G : 0.6804032921791077,
                    B : 0.7171604633331299,
                    A : 0.0,
                }
                Size : 10.0,
                NumSegments : 10,
                Depth : 0.0,
                PulseAmount : 0.05000000074505806,
                PulseTime : 1.5,
                Offset{ # Vector2
                    X : 0.0,
                    Y : 4.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'SimpleGlow',
            Identifier : 2,
            SimpleGlowComponent{ # SimpleGlowComponent
                Color{ # FloatColor
                    R : 0.21037039160728455,
                    G : 0.27041977643966675,
                    B : 0.3229629695415497,
                    A : 0.0,
                }
                Size : 30.0,
                NumSegments : 15,
                Depth : 0.0,
                PulseAmount : 0.07999999821186066,
                PulseTime : 1.5,
                Offset{ # Vector2
                    X : 0.0,
                    Y : 15.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'TransformController',
            Identifier : 3,
        }
        Component{ # Component
            ClassName : 'Light',
            Identifier : 103,
            LightComponent{ # LightComponent
                Type : 3,
                Intensity : 2.0,
                Color{ # FloatColor
                    R : 0.25777769088745117,
                    G : 0.6376676559448242,
                    B : 1.0,
                    A : 0.0,
                }
                LinearAttenuation : 0.0,
                QuadraticAttenuation : 0.00019999999494757503,
                Offset{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Radius : 250.0,
            }
        }
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 108,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 109,
                ParticleId : 111,
                ParticleId : 112,
                ModelBindingId : 0,
                MaxParticles : 30,
                ParentEmitterId : 0,
                DestroyWhenFinished : 0,
                Emitter{ # ParticleEmitter
                    Type : 5,
                    BaseColor{ # FloatColor
                        R : 0.38296306133270264,
                        G : 0.5433580279350281,
                        B : 0.6837036609649658,
                        A : 0.24444444477558136,
                    }
                    Parameter : 90.0,
                    Parameter : 0.0,
                    Parameter : 0.0,
                    Parameter : 2.0,
                    Parameter : 0.0,
                    Parameter : 50.0,
                    Parameter : 0.0,
                    Parameter : 0.0,
                    Parameter : 0.8500000238418579,
                    Parameter : 0.5,
                    Parameter : 0.0,
                    Parameter : 0.07000000029802322,
                    Parameter : 1.0,
                    Parameter : 0.0,
                    Parameter : 0.0,
                    HueVariance : 0.10000000149011612,
                    SaturationVariance : 0.10000000149011612,
                    LightnessVariance : 0.10000000149011612,
                    OriginOffset{ # Vector3
                        X : 0.0,
                        Y : 0.0,
                        Z : 0.0,
                    }
                }
                LocalSystem : 0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 109,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_1',
                Size : 26.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 111,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_2',
                Size : 26.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 112,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_3',
                Size : 26.0,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -50.0,
            Y : -50.0,
            Width : 100.0,
            Height : 100.0,
        }
        Hidden : 0,
    }
    Scaling : 0.699999988079071,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'portal_torch_left',
        Component{ # Component
            ClassName : 'Model',
            Identifier : 1,
            ModelComponent{ # ModelComponent
                Name : 'grove_torch',
                YRotation : -1.919862151145935,
                EmissionFactor : 0.5,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : 0.0,
            Y : 0.0,
            Width : 0.0,
            Height : 0.0,
        }
        Hidden : 0,
    }
    Scaling : 0.699999988079071,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'portal_torch_right',
        Component{ # Component
            ClassName : 'Model',
            Identifier : 1,
            ModelComponent{ # ModelComponent
                Name : 'grove_torch',
                YRotation : -1.2217304706573486,
                EmissionFactor : 0.5,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 0.0,
                    G : 0.0,
                    B : 0.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : 0.0,
            Y : 0.0,
            Width : 0.0,
            Height : 0.0,
        }
        Hidden : 0,
    }
    Scaling : 0.699999988079071,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'signpost',
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'signpost',
                YRotation : 0.0,
                EmissionFactor : 0.4000000059604645,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 103,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 107,
                AnimationControllerId : 104,
                DefaultMoveAnimationId : 110,
                RoamAreaId : 0,
                DefaultMoveSpeed : 0.0,
                DefaultAcceleration : 16000.0,
                TargetingDistance : 0.0,
                MovementBehavior : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 104,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 105,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'signpost_wobble',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 107,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 0,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 110,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'signpost_normal',
                Repeating : 1,
                SpeedMultiplier : 0.30000001192092896,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 111,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;

self["texts"] ={"Hi! I'm sign."}
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x006\x00\x00\x00local self = ...;\r\n\r\nself["texts"] ={"Hi! I\'m sign."}\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x03\x06\x00\x00\x00%\x00\x00\x01J\x00\x80\x00\x81@\x00\x00b@\x80\x00\t@\x00\x80\x1e\x00\x80\x00\x02\x00\x00\x00\x04\x06\x00\x00\x00texts\x00\x04\x0e\x00\x00\x00Hi! I\'m sign.\x00\x00\x00\x00\x00\x06\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x01\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x05\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 10,
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 112,
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local wobbleAnimation = 105;
local normalAnimation = 110;

KeyframeAnimation.SetCurrentTime(self, wobbleAnimation, 0.4);
AnimationController.BlendToAnimation(self, wobbleAnimation);

Program.Wait(0.25);

local text = self["texts"][Math.RandomInt(1,#self["texts"])];

local bubble = ShowTextBubble(self:identifier().."_bubble", self:position() + Vector3.New(20, 100, 0), text);

Program.Wait(0.25);

KeyframeAnimation.SetCurrentTime(self, normalAnimation, 0.4);
AnimationController.BlendToAnimation(self, normalAnimation);

-- Program.Wait(3.0);
-- Moved to collision end
-- HideTextBubble(bubble:identifier());

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x8d\x02\x00\x00local self = ...;\r\n\r\nlocal wobbleAnimation = 105;\r\nlocal normalAnimation = 110;\r\n\r\nKeyframeAnimation.SetCurrentTime(self, wobbleAnimation, 0.4);\r\nAnimationController.BlendToAnimation(self, wobbleAnimation);\r\n\r\nProgram.Wait(0.25);\r\n\r\nlocal text = self["texts"][Math.RandomInt(1,#self["texts"])];\r\n\r\nlocal bubble = ShowTextBubble(self:identifier().."_bubble", self:position() + Vector3.New(20, 100, 0), text);\r\n\r\nProgram.Wait(0.25);\r\n\r\nKeyframeAnimation.SetCurrentTime(self, normalAnimation, 0.4);\r\nAnimationController.BlendToAnimation(self, normalAnimation);\r\n\r\n-- Program.Wait(3.0);\r\n-- Moved to collision end\r\n-- HideTextBubble(bubble:identifier());\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x0b:\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x00\x01\x00\x00@\x01\x80\x00\x81\x01\x01\x00\xdc@\x00\x02\xc5@\x01\x00\xc6\x80\xc1\x01\x00\x01\x00\x00@\x01\x80\x00\xdc@\x80\x01\xc5\xc0\x01\x00\xc6\x00\xc2\x01\x01A\x02\x00\xdc@\x00\x01\xc6\x80B\x00\x05\xc1\x02\x00\x06\x01C\x02AA\x03\x00\x86\x81B\x00\x94\x01\x00\x03\x1c\x81\x80\x01\xc6\x00\x81\x01\x05\x81\x03\x00K\xc1C\x00\\\x81\x00\x01\x81\x01\x04\x00U\x81\x81\x02\x8bAD\x00\x9c\x81\x00\x01\xc5\x81\x04\x00\xc6\xc1\xc4\x03\x01\x02\x05\x00AB\x05\x00\x81\x82\x05\x00\xdc\x81\x00\x02\x8c\xc1\x01\x03\xc0\x01\x80\x01\x1c\x81\x00\x02E\xc1\x01\x00F\x01\xc2\x02\x81A\x02\x00\\A\x00\x01E\x81\x00\x00F\xc1\xc0\x02\x80\x01\x00\x00\xc0\x01\x00\x01\x01\x02\x01\x00\\A\x00\x02EA\x01\x00F\x81\xc1\x02\x80\x01\x00\x00\xc0\x01\x00\x01\\A\x80\x01\x1e\x00\x80\x00\x17\x00\x00\x00\x03\x00\x00\x00\x00\x00@Z@\x03\x00\x00\x00\x00\x00\x80[@\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x03\x9a\x99\x99\x99\x99\x99\xd9?\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x00\x00\x00\x00\x00\x00\xd0?\x04\x06\x00\x00\x00texts\x00\x04\x05\x00\x00\x00Math\x00\x04\n\x00\x00\x00RandomInt\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\x0f\x00\x00\x00ShowTextBubble\x00\x04\x0b\x00\x00\x00identifier\x00\x04\x08\x00\x00\x00_bubble\x00\x04\t\x00\x00\x00position\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\x004@\x03\x00\x00\x00\x00\x00\x00Y@\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00:\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x009\x00\x00\x00\x10\x00\x00\x00wobbleAnimation\x00\x02\x00\x00\x009\x00\x00\x00\x10\x00\x00\x00normalAnimation\x00\x03\x00\x00\x009\x00\x00\x00\x05\x00\x00\x00text\x00\x1a\x00\x00\x009\x00\x00\x00\x07\x00\x00\x00bubble\x00*\x00\x00\x009\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 113,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -100.0,
                    Y : 0.0,
                    Width : 200.0,
                    Height : 150.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                MinDepth : -150.0,
                MaxDepth : 150.0,
                OnCollide{ # Program
                    String : $
local self, target = ...;

if target:identifier() == "hero" and EntityController.IsIdle(self) then

    EntityController.PerformAction(self, 112);

end

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x9d\x00\x00\x00local self, target = ...;\r\n\r\nif target:identifier() == "hero" and EntityController.IsIdle(self) then\r\n\r\n\tEntityController.PerformAction(self, 112);\r\n\r\nend\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x05\x11\x00\x00\x00%\x00\x80\x01\x8b\x00\xc0\x00\x9c\x80\x00\x01\x17@@\x01\x16\x80\x02\x80\x85\x80\x00\x00\x86\xc0@\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\x9a\x00\x00\x00\x16\x00\x01\x80\x85\x80\x00\x00\x86\x00A\x01\xc0\x00\x00\x00\x01A\x01\x00\x9c@\x80\x01\x1e\x00\x80\x00\x06\x00\x00\x00\x04\x0b\x00\x00\x00identifier\x00\x04\x05\x00\x00\x00hero\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x00\\@\x00\x00\x00\x00\x11\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x10\x00\x00\x00\x07\x00\x00\x00target\x00\x01\x00\x00\x00\x10\x00\x00\x00\x00\x00\x00\x00',
                }
                OnCollisionEnd{ # Program
                    String : $
local self, target = ...;

if target:identifier() == "hero" then
    HideTextBubble(self:identifier().."_bubble");
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00x\x00\x00\x00local self, target = ...;\r\n\r\nif target:identifier() == "hero" then\r\n\tHideTextBubble(self:identifier().."_bubble");\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x05\x0c\x00\x00\x00%\x00\x80\x01\x8b\x00\xc0\x00\x9c\x80\x00\x01\x17@@\x01\x16@\x01\x80\x85\x80\x00\x00\xcb\x00@\x00\xdc\x80\x00\x01\x01\xc1\x00\x00\xd5\x00\x81\x01\x9c@\x00\x01\x1e\x00\x80\x00\x04\x00\x00\x00\x04\x0b\x00\x00\x00identifier\x00\x04\x05\x00\x00\x00hero\x00\x04\x0f\x00\x00\x00HideTextBubble\x00\x04\x08\x00\x00\x00_bubble\x00\x00\x00\x00\x00\x0c\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x0b\x00\x00\x00\x07\x00\x00\x00target\x00\x01\x00\x00\x00\x0b\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -100.0,
            Y : 0.0,
            Width : 200.0,
            Height : 150.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'signpost_blank',
        Component{ # Component
            ClassName : 'Model',
            Identifier : 101,
            ModelComponent{ # ModelComponent
                Name : 'signpost_blank',
                YRotation : 0.0,
                EmissionFactor : 0.4000000059604645,
                XRotation : 0.0,
                ShatterColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
                Origin{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                Transparent : 0,
                DiffuseColor{ # FloatColor
                    R : 1.0,
                    G : 1.0,
                    B : 1.0,
                    A : 1.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'EntityController',
            Identifier : 103,
            EntityControllerComponent{ # EntityControllerComponent
                EntityId : 107,
                AnimationControllerId : 104,
                DefaultMoveAnimationId : 110,
                RoamAreaId : 0,
                DefaultMoveSpeed : 0.0,
                DefaultAcceleration : 16000.0,
                TargetingDistance : 0.0,
                MovementBehavior : 1,
            }
        }
        Component{ # Component
            ClassName : 'AnimationController',
            Identifier : 104,
            AnimationControllerComponent{ # AnimationControllerComponent
                ModelId : 101,
                DefaultAnimationId : 0,
                SelfUpdate : 0,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 105,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'signpost_wobble',
                Repeating : 1,
                SpeedMultiplier : 1.0,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'MonsterEntity',
            Identifier : 107,
            EntityComponent{ # EntityComponent
                FacingDirection : 1,
                PhysicsEnabled : 0,
            }
            MonsterEntityComponent{ # MonsterEntityComponent
                OnKill{ # Program
                }
                OnHurt{ # Program
                }
                GivesExperience : 1,
                DefaultDeathAnimation : 1,
            }
        }
        Component{ # Component
            ClassName : 'KeyframeAnimation',
            Identifier : 110,
            KeyframeAnimationComponent{ # KeyframeAnimationComponent
                ModelId : 101,
                Name : 'signpost_normal',
                Repeating : 1,
                SpeedMultiplier : 0.30000001192092896,
                Running : 1,
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 111,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;

self["texts"] ={"Elder's house"}
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x006\x00\x00\x00local self = ...;\r\n\r\nself["texts"] ={"Elder\'s house"}\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x03\x06\x00\x00\x00%\x00\x00\x01J\x00\x80\x00\x81@\x00\x00b@\x80\x00\t@\x00\x80\x1e\x00\x80\x00\x02\x00\x00\x00\x04\x06\x00\x00\x00texts\x00\x04\x0e\x00\x00\x00Elder\'s house\x00\x00\x00\x00\x00\x06\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x01\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x05\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 10,
            }
        }
        Component{ # Component
            ClassName : 'EntityAction',
            Identifier : 112,
            EntityActionComponent{ # EntityActionComponent
                OnActivate{ # Program
                    String : $
local self = ...;

local wobbleAnimation = 105;
local normalAnimation = 110;

KeyframeAnimation.SetCurrentTime(self, wobbleAnimation, 0.4);
AnimationController.BlendToAnimation(self, wobbleAnimation);

Program.Wait(0.25);

local text = self["texts"][Math.RandomInt(1,#self["texts"])];

local bubble = ShowTextBubble(self:identifier().."_bubble", self:position() + Vector3.New(20, 70, 0), text);

Program.Wait(0.25);

KeyframeAnimation.SetCurrentTime(self, normalAnimation, 0.4);
AnimationController.BlendToAnimation(self, normalAnimation);

-- Program.Wait(3.0);
-- Moved to collision end
-- HideTextBubble(bubble:identifier());

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x8c\x02\x00\x00local self = ...;\r\n\r\nlocal wobbleAnimation = 105;\r\nlocal normalAnimation = 110;\r\n\r\nKeyframeAnimation.SetCurrentTime(self, wobbleAnimation, 0.4);\r\nAnimationController.BlendToAnimation(self, wobbleAnimation);\r\n\r\nProgram.Wait(0.25);\r\n\r\nlocal text = self["texts"][Math.RandomInt(1,#self["texts"])];\r\n\r\nlocal bubble = ShowTextBubble(self:identifier().."_bubble", self:position() + Vector3.New(20, 70, 0), text);\r\n\r\nProgram.Wait(0.25);\r\n\r\nKeyframeAnimation.SetCurrentTime(self, normalAnimation, 0.4);\r\nAnimationController.BlendToAnimation(self, normalAnimation);\r\n\r\n-- Program.Wait(3.0);\r\n-- Moved to collision end\r\n-- HideTextBubble(bubble:identifier());\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x0b:\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x00\x01\x00\x00@\x01\x80\x00\x81\x01\x01\x00\xdc@\x00\x02\xc5@\x01\x00\xc6\x80\xc1\x01\x00\x01\x00\x00@\x01\x80\x00\xdc@\x80\x01\xc5\xc0\x01\x00\xc6\x00\xc2\x01\x01A\x02\x00\xdc@\x00\x01\xc6\x80B\x00\x05\xc1\x02\x00\x06\x01C\x02AA\x03\x00\x86\x81B\x00\x94\x01\x00\x03\x1c\x81\x80\x01\xc6\x00\x81\x01\x05\x81\x03\x00K\xc1C\x00\\\x81\x00\x01\x81\x01\x04\x00U\x81\x81\x02\x8bAD\x00\x9c\x81\x00\x01\xc5\x81\x04\x00\xc6\xc1\xc4\x03\x01\x02\x05\x00AB\x05\x00\x81\x82\x05\x00\xdc\x81\x00\x02\x8c\xc1\x01\x03\xc0\x01\x80\x01\x1c\x81\x00\x02E\xc1\x01\x00F\x01\xc2\x02\x81A\x02\x00\\A\x00\x01E\x81\x00\x00F\xc1\xc0\x02\x80\x01\x00\x00\xc0\x01\x00\x01\x01\x02\x01\x00\\A\x00\x02EA\x01\x00F\x81\xc1\x02\x80\x01\x00\x00\xc0\x01\x00\x01\\A\x80\x01\x1e\x00\x80\x00\x17\x00\x00\x00\x03\x00\x00\x00\x00\x00@Z@\x03\x00\x00\x00\x00\x00\x80[@\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x03\x9a\x99\x99\x99\x99\x99\xd9?\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x00\x00\x00\x00\x00\x00\xd0?\x04\x06\x00\x00\x00texts\x00\x04\x05\x00\x00\x00Math\x00\x04\n\x00\x00\x00RandomInt\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\x0f\x00\x00\x00ShowTextBubble\x00\x04\x0b\x00\x00\x00identifier\x00\x04\x08\x00\x00\x00_bubble\x00\x04\t\x00\x00\x00position\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\x004@\x03\x00\x00\x00\x00\x00\x80Q@\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00:\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x009\x00\x00\x00\x10\x00\x00\x00wobbleAnimation\x00\x02\x00\x00\x009\x00\x00\x00\x10\x00\x00\x00normalAnimation\x00\x03\x00\x00\x009\x00\x00\x00\x05\x00\x00\x00text\x00\x1a\x00\x00\x009\x00\x00\x00\x07\x00\x00\x00bubble\x00*\x00\x00\x009\x00\x00\x00\x00\x00\x00\x00',
                }
            }
        }
        Component{ # Component
            ClassName : 'CollisionShape',
            Identifier : 113,
            ShapeComponent{ # ShapeComponent
                Rectangle{ # Rectangle
                    X : -150.0,
                    Y : 0.0,
                    Width : 300.0,
                    Height : 150.0,
                }
            }
            CollisionShapeComponent{ # CollisionShapeComponent
                MinDepth : -150.0,
                MaxDepth : 150.0,
                OnCollide{ # Program
                    String : $
local self, target = ...;

if target:identifier() == "hero" and EntityController.IsIdle(self) then

    EntityController.PerformAction(self, 112);

end

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x9d\x00\x00\x00local self, target = ...;\r\n\r\nif target:identifier() == "hero" and EntityController.IsIdle(self) then\r\n\r\n\tEntityController.PerformAction(self, 112);\r\n\r\nend\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x05\x11\x00\x00\x00%\x00\x80\x01\x8b\x00\xc0\x00\x9c\x80\x00\x01\x17@@\x01\x16\x80\x02\x80\x85\x80\x00\x00\x86\xc0@\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\x9a\x00\x00\x00\x16\x00\x01\x80\x85\x80\x00\x00\x86\x00A\x01\xc0\x00\x00\x00\x01A\x01\x00\x9c@\x80\x01\x1e\x00\x80\x00\x06\x00\x00\x00\x04\x0b\x00\x00\x00identifier\x00\x04\x05\x00\x00\x00hero\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x00\\@\x00\x00\x00\x00\x11\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x10\x00\x00\x00\x07\x00\x00\x00target\x00\x01\x00\x00\x00\x10\x00\x00\x00\x00\x00\x00\x00',
                }
                OnCollisionEnd{ # Program
                    String : $
local self, target = ...;

while not EntityController.IsIdle(self) do
    Program.Wait(0.05);
end

if target:identifier() == "hero" then
    HideTextBubble(self:identifier().."_bubble");
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xc1\x00\x00\x00local self, target = ...;\r\n\r\nwhile not EntityController.IsIdle(self) do\r\n\tProgram.Wait(0.05);\r\nend\r\n\r\nif target:identifier() == "hero" then\r\n\tHideTextBubble(self:identifier().."_bubble");\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x05\x17\x00\x00\x00%\x00\x80\x01\x85\x00\x00\x00\x86@@\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\x9a@\x00\x00\x16\x00\x01\x80\x85\x80\x00\x00\x86\xc0@\x01\xc1\x00\x01\x00\x9c@\x00\x01\x16\x00\xfd\x7f\x8b@\xc1\x00\x9c\x80\x00\x01\x17\x80A\x01\x16@\x01\x80\x85\xc0\x01\x00\xcb@A\x00\xdc\x80\x00\x01\x01\x01\x02\x00\xd5\x00\x81\x01\x9c@\x00\x01\x1e\x00\x80\x00\t\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00IsIdle\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xa9?\x04\x0b\x00\x00\x00identifier\x00\x04\x05\x00\x00\x00hero\x00\x04\x0f\x00\x00\x00HideTextBubble\x00\x04\x08\x00\x00\x00_bubble\x00\x00\x00\x00\x00\x17\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x16\x00\x00\x00\x07\x00\x00\x00target\x00\x01\x00\x00\x00\x16\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -150.0,
            Y : 0.0,
            Width : 300.0,
            Height : 150.0,
        }
        Hidden : 0,
    }
    Scaling : 0.699999988079071,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'snowfall',
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 101,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 102,
                ModelBindingId : 0,
                MaxParticles : 100,
                ParentEmitterId : 0,
                DestroyWhenFinished : 0,
                Emitter{ # ParticleEmitter
                    Type : 5,
                    BaseColor{ # FloatColor
                        R : 1.0,
                        G : 1.0,
                        B : 1.0,
                        A : 0.7333333492279053,
                    }
                    Parameter : 270.0,
                    Parameter : 0.0,
                    Parameter : 0.0,
                    Parameter : 1500.0,
                    Parameter : 100.0,
                    Parameter : 120.0,
                    Parameter : 0.0,
                    Parameter : 0.0,
                    Parameter : 0.800000011920929,
                    Parameter : 0.0,
                    Parameter : 1.0,
                    Parameter : 0.05000000074505806,
                    Parameter : 5.0,
                    Parameter : 0.0,
                    Parameter : 0.30000001192092896,
                    HueVariance : 0.0,
                    SaturationVariance : 0.0,
                    LightnessVariance : 0.0,
                    OriginOffset{ # Vector3
                        X : 0.0,
                        Y : 0.0,
                        Z : 0.0,
                    }
                }
                LocalSystem : 0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 102,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_1',
                Size : 10.0,
            }
        }
        Component{ # Component
            ClassName : 'Program',
            Identifier : 103,
            ProgramComponent{ # ProgramComponent
                ExecuteOnce : 1,
                Program{ # Program
                    String : $
local self = ...;

self:setAlwaysActive(true);

Program.Wait(0.01);

local hero = Scene.Find("hero");

while true do
    self:setPosition(hero:position() + Vector3.New(0, 110, 100));
    Program.Wait(0.01);
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xd8\x00\x00\x00local self = ...;\r\n\r\nself:setAlwaysActive(true);\r\n\r\nProgram.Wait(0.01);\r\n\r\nlocal hero = Scene.Find("hero");\r\n\r\nwhile true do\r\n\tself:setPosition(hero:position() + Vector3.New(0, 110, 100));\r\n\tProgram.Wait(0.01);\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\t\x1d\x00\x00\x00%\x00\x00\x01K\x00@\x00\xc2\x00\x80\x00\\@\x80\x01E@\x00\x00F\x80\xc0\x00\x81\xc0\x00\x00\\@\x00\x01E\x00\x01\x00F@\xc1\x00\x81\x80\x01\x00\\\x80\x00\x01\x8b\xc0A\x00\x0b\x01\xc2\x00\x1c\x81\x00\x01EA\x02\x00F\x81\xc2\x02\x81\xc1\x02\x00\xc1\x01\x03\x00\x01B\x03\x00\\\x81\x00\x02\x0cA\x01\x02\x9c@\x80\x01\x85@\x00\x00\x86\x80@\x01\xc1\xc0\x00\x00\x9c@\x00\x01\x16\xc0\xfb\x7f\x1e\x00\x80\x00\x0e\x00\x00\x00\x04\x10\x00\x00\x00setAlwaysActive\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03{\x14\xaeG\xe1z\x84?\x04\x06\x00\x00\x00Scene\x00\x04\x05\x00\x00\x00Find\x00\x04\x05\x00\x00\x00hero\x00\x04\x0c\x00\x00\x00setPosition\x00\x04\t\x00\x00\x00position\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x80[@\x03\x00\x00\x00\x00\x00\x00Y@\x00\x00\x00\x00\x1d\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x1c\x00\x00\x00\x05\x00\x00\x00hero\x00\x0c\x00\x00\x00\x1c\x00\x00\x00\x00\x00\x00\x00',
                }
                Enabled : 1,
                Trigger : 10,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -10.0,
            Y : -10.0,
            Width : 20.0,
            Height : 20.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'weapon_glow',
        Component{ # Component
            ClassName : 'Transform',
            Identifier : 4,
        }
        Component{ # Component
            ClassName : 'WeaponGlow',
            Identifier : 10,
            WeaponGlowComponent{ # WeaponGlowComponent
                ParticleEmitterId : 12,
                Color{ # FloatColor
                    R : 0.8705882430076599,
                    G : 0.4588235318660736,
                    B : 0.250980406999588,
                    A : 0.0,
                }
                ParticleColor{ # FloatColor
                    R : 0.04313725605607033,
                    G : 0.34117648005485535,
                    B : 0.21960784494876862,
                    A : 0.0,
                }
                Width : 8.0,
            }
        }
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 12,
            Label : 'glow',
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 13,
                ParticleId : 14,
                ParticleId : 15,
                ModelBindingId : 0,
                MaxParticles : 70,
                ParentEmitterId : 0,
                DestroyWhenFinished : 0,
                Emitter{ # ParticleEmitter
                    Type : 5,
                    BaseColor{ # FloatColor
                        R : 0.4770370423793793,
                        G : 0.2558025121688843,
                        B : 0.1451852023601532,
                        A : 0.0,
                    }
                    Parameter : 0.0,
                    Parameter : 120.0,
                    Parameter : 0.0,
                    Parameter : 42.0,
                    Parameter : 0.0,
                    Parameter : 35.0,
                    Parameter : 0.0,
                    Parameter : 0.0,
                    Parameter : 0.30000001192092896,
                    Parameter : 1.0,
                    Parameter : 0.0,
                    Parameter : 0.00800000037997961,
                    Parameter : 0.4000000059604645,
                    Parameter : 0.0,
                    Parameter : 0.0,
                    HueVariance : 0.0,
                    SaturationVariance : 0.0,
                    LightnessVariance : 0.0,
                    OriginOffset{ # Vector3
                        X : 27.0,
                        Y : 0.0,
                        Z : 0.0,
                    }
                }
                LocalSystem : 1,
                Gravity{ # Vector3
                    X : 0.0,
                    Y : 100.0,
                    Z : 0.0,
                }
                Rotation{ # Vector3
                    X : -1.5707963705062866,
                    Y : 0.0,
                    Z : 0.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 13,
            Label : 'glow',
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_1',
                Size : 40.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 14,
            Label : 'glow',
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_2',
                Size : 40.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 15,
            Label : 'glow',
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_3',
                Size : 40.0,
            }
        }
        Component{ # Component
            ClassName : 'ObjectLinkController',
            Identifier : 103,
            ObjectLinkControllerComponent{ # ObjectLinkControllerComponent
                TargetObjectIdentifier : '',
                TargetBoneIdentifier : '',
                LocalOffset{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                WorldOffset{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 2.0,
                }
                LocalRotation{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -10.0,
            Y : -10.0,
            Width : 20.0,
            Height : 20.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
Template{ # ObjectTemplate
    Object{ # SceneObject
        Identifier : 'wsmoke',
        Component{ # Component
            ClassName : 'ObjectLinkController',
            Identifier : 1,
            ObjectLinkControllerComponent{ # ObjectLinkControllerComponent
                TargetObjectIdentifier : '',
                TargetBoneIdentifier : '',
                LocalOffset{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                WorldOffset{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
                LocalRotation{ # Vector3
                    X : 0.0,
                    Y : 0.0,
                    Z : 0.0,
                }
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 2,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_2',
                Size : 40.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 3,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_3',
                Size : 40.0,
            }
        }
        Component{ # Component
            ClassName : 'Particle',
            Identifier : 101,
            ParticleComponent{ # ParticleComponent
                TextureName : 'particle_fure_1',
                Size : 40.0,
            }
        }
        Component{ # Component
            ClassName : 'ParticleEmitter',
            Identifier : 102,
            ParticleEmitterComponent{ # ParticleEmitterComponent
                ParticleId : 101,
                ParticleId : 2,
                ParticleId : 3,
                ModelBindingId : 0,
                MaxParticles : 10,
                ParentEmitterId : 0,
                DestroyWhenFinished : 1,
                Emitter{ # ParticleEmitter
                    Type : 5,
                    BaseColor{ # FloatColor
                        R : 0.3444444537162781,
                        G : 0.3444444537162781,
                        B : 0.3444444537162781,
                        A : 0.0,
                    }
                    Parameter : 165.0,
                    Parameter : 30.0,
                    Parameter : 0.0,
                    Parameter : 0.0,
                    Parameter : 0.0,
                    Parameter : 70.0,
                    Parameter : 0.0,
                    Parameter : 0.30000001192092896,
                    Parameter : 0.6000000238418579,
                    Parameter : 0.5,
                    Parameter : 1.0,
                    Parameter : 0.05000000074505806,
                    Parameter : 0.30000001192092896,
                    Parameter : 0.20000000298023224,
                    Parameter : 0.30000001192092896,
                    HueVariance : 0.0,
                    SaturationVariance : 0.0,
                    LightnessVariance : 0.0,
                    OriginOffset{ # Vector3
                        X : 0.0,
                        Y : 2.0,
                        Z : 0.0,
                    }
                }
                LocalSystem : 0,
            }
        }
        Position{ # Vector2
            X : 0.0,
            Y : 0.0,
        }
        Depth : 0.0,
        Rotation : 0.0,
        Scaling : 1.0,
        LocalAabb{ # Rectangle
            X : -10.0,
            Y : -10.0,
            Width : 20.0,
            Height : 20.0,
        }
        Hidden : 0,
    }
    Scaling : 1.0,
}
ImportedLibrary : 'collectibles',
ImportedLibrary : 'dimensional',
ImportedLibrary : 'hiro',
ImportedLibrary : 'programs',
ImportedLibrary : 'weapons',
