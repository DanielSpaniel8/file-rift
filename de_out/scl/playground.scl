# rifted with FR v5.7.0

Name : 'playground'
Template{
    Object{
        Identifier : 'bandit'
        Component{
            ClassName : 'Program'
            Identifier : 1
            ProgramComponent{
                ExecuteOnce : 1
                Program{
                    String : $
local self = ...;

local target = EntityController.Target(self);
while true do
    Program.Wait(3);
    if EntityController.IsIdle(self) then
        EntityController.PerformAction(self, 126);
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xc6\x00\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\nwhile true do\r\n\tProgram.Wait(3);\r\n\tif EntityController.IsIdle(self) then\r\n\t\tEntityController.PerformAction(self, 126);\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x05\x16\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x85\x80\x00\x00\x86\xc0@\x01\xc1\x00\x01\x00\x9c@\x00\x01\x85\x00\x00\x00\x86@A\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\x9a\x00\x00\x00\x16@\xfd\x7f\x85\x00\x00\x00\x86\x80A\x01\xc0\x00\x00\x00\x01\xc1\x01\x00\x9c@\x80\x01\x16\xc0\xfb\x7f\x1e\x00\x80\x00\x08\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x00\x00\x00\x00\x00\x00\x08@\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x80_@\x00\x00\x00\x00\x16\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x15\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00\x15\x00\x00\x00\x00\x00\x00\x00'
                }
                Enabled : 1
                Trigger : 1
            }
        }
        Component{
            ClassName : 'EntityInfo'
            Identifier : 2
            EntityInfoComponent{
                EntityClass : 'Bandit'
            }
        }
        Component{
            ClassName : 'Model'
            Identifier : 101
            ModelComponent{
                Name : 'varibandit_brown'
                YRotation : 1.5707963705062866
                EmissionFactor : 0.5
                XRotation : 0.0
                ShatterColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
                Origin{
                    X : 0.0
                    Y : 0.0
                    Z : 0.0
                }
                Transparent : 0
                DiffuseColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
            }
        }
        Component{
            ClassName : 'MonsterEntity'
            Identifier : 103
            EntityComponent{
                FacingDirection : 1
                PhysicsEnabled : 1
            }
            MonsterEntityComponent{
                OnKill{
                }
                OnHurt{
                    String : $
local self = ...;

local target = EntityController.Target(self);

if target ~= nil then 
    local targetDirection = 1;
    if (target:position() - self:position()):x() < 0 then targetDirection = -1; end

    EntityController.SetFacingDirection(self, targetDirection, 0.2);
    EntityController.SetMoveDirection(self, targetDirection, 0.7);

    Program.Wait(0.8);
    if EntityController.IsIdle(self) then
        EntityController.PerformAction(self, 126);
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xca\x01\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nif target ~= nil then \r\n\tlocal targetDirection = 1;\r\n\tif (target:position() - self:position()):x() < 0 then targetDirection = -1; end\r\n\r\n\tEntityController.SetFacingDirection(self, targetDirection, 0.2);\r\n\tEntityController.SetMoveDirection(self, targetDirection, 0.7);\r\n\r\n\tProgram.Wait(0.8);\r\n\tif EntityController.IsIdle(self) then\r\n\t\tEntityController.PerformAction(self, 126);\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x07.\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01W\x80\xc0\x00\x16@\t\x80\x81\xc0\x00\x00\xcb\x00\xc1\x00\xdc\x80\x00\x01\x0b\x01A\x00\x1c\x81\x00\x01\xcd\x00\x81\x01\xcb@\xc1\x01\xdc\x80\x00\x01\x18\x80\xc1\x01\x16\x00\x00\x80\x81\xc0\x01\x00\xc5\x00\x00\x00\xc6\x00\xc2\x01\x00\x01\x00\x00@\x01\x00\x01\x81A\x02\x00\xdc@\x00\x02\xc5\x00\x00\x00\xc6\x80\xc2\x01\x00\x01\x00\x00@\x01\x00\x01\x81\xc1\x02\x00\xdc@\x00\x02\xc5\x00\x03\x00\xc6@\xc3\x01\x01\x81\x03\x00\xdc@\x00\x01\xc5\x00\x00\x00\xc6\xc0\xc3\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xda\x00\x00\x00\x16\x00\x01\x80\xc5\x00\x00\x00\xc6\x00\xc4\x01\x00\x01\x00\x00AA\x04\x00\xdc@\x80\x01\x1e\x00\x80\x00\x12\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x13\x00\x00\x00SetFacingDirection\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x11\x00\x00\x00SetMoveDirection\x00\x03ffffff\xe6?\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xe9?\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x80_@\x00\x00\x00\x00.\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x10\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00-\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00-\x00\x00\x00\x10\x00\x00\x00targetDirection\x00\x08\x00\x00\x00-\x00\x00\x00\x00\x00\x00\x00'
                }
                GivesExperience : 1
                DefaultDeathAnimation : 1
            }
        }
        Component{
            ClassName : 'EntityController'
            Identifier : 104
            EntityControllerComponent{
                EntityId : 103
                AnimationControllerId : 105
                DefaultMoveAnimationId : 112
                RoamAreaId : 117
                DefaultMoveSpeed : 100.0
                DefaultAcceleration : 1000.0
                TargetingDistance : 300.0
                MovementBehavior : 4
            }
        }
        Component{
            ClassName : 'AnimationController'
            Identifier : 105
            AnimationControllerComponent{
                ModelId : 101
                DefaultAnimationId : 0
                SelfUpdate : 0
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 106
            Label : 'main'
            ShapeComponent{
                Rectangle{
                    X : -26.0
                    Y : -0.8095080256462097
                    Width : 54.0
                    Height : 70.80950927734375
                }
            }
            CollisionShapeComponent{
                Collides : 1
                ReceivesDamage : 1
                InflictsDamage : 1
                MinDepth : -15.0
                MaxDepth : 15.0
                Enabled : 1
            }
        }
        Component{
            ClassName : 'SwingableWeaponController'
            Identifier : 109
            SwingableWeaponControllerComponent{
                ControllingModelId : 101
                ControllingBoneName : 'BoneRightWeapon1'
                WeaponTemplateName : 'variknight_weapon_sword'
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 112
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'variknight_shield_walk'
                Repeating : 1
                SpeedMultiplier : 1.2000000476837158
                Running : 1
            }
        }
        Component{
            ClassName : 'UtilityShape'
            Identifier : 117
            Label : 'roam'
            ShapeComponent{
                Rectangle{
                    X : -300.0
                    Y : -50.0
                    Width : 600.0
                    Height : 100.0
                }
            }
        }
        Component{
            ClassName : 'Damage'
            Identifier : 119
            DamageComponent{
                MinDamage : 1
                DamageType : 0
                SpecialDamageType : 0
                PhysicalDamageFactor : 1.0
                MagicDamageFactor : 0.0
                IgnoreTargetImmunity : 0
                CanBeBlocked : 1
            }
        }
        Component{
            ClassName : 'Health'
            Identifier : 120
            HealthComponent{
                MaxHealth : 3
                HEALTHTYPE : 0
                BarOffset{
                    X : 0.0
                    Y : 50.0
                }
            }
        }
        Component{
            ClassName : 'EntityAction'
            Identifier : 126
            EntityActionComponent{
                OnActivate{
                    String : $
local self = ...;

local attackAnimation = 127;

EntityController.SetMoveSpeed(self, 0);
KeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);
AnimationController.BlendToAnimation(self, attackAnimation);

Program.Wait(0.1);

local swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 13.5);
local swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 16.5);

Program.Wait(swingStartTime);
EntityController.StartSwing(self, 109, swingEndTime - swingStartTime);

Program.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));

EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x9e\x02\x00\x00local self = ...;\r\n\r\nlocal attackAnimation = 127;\r\n\r\nEntityController.SetMoveSpeed(self, 0);\r\nKeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, attackAnimation);\r\n\r\nProgram.Wait(0.1);\r\n\r\nlocal swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 13.5);\r\nlocal swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 16.5);\r\n\r\nProgram.Wait(swingStartTime);\r\nEntityController.StartSwing(self, 109, swingEndTime - swingStartTime);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));\r\n\r\nEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x08=\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x85@\x00\x00\x86\x80@\x01\xc0\x00\x00\x00\x01\xc1\x00\x00\x9c@\x80\x01\x85\x00\x01\x00\x86@A\x01\xc0\x00\x00\x00\x00\x01\x80\x00A\xc1\x00\x00\x9c@\x00\x02\x85\x80\x01\x00\x86\xc0A\x01\xc0\x00\x00\x00\x00\x01\x80\x00\x9c@\x80\x01\x85\x00\x02\x00\x86@B\x01\xc1\x80\x02\x00\x9c@\x00\x01\x85\x00\x01\x00\x86\xc0B\x01\xc0\x00\x00\x00\x00\x01\x80\x00A\x01\x03\x00\x9c\x80\x00\x02\xc5\x00\x01\x00\xc6\xc0\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\x81A\x03\x00\xdc\x80\x00\x02\x05\x01\x02\x00\x06AB\x02@\x01\x00\x01\x1cA\x00\x01\x05A\x00\x00\x06\x81C\x02@\x01\x00\x00\x81\xc1\x03\x00\xcd\x81\x80\x01\x1cA\x00\x02\x05\x01\x02\x00\x06AB\x02E\x01\x01\x00F\x01\xc4\x02\x80\x01\x00\x00\xc0\x01\x80\x00\\\x01\x80\x01\x1cA\x00\x00\x05A\x00\x00\x06\x81@\x02@\x01\x00\x00\x85A\x00\x00\x86AD\x03\xc0\x01\x00\x00\x9c\x01\x00\x01\x1cA\x00\x00\x1e\x00\x80\x00\x12\x00\x00\x00\x03\x00\x00\x00\x00\x00\xc0_@\x04\x11\x00\x00\x00EntityController\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00+@\x03\x00\x00\x00\x00\x00\x800@\x04\x0b\x00\x00\x00StartSwing\x00\x03\x00\x00\x00\x00\x00@[@\x04\x11\x00\x00\x00TimeToCompletion\x00\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x00\x00\x00\x00=\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00<\x00\x00\x00\x10\x00\x00\x00attackAnimation\x00\x02\x00\x00\x00<\x00\x00\x00\x0f\x00\x00\x00swingStartTime\x00\x1c\x00\x00\x00<\x00\x00\x00\r\x00\x00\x00swingEndTime\x00"\x00\x00\x00<\x00\x00\x00\x00\x00\x00\x00'
                }
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 127
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'variknight_shield_attack1'
                Repeating : 0
                SpeedMultiplier : 1.0
                Running : 1
            }
        }
        Position{
            X : 0.0
            Y : 0.0
        }
        Depth : 0.0
        Rotation : 0.0
        Scaling : 1.0
        LocalAabb{
            X : -26.0
            Y : -0.8095080256462097
            Width : 54.0
            Height : 70.80950927734375
        }
        Hidden : 0
    }
    Scaling : 1.0
}
Template{
    Object{
        Identifier : 'piikkikonna'
        Component{
            ClassName : 'Damage'
            Identifier : 1
            DamageComponent{
                MinDamage : 1
                DamageType : 0
                SpecialDamageType : 0
                PhysicalDamageFactor : 1.0
                MagicDamageFactor : 0.0
                IgnoreTargetImmunity : 0
                CanBeBlocked : 1
            }
        }
        Component{
            ClassName : 'EntityInfo'
            Identifier : 2
            EntityInfoComponent{
                EntityClass : 'Spike Beetle'
            }
        }
        Component{
            ClassName : 'Model'
            Identifier : 101
            ModelComponent{
                Name : 'piikkikonna_green'
                YRotation : 1.5707963705062866
                EmissionFactor : 0.0
                XRotation : 0.0
                ShatterColor{
                    R : 0.0
                    G : 0.0
                    B : 0.0
                    A : 1.0
                }
                Origin{
                    X : 0.0
                    Y : 0.0
                    Z : 0.0
                }
                Transparent : 0
                DiffuseColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
            }
        }
        Component{
            ClassName : 'EntityController'
            Identifier : 102
            EntityControllerComponent{
                EntityId : 103
                AnimationControllerId : 104
                DefaultMoveAnimationId : 105
                RoamAreaId : 0
                DefaultMoveSpeed : 0.0
                DefaultAcceleration : 3000.0
                TargetingDistance : 1000.0
                MovementBehavior : 3
            }
        }
        Component{
            ClassName : 'MonsterEntity'
            Identifier : 103
            EntityComponent{
                FacingDirection : 18446744073709551615
                PhysicsEnabled : 1
            }
            MonsterEntityComponent{
                OnKill{
                }
                OnHurt{
                    String : $
local self =...;
local var = 0;
local incr = 0.3;
while ( var < 1.5) do
    if EntityController.IsIdle(self) then 
        EntityController.PerformAction(self, 135);
    end
    Program.Wait(incr);
    var = var + incr;
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xd7\x00\x00\x00local self =...;\r\nlocal var = 0;\r\nlocal incr = 0.3;\r\nwhile ( var < 1.5) do\r\n\tif EntityController.IsIdle(self) then \r\n\t\tEntityController.PerformAction(self, 135);\r\n\tend\r\n\tProgram.Wait(incr);\r\n\tvar = var + incr;\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x06\x17\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\x18\x80\xc0\x00\x16\x00\x04\x80\xc5\xc0\x00\x00\xc6\x00\xc1\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xda\x00\x00\x00\x16\x00\x01\x80\xc5\xc0\x00\x00\xc6@\xc1\x01\x00\x01\x00\x00A\x81\x01\x00\xdc@\x80\x01\xc5\xc0\x01\x00\xc6\x00\xc2\x01\x00\x01\x00\x01\xdc@\x00\x01L\x80\x80\x00\x16\x00\xfb\x7f\x1e\x00\x80\x00\t\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03333333\xd3?\x03\x00\x00\x00\x00\x00\x00\xf8?\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\xe0`@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x00\x00\x00\x00\x17\x00\x00\x00\x01\x00\x00\x00\x02\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x16\x00\x00\x00\x04\x00\x00\x00var\x00\x02\x00\x00\x00\x16\x00\x00\x00\x05\x00\x00\x00incr\x00\x03\x00\x00\x00\x16\x00\x00\x00\x00\x00\x00\x00'
                }
                GivesExperience : 1
                DefaultDeathAnimation : 1
            }
        }
        Component{
            ClassName : 'AnimationController'
            Identifier : 104
            AnimationControllerComponent{
                ModelId : 101
                DefaultAnimationId : 0
                SelfUpdate : 0
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 105
            Label : 'stand'
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'kilpikonna_stand'
                Repeating : 1
                SpeedMultiplier : 1.0
                Running : 1
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 107
            Label : 'hide'
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'kilpikonna_hide'
                Repeating : 0
                SpeedMultiplier : 1.7000000476837158
                Running : 1
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 108
            Label : 'unhide'
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'kilpikonna_unhide'
                Repeating : 0
                SpeedMultiplier : 1.0
                Running : 1
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 109
            ShapeComponent{
                Rectangle{
                    X : -30.0
                    Y : -23.0
                    Width : 60.0
                    Height : 53.0
                }
            }
            CollisionShapeComponent{
                Collides : 1
                ReceivesDamage : 1
                InflictsDamage : 1
                MinDepth : -15.0
                MaxDepth : 15.0
                Enabled : 1
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 111
            ShapeComponent{
                Rectangle{
                    X : -35.0
                    Y : -30.0
                    Width : 70.0
                    Height : 65.0
                }
            }
            CollisionShapeComponent{
                MinDepth : -15.0
                MaxDepth : 15.0
                SpecialType : 5
                Enabled : 0
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 115
            ShapeComponent{
                Rectangle{
                    X : -35.0
                    Y : -30.0
                    Width : 35.0
                    Height : 77.41497802734375
                }
            }
            CollisionShapeComponent{
                MinDepth : -15.0
                MaxDepth : 15.0
                SpecialType : 5
                Enabled : 1
            }
        }
        Component{
            ClassName : 'EntityAction'
            Identifier : 120
            Label : 'shoot'
            EntityActionComponent{
                OnActivate{
                    String : $
local self = ...;

local shootAnimation = 140;

KeyframeAnimation.SetCurrentTime(self, shootAnimation, 0.0);
AnimationController.BlendToAnimation(self, shootAnimation);

Program.Wait(KeyframeAnimation.TimeToFrame(self, shootAnimation, 16));

local angles = { -40, -12, 12, 40 };

for i=1, #angles do
    local angleOffset = angles[i];
    local projectile = Scene.CreateObject("piikkikonna_spike", "projectile", self);

    projectile:setVelocity(Vector3.FromAngle(90 + angleOffset) * 550);

    PhysicsObject.SetGravityDirection(projectile, Vector3.FromAngle(-90 + 0.5 * angleOffset));
end

Program.Wait(KeyframeAnimation.TimeToCompletion(self, shootAnimation));

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xa2\x02\x00\x00local self = ...;\r\n\r\nlocal shootAnimation = 140;\r\n\r\nKeyframeAnimation.SetCurrentTime(self, shootAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, shootAnimation);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, shootAnimation, 16));\r\n\r\nlocal angles = { -40, -12, 12, 40 };\r\n\r\nfor i=1, #angles do\r\n\tlocal angleOffset = angles[i];\r\n\tlocal projectile = Scene.CreateObject("piikkikonna_spike", "projectile", self);\r\n\r\n\tprojectile:setVelocity(Vector3.FromAngle(90 + angleOffset) * 550);\r\n\r\n\tPhysicsObject.SetGravityDirection(projectile, Vector3.FromAngle(-90 + 0.5 * angleOffset));\r\nend\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, shootAnimation));\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\rA\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x85@\x00\x00\x86\x80@\x01\xc0\x00\x00\x00\x00\x01\x80\x00A\xc1\x00\x00\x9c@\x00\x02\x85\x00\x01\x00\x86@A\x01\xc0\x00\x00\x00\x00\x01\x80\x00\x9c@\x80\x01\x85\x80\x01\x00\x86\xc0A\x01\xc5@\x00\x00\xc6\x00\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\x81A\x02\x00\xdc\x00\x00\x02\x9c@\x00\x00\x8a\x00\x00\x02\xc1\x80\x02\x00\x01\xc1\x02\x00A\x01\x03\x00\x81A\x03\x00\xa2@\x00\x02\xc1\x80\x03\x00\x14\x01\x00\x01A\x81\x03\x00\xe0\x80\x05\x80\xc6\x81\x01\x01\x05\xc2\x03\x00\x06\x02D\x04AB\x04\x00\x81\x82\x04\x00\xc0\x02\x00\x00\x1c\x82\x00\x02K\xc2D\x04\xc5\x02\x05\x00\xc6B\xc5\x05\x0c\xc3\x01\x8b\xdc\x82\x00\x01\xce\xc2\xc5\x05\\B\x80\x01E\x02\x06\x00FB\xc6\x04\x80\x02\x00\x04\xc5\x02\x05\x00\xc6B\xc5\x05\x0e\xc3\x01\x8d\x0c\x03\x83\x8d\xdc\x02\x00\x01\\B\x00\x00\xdf\xc0\xf9\x7f\xc5\x80\x01\x00\xc6\xc0\xc1\x01\x05A\x00\x00\x06\x01G\x02@\x01\x00\x00\x80\x01\x80\x00\x1c\x01\x80\x01\xdc@\x00\x00\x1e\x00\x80\x00\x1d\x00\x00\x00\x03\x00\x00\x00\x00\x00\x80a@\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x000@\x03\x00\x00\x00\x00\x00\x00D\xc0\x03\x00\x00\x00\x00\x00\x00(\xc0\x03\x00\x00\x00\x00\x00\x00(@\x03\x00\x00\x00\x00\x00\x00D@\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\x06\x00\x00\x00Scene\x00\x04\r\x00\x00\x00CreateObject\x00\x04\x12\x00\x00\x00piikkikonna_spike\x00\x04\x0b\x00\x00\x00projectile\x00\x04\x0c\x00\x00\x00setVelocity\x00\x04\x08\x00\x00\x00Vector3\x00\x04\n\x00\x00\x00FromAngle\x00\x03\x00\x00\x00\x00\x00\x80V@\x03\x00\x00\x00\x00\x000\x81@\x04\x0e\x00\x00\x00PhysicsObject\x00\x04\x14\x00\x00\x00SetGravityDirection\x00\x03\x00\x00\x00\x00\x00\x00\xe0?\x03\x00\x00\x00\x00\x00\x80V\xc0\x04\x11\x00\x00\x00TimeToCompletion\x00\x00\x00\x00\x00A\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x0c\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\t\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00@\x00\x00\x00\x0f\x00\x00\x00shootAnimation\x00\x02\x00\x00\x00@\x00\x00\x00\x07\x00\x00\x00angles\x00\x1c\x00\x00\x00@\x00\x00\x00\x0c\x00\x00\x00(for index)\x00\x1f\x00\x00\x008\x00\x00\x00\x0c\x00\x00\x00(for limit)\x00\x1f\x00\x00\x008\x00\x00\x00\x0b\x00\x00\x00(for step)\x00\x1f\x00\x00\x008\x00\x00\x00\x02\x00\x00\x00i\x00 \x00\x00\x007\x00\x00\x00\x0c\x00\x00\x00angleOffset\x00!\x00\x00\x007\x00\x00\x00\x0b\x00\x00\x00projectile\x00\'\x00\x00\x007\x00\x00\x00\x00\x00\x00\x00'
                }
            }
        }
        Component{
            ClassName : 'Program'
            Identifier : 125
            ProgramComponent{
                ExecuteOnce : 1
                Program{
                    String : $
local self = ...;

local timeToAttack = 0;
local updateInterval = 0.3;

while true do 
    Program.Wait(updateInterval);

    timeToAttack = timeToAttack - updateInterval;

    if EntityController.IsIdle(self) then 
        if timeToAttack < 0.0 then
            timeToAttack = 2.0;
            EntityController.PerformAction(self, 120);
        end
    end
end

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00R\x01\x00\x00local self = ...;\r\n\r\nlocal timeToAttack = 0;\r\nlocal updateInterval = 0.3;\r\n\r\nwhile true do \r\n\tProgram.Wait(updateInterval);\r\n\r\n\ttimeToAttack = timeToAttack - updateInterval;\r\n\r\n\tif EntityController.IsIdle(self) then \r\n\t\tif timeToAttack < 0.0 then\r\n\t\t\ttimeToAttack = 2.0;\r\n\t\t\tEntityController.PerformAction(self, 120);\r\n\t\tend\r\n\tend\r\nend\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x06\x18\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x00\x01\x00\x01\xdc@\x00\x01M\x80\x80\x00\xc5\x00\x01\x00\xc6@\xc1\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xda\x00\x00\x00\x16\x00\xfd\x7f\x18\x00\xc0\x00\x16\x80\xfc\x7fA\x80\x01\x00\xc5\x00\x01\x00\xc6\xc0\xc1\x01\x00\x01\x00\x00A\x01\x02\x00\xdc@\x80\x01\x16\xc0\xfa\x7f\x1e\x00\x80\x00\t\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03333333\xd3?\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00IsIdle\x00\x03\x00\x00\x00\x00\x00\x00\x00@\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x00^@\x00\x00\x00\x00\x18\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x17\x00\x00\x00\r\x00\x00\x00timeToAttack\x00\x02\x00\x00\x00\x17\x00\x00\x00\x0f\x00\x00\x00updateInterval\x00\x03\x00\x00\x00\x17\x00\x00\x00\x00\x00\x00\x00'
                }
                Enabled : 1
                Trigger : 1
            }
        }
        Component{
            ClassName : 'Health'
            Identifier : 130
            HealthComponent{
                MaxHealth : 2
                HEALTHTYPE : 0
                BarOffset{
                    X : 0.0
                    Y : 50.0
                }
            }
        }
        Component{
            ClassName : 'EntityAction'
            Identifier : 135
            Label : 'hide'
            EntityActionComponent{
                OnActivate{
                    String : $
local self = ...;

local hideAnimation = 107;
local unhideAnimation = 108;

Program.Wait(0.5);

KeyframeAnimation.SetCurrentTime(self, hideAnimation, 0.0);
AnimationController.BlendToAnimation(self, hideAnimation);

Program.Wait(KeyframeAnimation.TimeToFrame(self, hideAnimation, 15));

CollisionShape.SetEnabled(self, 111, true);

Program.Wait(KeyframeAnimation.TimeToFrame(self, hideAnimation, 23));

KeyframeAnimation.SetRunning(self, hideAnimation, false);

Program.Wait(3);

KeyframeAnimation.SetRunning(self, hideAnimation, true);

AnimationController.BlendToAnimation(self, unhideAnimation);

Program.Wait(KeyframeAnimation.TimeToFrame(self, unhideanimation, 23));

CollisionShape.SetEnabled(self, 111, false);

Program.Wait(KeyframeAnimation.TimeToCompletion(self, unhideAnimation));


$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x008\x03\x00\x00local self = ...;\r\n\r\nlocal hideAnimation = 107;\r\nlocal unhideAnimation = 108;\r\n\r\nProgram.Wait(0.5);\r\n\r\nKeyframeAnimation.SetCurrentTime(self, hideAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, hideAnimation);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, hideAnimation, 15));\r\n\r\nCollisionShape.SetEnabled(self, 111, true);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, hideAnimation, 23));\r\n\r\nKeyframeAnimation.SetRunning(self, hideAnimation, false);\r\n\r\nProgram.Wait(3);\r\n\r\nKeyframeAnimation.SetRunning(self, hideAnimation, true);\r\n\r\nAnimationController.BlendToAnimation(self, unhideAnimation);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, unhideanimation, 23));\r\n\r\nCollisionShape.SetEnabled(self, 111, false);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, unhideAnimation));\r\n\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x08W\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x01\x01\x01\x00\xdc@\x00\x01\xc5@\x01\x00\xc6\x80\xc1\x01\x00\x01\x00\x00@\x01\x80\x00\x81\xc1\x01\x00\xdc@\x00\x02\xc5\x00\x02\x00\xc6@\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\xdc@\x80\x01\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x05A\x01\x00\x06\x81B\x02@\x01\x00\x00\x80\x01\x80\x00\xc1\xc1\x02\x00\x1c\x01\x00\x02\xdc@\x00\x00\xc5\x00\x03\x00\xc6@\xc3\x01\x00\x01\x00\x00A\x81\x03\x00\x82\x01\x80\x00\xdc@\x00\x02\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x05A\x01\x00\x06\x81B\x02@\x01\x00\x00\x80\x01\x80\x00\xc1\xc1\x03\x00\x1c\x01\x00\x02\xdc@\x00\x00\xc5@\x01\x00\xc6\x00\xc4\x01\x00\x01\x00\x00@\x01\x80\x00\x82\x01\x00\x00\xdc@\x00\x02\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x01A\x04\x00\xdc@\x00\x01\xc5@\x01\x00\xc6\x00\xc4\x01\x00\x01\x00\x00@\x01\x80\x00\x82\x01\x80\x00\xdc@\x00\x02\xc5\x00\x02\x00\xc6@\xc2\x01\x00\x01\x00\x00@\x01\x00\x01\xdc@\x80\x01\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x05A\x01\x00\x06\x81B\x02@\x01\x00\x00\x85\x81\x04\x00\xc1\xc1\x03\x00\x1c\x01\x00\x02\xdc@\x00\x00\xc5\x00\x03\x00\xc6@\xc3\x01\x00\x01\x00\x00A\x81\x03\x00\x82\x01\x00\x00\xdc@\x00\x02\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x05A\x01\x00\x06\xc1D\x02@\x01\x00\x00\x80\x01\x00\x01\x1c\x01\x80\x01\xdc@\x00\x00\x1e\x00\x80\x00\x14\x00\x00\x00\x03\x00\x00\x00\x00\x00\xc0Z@\x03\x00\x00\x00\x00\x00\x00[@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x00\x00\x00\x00\x00\x00\xe0?\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00.@\x04\x0f\x00\x00\x00CollisionShape\x00\x04\x0b\x00\x00\x00SetEnabled\x00\x03\x00\x00\x00\x00\x00\xc0[@\x03\x00\x00\x00\x00\x00\x007@\x04\x0b\x00\x00\x00SetRunning\x00\x03\x00\x00\x00\x00\x00\x00\x08@\x04\x10\x00\x00\x00unhideanimation\x00\x04\x11\x00\x00\x00TimeToCompletion\x00\x00\x00\x00\x00W\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00V\x00\x00\x00\x0e\x00\x00\x00hideAnimation\x00\x02\x00\x00\x00V\x00\x00\x00\x10\x00\x00\x00unhideAnimation\x00\x03\x00\x00\x00V\x00\x00\x00\x00\x00\x00\x00'
                }
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 140
            Label : 'shoot'
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'piikkikonna_shoot'
                Repeating : 0
                SpeedMultiplier : 1.0
                Running : 1
            }
        }
        Position{
            X : 0.0
            Y : 0.0
        }
        Depth : 0.0
        Rotation : 0.0
        Scaling : 1.0
        LocalAabb{
            X : -35.0
            Y : -30.0
            Width : 70.0
            Height : 77.41497802734375
        }
        Hidden : 0
    }
    Scaling : 1.0
}
Template{
    Object{
        Identifier : 'piikkikonna_spike'
        Component{
            ClassName : 'SimpleGlow'
            Identifier : 1
            SimpleGlowComponent{
                Color{
                    R : 0.20000000298023224
                    G : 0.30000001192092896
                    B : 0.06666667014360428
                    A : 0.0
                }
                Size : 25.0
                NumSegments : 10
                Depth : 15.0
                PulseAmount : 0.15000000596046448
                PulseTime : 0.800000011920929
                Offset{
                    X : 4.0
                    Y : 0.0
                }
            }
        }
        Component{
            ClassName : 'Model'
            Identifier : 101
            ModelComponent{
                Name : 'piikkikonna_spike'
                YRotation : 0.0
                EmissionFactor : 2.0
                XRotation : 0.0
                ShatterColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
                Origin{
                    X : 0.0
                    Y : 0.0
                    Z : 0.0
                }
                Transparent : 0
                DiffuseColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 102
            ShapeComponent{
                Rectangle{
                    X : -4.0
                    Y : -5.0
                    Width : 14.0
                    Height : 10.0
                }
            }
            CollisionShapeComponent{
                Collides : 1
                InflictsDamage : 1
                MinDepth : -15.0
                MaxDepth : 15.0
                OnCollide{
                    String : $
local self, target, collisionNormal, groundCollision = ...;

if groundCollision then
    Program.Wait(0.1);
    self:destroy();
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x83\x00\x00\x00local self, target, collisionNormal, groundCollision = ...;\r\n\r\nif groundCollision then\r\n\tProgram.Wait(0.1);\r\n\tself:destroy();\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x06\n\x00\x00\x00%\x00\x80\x02\xda\x00\x00\x00\x16@\x01\x80\x05\x01\x00\x00\x06A@\x02A\x81\x00\x00\x1cA\x00\x01\x0b\xc1@\x00\x1cA\x00\x01\x1e\x00\x80\x00\x04\x00\x00\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x08\x00\x00\x00destroy\x00\x00\x00\x00\x00\n\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\t\x00\x00\x00\x07\x00\x00\x00target\x00\x01\x00\x00\x00\t\x00\x00\x00\x10\x00\x00\x00collisionNormal\x00\x01\x00\x00\x00\t\x00\x00\x00\x10\x00\x00\x00groundCollision\x00\x01\x00\x00\x00\t\x00\x00\x00\x00\x00\x00\x00'
                }
                Enabled : 1
            }
        }
        Component{
            ClassName : 'PhysicsObject'
            Identifier : 105
            PhysicsObjectComponent{
                PhysicsEnabled : 1
                GroundDeceleration : 1500.0
                AirDeceleration : 0.0
                MaxSpeed : 700.0
                AllowRotation : 0
                Elasticity : 0.0
            }
        }
        Component{
            ClassName : 'ProjectileController'
            Identifier : 106
            ProjectileControllerComponent{
                AlignObjectRotation : 1
                BreakOnGroundCollision : 1
            }
        }
        Component{
            ClassName : 'Damage'
            Identifier : 107
            DamageComponent{
                MinDamage : 1
                DamageType : 0
                SpecialDamageType : 0
                PhysicalDamageFactor : 1.0
                MagicDamageFactor : 0.0
                IgnoreTargetImmunity : 0
                CanBeBlocked : 1
            }
        }
        Position{
            X : 0.0
            Y : 0.0
        }
        Depth : 0.0
        Rotation : 0.0
        Scaling : 1.0
        LocalAabb{
            X : -25.0
            Y : -25.0
            Width : 50.0
            Height : 50.0
        }
        Hidden : 0
    }
    Scaling : 1.2000000476837158
}
Template{
    Object{
        Identifier : 'varibandit_dagger'
        Component{
            ClassName : 'SimpleGlow'
            Identifier : 1
            SimpleGlowComponent{
                Color{
                    R : 0.12222224473953247
                    G : 0.12222224473953247
                    B : 0.12222224473953247
                    A : 0.0
                }
                Size : 17.0
                NumSegments : 10
                Depth : 15.0
                PulseAmount : 0.15000000596046448
                PulseTime : 0.800000011920929
                Offset{
                    X : 4.0
                    Y : 0.0
                }
            }
        }
        Component{
            ClassName : 'FireEmitter'
            Identifier : 2
            FireEmitterComponent{
                ParticleEmitterId : 3
                LightId : 0
                Color{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 0.0
                }
                ParticleInterval : 0.019999999552965164
                ParticleMaxAge : 0.30000001192092896
                ParticleSpread{
                    X : 10.0
                    Y : 10.0
                    Z : 0.0
                }
                Origin3{
                    X : 0.0
                    Y : 0.0
                    Z : 0.0
                }
            }
        }
        Component{
            ClassName : 'ParticleEmitter'
            Identifier : 3
            ParticleEmitterComponent{
                ParticleId : 4
                ParticleId : 5
                ParticleId : 6
                ModelBindingId : 0
                MaxParticles : 30
                ParentEmitterId : 0
                DestroyWhenFinished : 0
                LocalSystem : 0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 4
            ParticleComponent{
                TextureName : 'particle_fure_3'
                Size : 8.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 5
            ParticleComponent{
                TextureName : 'particle_fure_2'
                Size : 8.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 6
            ParticleComponent{
                TextureName : 'particle_fure_1'
                Size : 8.0
            }
        }
        Component{
            ClassName : 'Model'
            Identifier : 101
            ModelComponent{
                Name : 'varibandit_dagger'
                YRotation : 0.0
                EmissionFactor : 1.0
                XRotation : 1.5707963705062866
                ShatterColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
                Origin{
                    X : 20.0
                    Y : 0.0
                    Z : 0.0
                }
                Transparent : 0
                DiffuseColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 102
            ShapeComponent{
                Rectangle{
                    X : -15.0
                    Y : -15.0
                    Width : 30.0
                    Height : 30.0
                }
            }
            CollisionShapeComponent{
                Collides : 1
                InflictsDamage : 1
                MinDepth : -15.0
                MaxDepth : 15.0
                OnCollide{
                    String : $
local self, target, collisionNormal, groundCollision = ...;

if groundCollision then
    Program.Wait(0.1);
    self:destroy();
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x83\x00\x00\x00local self, target, collisionNormal, groundCollision = ...;\r\n\r\nif groundCollision then\r\n\tProgram.Wait(0.1);\r\n\tself:destroy();\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x06\n\x00\x00\x00%\x00\x80\x02\xda\x00\x00\x00\x16@\x01\x80\x05\x01\x00\x00\x06A@\x02A\x81\x00\x00\x1cA\x00\x01\x0b\xc1@\x00\x1cA\x00\x01\x1e\x00\x80\x00\x04\x00\x00\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x08\x00\x00\x00destroy\x00\x00\x00\x00\x00\n\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\t\x00\x00\x00\x07\x00\x00\x00target\x00\x01\x00\x00\x00\t\x00\x00\x00\x10\x00\x00\x00collisionNormal\x00\x01\x00\x00\x00\t\x00\x00\x00\x10\x00\x00\x00groundCollision\x00\x01\x00\x00\x00\t\x00\x00\x00\x00\x00\x00\x00'
                }
                Enabled : 1
            }
        }
        Component{
            ClassName : 'PhysicsObject'
            Identifier : 105
            PhysicsObjectComponent{
                PhysicsEnabled : 1
                GroundDeceleration : 1500.0
                AirDeceleration : 0.0
                MaxSpeed : 700.0
                AllowRotation : 0
                Elasticity : 0.0
            }
        }
        Component{
            ClassName : 'ProjectileController'
            Identifier : 106
            ProjectileControllerComponent{
                AlignObjectRotation : 1
                BreakOnGroundCollision : 1
            }
        }
        Component{
            ClassName : 'Damage'
            Identifier : 107
            DamageComponent{
                MinDamage : 1
                DamageType : 0
                SpecialDamageType : 0
                PhysicalDamageFactor : 1.0
                MagicDamageFactor : 0.0
                IgnoreTargetImmunity : 0
                CanBeBlocked : 1
            }
        }
        Component{
            ClassName : 'ModelTransformController'
            Identifier : 110
            ModelTransformControllerComponent{
                ModelId : 101
                RotationAxis{
                    X : 0.0
                    Y : 0.0
                    Z : 1.0
                }
                RotationSpeed : 20.943950653076172
            }
        }
        Position{
            X : 0.0
            Y : 0.0
        }
        Depth : 0.0
        Rotation : 0.0
        Scaling : 1.0
        LocalAabb{
            X : -25.0
            Y : -25.0
            Width : 50.0
            Height : 50.0
        }
        Hidden : 0
    }
    Scaling : 1.2000000476837158
}
Template{
    Object{
        Identifier : 'varibandit_thrower'
        Component{
            ClassName : 'Program'
            Identifier : 1
            ProgramComponent{
                ExecuteOnce : 1
                Program{
                    String : $
local self = ...;

local target = EntityController.Target(self);
while true do
    Program.Wait(3);
    if EntityController.IsIdle(self) then
        EntityController.PerformAction(self, 126);
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xc6\x00\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\nwhile true do\r\n\tProgram.Wait(3);\r\n\tif EntityController.IsIdle(self) then\r\n\t\tEntityController.PerformAction(self, 126);\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x05\x16\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x85\x80\x00\x00\x86\xc0@\x01\xc1\x00\x01\x00\x9c@\x00\x01\x85\x00\x00\x00\x86@A\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\x9a\x00\x00\x00\x16@\xfd\x7f\x85\x00\x00\x00\x86\x80A\x01\xc0\x00\x00\x00\x01\xc1\x01\x00\x9c@\x80\x01\x16\xc0\xfb\x7f\x1e\x00\x80\x00\x08\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x00\x00\x00\x00\x00\x00\x08@\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x80_@\x00\x00\x00\x00\x16\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x15\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00\x15\x00\x00\x00\x00\x00\x00\x00'
                }
                Enabled : 1
                Trigger : 1
            }
        }
        Component{
            ClassName : 'EntityInfo'
            Identifier : 2
            EntityInfoComponent{
                EntityClass : 'Bandit'
            }
        }
        Component{
            ClassName : 'Model'
            Identifier : 101
            ModelComponent{
                Name : 'varibandit_brown'
                YRotation : 1.5707963705062866
                EmissionFactor : 0.5
                XRotation : 0.0
                ShatterColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
                Origin{
                    X : 0.0
                    Y : 0.0
                    Z : 0.0
                }
                Transparent : 0
                DiffuseColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
            }
        }
        Component{
            ClassName : 'MonsterEntity'
            Identifier : 103
            EntityComponent{
                FacingDirection : 18446744073709551615
                PhysicsEnabled : 1
            }
            MonsterEntityComponent{
                OnKill{
                }
                OnHurt{
                    String : $
local self = ...;

local target = EntityController.Target(self);

if target ~= nil then 
    local targetDirection = 1;
    if (target:position() - self:position()):x() < 0 then targetDirection = -1; end

    EntityController.SetFacingDirection(self, targetDirection, 0.2);
    EntityController.SetMoveDirection(self, targetDirection, 0.7);

    Program.Wait(0.8);
    if EntityController.IsIdle(self) then
        EntityController.PerformAction(self, 126);
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xca\x01\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nif target ~= nil then \r\n\tlocal targetDirection = 1;\r\n\tif (target:position() - self:position()):x() < 0 then targetDirection = -1; end\r\n\r\n\tEntityController.SetFacingDirection(self, targetDirection, 0.2);\r\n\tEntityController.SetMoveDirection(self, targetDirection, 0.7);\r\n\r\n\tProgram.Wait(0.8);\r\n\tif EntityController.IsIdle(self) then\r\n\t\tEntityController.PerformAction(self, 126);\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x07.\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01W\x80\xc0\x00\x16@\t\x80\x81\xc0\x00\x00\xcb\x00\xc1\x00\xdc\x80\x00\x01\x0b\x01A\x00\x1c\x81\x00\x01\xcd\x00\x81\x01\xcb@\xc1\x01\xdc\x80\x00\x01\x18\x80\xc1\x01\x16\x00\x00\x80\x81\xc0\x01\x00\xc5\x00\x00\x00\xc6\x00\xc2\x01\x00\x01\x00\x00@\x01\x00\x01\x81A\x02\x00\xdc@\x00\x02\xc5\x00\x00\x00\xc6\x80\xc2\x01\x00\x01\x00\x00@\x01\x00\x01\x81\xc1\x02\x00\xdc@\x00\x02\xc5\x00\x03\x00\xc6@\xc3\x01\x01\x81\x03\x00\xdc@\x00\x01\xc5\x00\x00\x00\xc6\xc0\xc3\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xda\x00\x00\x00\x16\x00\x01\x80\xc5\x00\x00\x00\xc6\x00\xc4\x01\x00\x01\x00\x00AA\x04\x00\xdc@\x80\x01\x1e\x00\x80\x00\x12\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x13\x00\x00\x00SetFacingDirection\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x11\x00\x00\x00SetMoveDirection\x00\x03ffffff\xe6?\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xe9?\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x80_@\x00\x00\x00\x00.\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x10\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00-\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00-\x00\x00\x00\x10\x00\x00\x00targetDirection\x00\x08\x00\x00\x00-\x00\x00\x00\x00\x00\x00\x00'
                }
                GivesExperience : 1
                DefaultDeathAnimation : 1
            }
        }
        Component{
            ClassName : 'EntityController'
            Identifier : 104
            EntityControllerComponent{
                EntityId : 103
                AnimationControllerId : 105
                DefaultMoveAnimationId : 112
                RoamAreaId : 117
                DefaultMoveSpeed : 100.0
                DefaultAcceleration : 1000.0
                TargetingDistance : 300.0
                MovementBehavior : 4
            }
        }
        Component{
            ClassName : 'AnimationController'
            Identifier : 105
            AnimationControllerComponent{
                ModelId : 101
                DefaultAnimationId : 0
                SelfUpdate : 0
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 106
            Label : 'main'
            ShapeComponent{
                Rectangle{
                    X : -26.0
                    Y : -0.8095080256462097
                    Width : 54.0
                    Height : 70.80950927734375
                }
            }
            CollisionShapeComponent{
                Collides : 1
                ReceivesDamage : 1
                InflictsDamage : 1
                MinDepth : -15.0
                MaxDepth : 15.0
                Enabled : 1
            }
        }
        Component{
            ClassName : 'SwingableWeaponController'
            Identifier : 109
            SwingableWeaponControllerComponent{
                ControllingModelId : 101
                ControllingBoneName : 'BoneRightWeapon1'
                WeaponTemplateName : 'varibandit_weapon_dagger'
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 112
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'variknight_shield_walk'
                Repeating : 1
                SpeedMultiplier : 1.2000000476837158
                Running : 1
            }
        }
        Component{
            ClassName : 'UtilityShape'
            Identifier : 117
            Label : 'roam'
            ShapeComponent{
                Rectangle{
                    X : -100.0
                    Y : -50.0
                    Width : 200.0
                    Height : 100.0
                }
            }
        }
        Component{
            ClassName : 'Damage'
            Identifier : 119
            DamageComponent{
                MinDamage : 1
                DamageType : 0
                SpecialDamageType : 0
                PhysicalDamageFactor : 1.0
                MagicDamageFactor : 0.0
                IgnoreTargetImmunity : 0
                CanBeBlocked : 1
            }
        }
        Component{
            ClassName : 'Health'
            Identifier : 120
            HealthComponent{
                MaxHealth : 3
                HEALTHTYPE : 0
                BarOffset{
                    X : 0.0
                    Y : 50.0
                }
            }
        }
        Component{
            ClassName : 'EntityAction'
            Identifier : 126
            EntityActionComponent{
                OnActivate{
                    String : $
local self = ...;

local shootAnimation = 127;

KeyframeAnimation.SetCurrentTime(self, shootAnimation, 0.0);
AnimationController.BlendToAnimation(self, shootAnimation);

Program.Wait(KeyframeAnimation.TimeToFrame(self, shootAnimation, 13));

throwDirection = EntityController.FacingDirection(self);

local angles = { throwDirection*-30, throwDirection*-50 };

for i=1, #angles do
    local angleOffset = angles[i];
    local projectile = Scene.CreateObject("varibandit_dagger", "projectile", self);

    local directionVector = Vector3.FromAngle(90 + angleOffset);

    projectile:setPosition(self:position() + directionVector * 60);
    projectile:setVelocity(directionVector * 500);

    PhysicsObject.SetGravityDirection(projectile, Vector3.FromAngle(-90 + 0.5 * angleOffset));
end

Program.Wait(KeyframeAnimation.TimeToCompletion(self, shootAnimation));


$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00e\x03\x00\x00local self = ...;\r\n\r\nlocal shootAnimation = 127;\r\n\r\nKeyframeAnimation.SetCurrentTime(self, shootAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, shootAnimation);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, shootAnimation, 13));\r\n\r\nthrowDirection = EntityController.FacingDirection(self);\r\n\r\nlocal angles = { throwDirection*-30, throwDirection*-50 };\r\n\r\nfor i=1, #angles do\r\n\tlocal angleOffset = angles[i];\r\n\tlocal projectile = Scene.CreateObject("varibandit_dagger", "projectile", self);\r\n\r\n\tlocal directionVector = Vector3.FromAngle(90 + angleOffset);\r\n\r\n\tprojectile:setPosition(self:position() + directionVector * 60);\r\n\tprojectile:setVelocity(directionVector * 500);\r\n\r\n\tPhysicsObject.SetGravityDirection(projectile, Vector3.FromAngle(-90 + 0.5 * angleOffset));\r\nend\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, shootAnimation));\r\n\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x0eL\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x85@\x00\x00\x86\x80@\x01\xc0\x00\x00\x00\x00\x01\x80\x00A\xc1\x00\x00\x9c@\x00\x02\x85\x00\x01\x00\x86@A\x01\xc0\x00\x00\x00\x00\x01\x80\x00\x9c@\x80\x01\x85\x80\x01\x00\x86\xc0A\x01\xc5@\x00\x00\xc6\x00\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\x81A\x02\x00\xdc\x00\x00\x02\x9c@\x00\x00\x85\xc0\x02\x00\x86\x00C\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\x87\x80\x02\x00\x8a\x00\x00\x01\xc5\x80\x02\x00\xce@\xc3\x01\x05\x81\x02\x00\x0e\x81C\x02\xa2@\x00\x01\xc1\xc0\x03\x00\x14\x01\x00\x01A\xc1\x03\x00\xe0\x00\x07\x80\xc6\x81\x01\x01\x05\x02\x04\x00\x06BD\x04A\x82\x04\x00\x81\xc2\x04\x00\xc0\x02\x00\x00\x1c\x82\x00\x02E\x02\x05\x00FB\xc5\x04\x8c\xc2\x01\x8b\\\x82\x00\x01\x8b\xc2E\x04\x0b\x03F\x00\x1c\x83\x00\x01NC\xc6\x04\x0cC\x03\x06\x9cB\x80\x01\x8b\x82F\x04\x0e\xc3\xc6\x04\x9cB\x80\x01\x85\x02\x07\x00\x86BG\x05\xc0\x02\x00\x04\x05\x03\x05\x00\x06CE\x06N\xc3\x01\x8fLC\x83\x8f\x1c\x03\x00\x01\x9cB\x00\x00\xdf@\xf8\x7f\xc5\x80\x01\x00\xc6\xc0\xc1\x01\x05A\x00\x00\x06\x01H\x02@\x01\x00\x00\x80\x01\x80\x00\x1c\x01\x80\x01\xdc@\x00\x00\x1e\x00\x80\x00!\x00\x00\x00\x03\x00\x00\x00\x00\x00\xc0_@\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00*@\x04\x0f\x00\x00\x00throwDirection\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x10\x00\x00\x00FacingDirection\x00\x03\x00\x00\x00\x00\x00\x00>\xc0\x03\x00\x00\x00\x00\x00\x00I\xc0\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\x06\x00\x00\x00Scene\x00\x04\r\x00\x00\x00CreateObject\x00\x04\x12\x00\x00\x00varibandit_dagger\x00\x04\x0b\x00\x00\x00projectile\x00\x04\x08\x00\x00\x00Vector3\x00\x04\n\x00\x00\x00FromAngle\x00\x03\x00\x00\x00\x00\x00\x80V@\x04\x0c\x00\x00\x00setPosition\x00\x04\t\x00\x00\x00position\x00\x03\x00\x00\x00\x00\x00\x00N@\x04\x0c\x00\x00\x00setVelocity\x00\x03\x00\x00\x00\x00\x00@\x7f@\x04\x0e\x00\x00\x00PhysicsObject\x00\x04\x14\x00\x00\x00SetGravityDirection\x00\x03\x00\x00\x00\x00\x00\x00\xe0?\x03\x00\x00\x00\x00\x00\x80V\xc0\x04\x11\x00\x00\x00TimeToCompletion\x00\x00\x00\x00\x00L\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x0e\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\n\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00K\x00\x00\x00\x0f\x00\x00\x00shootAnimation\x00\x02\x00\x00\x00K\x00\x00\x00\x07\x00\x00\x00angles\x00!\x00\x00\x00K\x00\x00\x00\x0c\x00\x00\x00(for index)\x00$\x00\x00\x00C\x00\x00\x00\x0c\x00\x00\x00(for limit)\x00$\x00\x00\x00C\x00\x00\x00\x0b\x00\x00\x00(for step)\x00$\x00\x00\x00C\x00\x00\x00\x02\x00\x00\x00i\x00%\x00\x00\x00B\x00\x00\x00\x0c\x00\x00\x00angleOffset\x00&\x00\x00\x00B\x00\x00\x00\x0b\x00\x00\x00projectile\x00,\x00\x00\x00B\x00\x00\x00\x10\x00\x00\x00directionVector\x000\x00\x00\x00B\x00\x00\x00\x00\x00\x00\x00'
                }
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 127
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'varibandit_throw'
                Repeating : 0
                SpeedMultiplier : 1.0
                Running : 1
            }
        }
        Position{
            X : 0.0
            Y : 0.0
        }
        Depth : 0.0
        Rotation : 0.0
        Scaling : 1.0
        LocalAabb{
            X : -26.0
            Y : -0.8095080256462097
            Width : 54.0
            Height : 70.80950927734375
        }
        Hidden : 0
    }
    Scaling : 1.0
}
Template{
    Object{
        Identifier : 'varibandit_weapon_dagger'
        Component{
            ClassName : 'WeaponTrail'
            Identifier : 1
            WeaponTrailComponent{
                Color{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 2
            ShapeComponent{
                Rectangle{
                    X : 0.0
                    Y : 0.0
                    Width : 0.0
                    Height : 0.0
                }
            }
            CollisionShapeComponent{
                MinDepth : -15.0
                MaxDepth : 15.0
                Enabled : 0
            }
        }
        Component{
            ClassName : 'Damage'
            Identifier : 3
            DamageComponent{
                MinDamage : 1
                DamageType : 0
                SpecialDamageType : 0
                PhysicalDamageFactor : 1.0
                MagicDamageFactor : 0.0
                IgnoreTargetImmunity : 0
                CanBeBlocked : 1
            }
        }
        Component{
            ClassName : 'SoundEffect'
            Identifier : 7
            Label : 'swing1'
            SoundEffectComponent{
                Name : 'sword_swing2'
                Delay : 0.0
                Volume : 1.0
            }
        }
        Component{
            ClassName : 'SoundEffect'
            Identifier : 8
            Label : 'impact1'
            SoundEffectComponent{
                Name : 'sword_impact3'
                Delay : 0.0
                Volume : 1.0
            }
        }
        Component{
            ClassName : 'WeaponGlow'
            Identifier : 10
            WeaponGlowComponent{
                ParticleEmitterId : 12
                Color{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 0.0
                }
                ParticleColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 0.0
                }
                Width : 15.0
            }
        }
        Component{
            ClassName : 'ParticleEmitter'
            Identifier : 12
            Label : 'glow'
            ParticleEmitterComponent{
                ParticleId : 13
                ParticleId : 14
                ParticleId : 15
                ModelBindingId : 0
                MaxParticles : 30
                ParentEmitterId : 0
                DestroyWhenFinished : 0
                LocalSystem : 0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 13
            Label : 'glow'
            ParticleComponent{
                TextureName : 'particle_fure_1'
                Size : 14.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 14
            Label : 'glow'
            ParticleComponent{
                TextureName : 'particle_fure_2'
                Size : 16.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 15
            Label : 'glow'
            ParticleComponent{
                TextureName : 'particle_fure_3'
                Size : 14.0
            }
        }
        Component{
            ClassName : 'WeaponTrail'
            Identifier : 16
            Label : 'glow'
            WeaponTrailComponent{
                Color{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
            }
        }
        Component{
            ClassName : 'Model'
            Identifier : 101
            ModelComponent{
                Name : 'varibandit_dagger'
                YRotation : 0.0
                EmissionFactor : 1.0
                XRotation : 0.0
                ShatterColor{
                    R : 0.0
                    G : 0.0
                    B : 0.0
                    A : 1.0
                }
                Origin{
                    X : 0.0
                    Y : 0.0
                    Z : 0.0
                }
                Transparent : 0
                DiffuseColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
            }
        }
        Component{
            ClassName : 'SwingableWeapon'
            Identifier : 103
            SwingableWeaponComponent{
                ModelId : 101
                TrailId : 1
                ImpactParticleEmitterId : 0
                SwingSoundId : 7
                DamageImpactSoundId : 8
                GlowTrailId : 16
                CollisionShapeId : 2
                GlowId : 10
                BaseLength : 50.0
                GlowLength : 65.0
                GlowIntensity : 0.0
                Width : 10.0
                GlowColor{
                    R : 0.5
                    G : 0.5
                    B : 0.5
                    A : 0.0
                }
            }
        }
        Position{
            X : 0.0
            Y : 0.0
        }
        Depth : 0.0
        Rotation : 0.0
        Scaling : 1.0
        LocalAabb{
            X : 0.0
            Y : 0.0
            Width : 0.0
            Height : 0.0
        }
        Hidden : 0
    }
    Scaling : 1.0
}
Template{
    Object{
        Identifier : 'variknight_shield'
        Component{
            ClassName : 'EntityInfo'
            Identifier : 1
            EntityInfoComponent{
                EntityClass : 'Tainted Knight'
            }
        }
        Component{
            ClassName : 'Model'
            Identifier : 101
            ModelComponent{
                Name : 'variknight_shield'
                YRotation : 1.5707963705062866
                EmissionFactor : 0.0
                XRotation : 0.0
                ShatterColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
                Origin{
                    X : 0.0
                    Y : 0.0
                    Z : 0.0
                }
                Transparent : 0
                DiffuseColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
            }
        }
        Component{
            ClassName : 'MonsterEntity'
            Identifier : 103
            EntityComponent{
                FacingDirection : 18446744073709551615
                PhysicsEnabled : 1
            }
            MonsterEntityComponent{
                OnKill{
                    String : $
local self = ...;

TrapOnKill();
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00#\x00\x00\x00local self = ...;\r\n\r\nTrapOnKill();\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x02\x04\x00\x00\x00%\x00\x00\x01E\x00\x00\x00\\@\x80\x00\x1e\x00\x80\x00\x01\x00\x00\x00\x04\x0b\x00\x00\x00TrapOnKill\x00\x00\x00\x00\x00\x04\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x01\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00'
                }
                OnHurt{
                    String : $
local self = ...;

local target = EntityController.Target(self);

if target ~= nil then 
    local targetDirection = 1;
    if (target:position() - self:position()):x() < 0 then targetDirection = -1; end

    EntityController.SetFacingDirection(self, targetDirection, 0.2);
    EntityController.SetMoveDirection(self, targetDirection, 0.7);

    Program.Wait(0.8);
    if EntityController.IsIdle(self) then
        EntityController.PerformAction(self, 126);
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xca\x01\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nif target ~= nil then \r\n\tlocal targetDirection = 1;\r\n\tif (target:position() - self:position()):x() < 0 then targetDirection = -1; end\r\n\r\n\tEntityController.SetFacingDirection(self, targetDirection, 0.2);\r\n\tEntityController.SetMoveDirection(self, targetDirection, 0.7);\r\n\r\n\tProgram.Wait(0.8);\r\n\tif EntityController.IsIdle(self) then\r\n\t\tEntityController.PerformAction(self, 126);\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x07.\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01W\x80\xc0\x00\x16@\t\x80\x81\xc0\x00\x00\xcb\x00\xc1\x00\xdc\x80\x00\x01\x0b\x01A\x00\x1c\x81\x00\x01\xcd\x00\x81\x01\xcb@\xc1\x01\xdc\x80\x00\x01\x18\x80\xc1\x01\x16\x00\x00\x80\x81\xc0\x01\x00\xc5\x00\x00\x00\xc6\x00\xc2\x01\x00\x01\x00\x00@\x01\x00\x01\x81A\x02\x00\xdc@\x00\x02\xc5\x00\x00\x00\xc6\x80\xc2\x01\x00\x01\x00\x00@\x01\x00\x01\x81\xc1\x02\x00\xdc@\x00\x02\xc5\x00\x03\x00\xc6@\xc3\x01\x01\x81\x03\x00\xdc@\x00\x01\xc5\x00\x00\x00\xc6\xc0\xc3\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xda\x00\x00\x00\x16\x00\x01\x80\xc5\x00\x00\x00\xc6\x00\xc4\x01\x00\x01\x00\x00AA\x04\x00\xdc@\x80\x01\x1e\x00\x80\x00\x12\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x13\x00\x00\x00SetFacingDirection\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x11\x00\x00\x00SetMoveDirection\x00\x03ffffff\xe6?\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xe9?\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x80_@\x00\x00\x00\x00.\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x10\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00-\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00-\x00\x00\x00\x10\x00\x00\x00targetDirection\x00\x08\x00\x00\x00-\x00\x00\x00\x00\x00\x00\x00'
                }
                GivesExperience : 1
                DefaultDeathAnimation : 1
            }
        }
        Component{
            ClassName : 'EntityController'
            Identifier : 104
            EntityControllerComponent{
                EntityId : 103
                AnimationControllerId : 105
                DefaultMoveAnimationId : 112
                RoamAreaId : 117
                DefaultMoveSpeed : 100.0
                DefaultAcceleration : 1000.0
                TargetingDistance : 300.0
                MovementBehavior : 2
            }
        }
        Component{
            ClassName : 'AnimationController'
            Identifier : 105
            AnimationControllerComponent{
                ModelId : 101
                DefaultAnimationId : 0
                SelfUpdate : 0
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 106
            Label : 'main'
            ShapeComponent{
                Rectangle{
                    X : -26.0
                    Y : -0.8095080256462097
                    Width : 71.0
                    Height : 70.80950927734375
                }
            }
            CollisionShapeComponent{
                Collides : 1
                ReceivesDamage : 1
                InflictsDamage : 1
                MinDepth : -15.0
                MaxDepth : 15.0
                Enabled : 1
            }
        }
        Component{
            ClassName : 'SwingableWeaponController'
            Identifier : 109
            SwingableWeaponControllerComponent{
                ControllingModelId : 101
                ControllingBoneName : 'BoneRightWeapon1'
                WeaponTemplateName : 'variknight_weapon_sword'
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 112
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'variknight_shield_walk'
                Repeating : 1
                SpeedMultiplier : 1.2000000476837158
                Running : 1
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 115
            Label : 'shield'
            ShapeComponent{
                Rectangle{
                    X : 0.0
                    Y : -4.818707466125488
                    Width : 65.0
                    Height : 80.2313461303711
                }
            }
            CollisionShapeComponent{
                InflictsDamage : 1
                MinDepth : -15.0
                MaxDepth : 15.0
                SpecialType : 5
                Enabled : 1
            }
        }
        Component{
            ClassName : 'UtilityShape'
            Identifier : 117
            Label : 'roam'
            ShapeComponent{
                Rectangle{
                    X : -300.0
                    Y : -50.0
                    Width : 600.0
                    Height : 100.0
                }
            }
        }
        Component{
            ClassName : 'Damage'
            Identifier : 119
            DamageComponent{
                MinDamage : 1
                DamageType : 0
                SpecialDamageType : 0
                PhysicalDamageFactor : 1.0
                MagicDamageFactor : 0.0
                IgnoreTargetImmunity : 0
                CanBeBlocked : 1
            }
        }
        Component{
            ClassName : 'Health'
            Identifier : 120
            HealthComponent{
                MaxHealth : 10
                HEALTHTYPE : 0
                BarOffset{
                    X : 0.0
                    Y : 50.0
                }
            }
        }
        Component{
            ClassName : 'EntityAction'
            Identifier : 126
            EntityActionComponent{
                OnActivate{
                    String : $
local self = ...;

local attackAnimation = 127;
local shieldShape = 115;

EntityController.SetMoveSpeed(self, 0);
KeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);
AnimationController.BlendToAnimation(self, attackAnimation);

Program.Wait(0.1);

CollisionShape.SetEnabled(self, shieldShape, false);

local swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 13.5);
local swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 16.5);

Program.Wait(swingStartTime);
EntityController.StartSwing(self, 109, swingEndTime - swingStartTime);

Program.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));

CollisionShape.SetEnabled(self, shieldShape, true);
EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00%\x03\x00\x00local self = ...;\r\n\r\nlocal attackAnimation = 127;\r\nlocal shieldShape = 115;\r\n\r\nEntityController.SetMoveSpeed(self, 0);\r\nKeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, attackAnimation);\r\n\r\nProgram.Wait(0.1);\r\n\r\nCollisionShape.SetEnabled(self, shieldShape, false);\r\n\r\nlocal swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 13.5);\r\nlocal swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 16.5);\r\n\r\nProgram.Wait(swingStartTime);\r\nEntityController.StartSwing(self, 109, swingEndTime - swingStartTime);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));\r\n\r\nCollisionShape.SetEnabled(self, shieldShape, true);\r\nEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\tJ\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x00\x01\x00\x00A\x01\x01\x00\xdc@\x80\x01\xc5@\x01\x00\xc6\x80\xc1\x01\x00\x01\x00\x00@\x01\x80\x00\x81\x01\x01\x00\xdc@\x00\x02\xc5\xc0\x01\x00\xc6\x00\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\xdc@\x80\x01\xc5@\x02\x00\xc6\x80\xc2\x01\x01\xc1\x02\x00\xdc@\x00\x01\xc5\x00\x03\x00\xc6@\xc3\x01\x00\x01\x00\x00@\x01\x00\x01\x82\x01\x00\x00\xdc@\x00\x02\xc5@\x01\x00\xc6\x80\xc3\x01\x00\x01\x00\x00@\x01\x80\x00\x81\xc1\x03\x00\xdc\x80\x00\x02\x05A\x01\x00\x06\x81C\x02@\x01\x00\x00\x80\x01\x80\x00\xc1\x01\x04\x00\x1c\x81\x00\x02EA\x02\x00F\x81\xc2\x02\x80\x01\x80\x01\\A\x00\x01E\x81\x00\x00FA\xc4\x02\x80\x01\x00\x00\xc1\x81\x04\x00\r\xc2\x00\x02\\A\x00\x02EA\x02\x00F\x81\xc2\x02\x85A\x01\x00\x86\xc1D\x03\xc0\x01\x00\x00\x00\x02\x80\x00\x9c\x01\x80\x01\\A\x00\x00E\x01\x03\x00FA\xc3\x02\x80\x01\x00\x00\xc0\x01\x00\x01\x02\x02\x80\x00\\A\x00\x02E\x81\x00\x00F\xc1\xc0\x02\x80\x01\x00\x00\xc5\x81\x00\x00\xc6\x01\xc5\x03\x00\x02\x00\x00\xdc\x01\x00\x01\\A\x00\x00\x1e\x00\x80\x00\x15\x00\x00\x00\x03\x00\x00\x00\x00\x00\xc0_@\x03\x00\x00\x00\x00\x00\xc0\\@\x04\x11\x00\x00\x00EntityController\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x0f\x00\x00\x00CollisionShape\x00\x04\x0b\x00\x00\x00SetEnabled\x00\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00+@\x03\x00\x00\x00\x00\x00\x800@\x04\x0b\x00\x00\x00StartSwing\x00\x03\x00\x00\x00\x00\x00@[@\x04\x11\x00\x00\x00TimeToCompletion\x00\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x00\x00\x00\x00J\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00I\x00\x00\x00\x10\x00\x00\x00attackAnimation\x00\x02\x00\x00\x00I\x00\x00\x00\x0c\x00\x00\x00shieldShape\x00\x03\x00\x00\x00I\x00\x00\x00\x0f\x00\x00\x00swingStartTime\x00#\x00\x00\x00I\x00\x00\x00\r\x00\x00\x00swingEndTime\x00)\x00\x00\x00I\x00\x00\x00\x00\x00\x00\x00'
                }
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 127
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'variknight_shield_attack1'
                Repeating : 0
                SpeedMultiplier : 1.0
                Running : 1
            }
        }
        Position{
            X : 0.0
            Y : 0.0
        }
        Depth : 0.0
        Rotation : 0.0
        Scaling : 1.0
        LocalAabb{
            X : -26.0
            Y : -4.818707466125488
            Width : 91.0
            Height : 80.2313461303711
        }
        Hidden : 0
    }
    Scaling : 0.800000011920929
}
Template{
    Object{
        Identifier : 'variknight_weapon_sword'
        Component{
            ClassName : 'WeaponTrail'
            Identifier : 1
            WeaponTrailComponent{
                Color{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 2
            ShapeComponent{
                Rectangle{
                    X : 0.0
                    Y : 0.0
                    Width : 0.0
                    Height : 0.0
                }
            }
            CollisionShapeComponent{
                MinDepth : -15.0
                MaxDepth : 15.0
                SpecialType : 5
                Enabled : 0
            }
        }
        Component{
            ClassName : 'Damage'
            Identifier : 3
            DamageComponent{
                MinDamage : 1
                DamageType : 0
                SpecialDamageType : 0
                PhysicalDamageFactor : 1.0
                MagicDamageFactor : 0.0
                IgnoreTargetImmunity : 0
                CanBeBlocked : 1
            }
        }
        Component{
            ClassName : 'SoundEffect'
            Identifier : 7
            Label : 'swing1'
            SoundEffectComponent{
                Name : 'sword_swing2'
                Delay : 0.0
                Volume : 1.0
            }
        }
        Component{
            ClassName : 'SoundEffect'
            Identifier : 8
            Label : 'impact1'
            SoundEffectComponent{
                Name : 'sword_impact3'
                Delay : 0.0
                Volume : 1.0
            }
        }
        Component{
            ClassName : 'WeaponGlow'
            Identifier : 10
            WeaponGlowComponent{
                ParticleEmitterId : 12
                Color{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 0.0
                }
                ParticleColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 0.0
                }
                Width : 15.0
            }
        }
        Component{
            ClassName : 'ParticleEmitter'
            Identifier : 12
            Label : 'glow'
            ParticleEmitterComponent{
                ParticleId : 13
                ParticleId : 14
                ParticleId : 15
                ModelBindingId : 0
                MaxParticles : 30
                ParentEmitterId : 0
                DestroyWhenFinished : 0
                LocalSystem : 0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 13
            Label : 'glow'
            ParticleComponent{
                TextureName : 'particle_fure_1'
                Size : 14.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 14
            Label : 'glow'
            ParticleComponent{
                TextureName : 'particle_fure_2'
                Size : 16.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 15
            Label : 'glow'
            ParticleComponent{
                TextureName : 'particle_fure_3'
                Size : 14.0
            }
        }
        Component{
            ClassName : 'WeaponTrail'
            Identifier : 16
            Label : 'glow'
            WeaponTrailComponent{
                Color{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
            }
        }
        Component{
            ClassName : 'Model'
            Identifier : 101
            ModelComponent{
                Name : 'variknight_sword'
                YRotation : 0.0
                EmissionFactor : 1.0
                XRotation : 0.0
                ShatterColor{
                    R : 0.0
                    G : 0.0
                    B : 0.0
                    A : 1.0
                }
                Origin{
                    X : 0.0
                    Y : 0.0
                    Z : 0.0
                }
                Transparent : 0
                DiffuseColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
            }
        }
        Component{
            ClassName : 'SwingableWeapon'
            Identifier : 103
            SwingableWeaponComponent{
                ModelId : 101
                TrailId : 1
                ImpactParticleEmitterId : 0
                SwingSoundId : 7
                DamageImpactSoundId : 8
                GlowTrailId : 16
                CollisionShapeId : 2
                GlowId : 10
                BaseLength : 50.0
                GlowLength : 65.0
                GlowIntensity : 0.0
                Width : 10.0
                GlowColor{
                    R : 0.5
                    G : 0.5
                    B : 0.5
                    A : 0.0
                }
            }
        }
        Position{
            X : 0.0
            Y : 0.0
        }
        Depth : 0.0
        Rotation : 0.0
        Scaling : 1.0
        LocalAabb{
            X : 0.0
            Y : 0.0
            Width : 0.0
            Height : 0.0
        }
        Hidden : 0
    }
    Scaling : 1.0
}
Template{
    Object{
        Identifier : 'varimage'
        Component{
            ClassName : 'Program'
            Identifier : 1
            ProgramComponent{
                ExecuteOnce : 1
                Program{
                    String : $
local self = ...;

local target = EntityController.Target(self);
while true do
    Program.Wait(3.5);
    if EntityController.IsIdle(self) then
        EntityController.PerformAction(self, 126);
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xc8\x00\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\nwhile true do\r\n\tProgram.Wait(3.5);\r\n\tif EntityController.IsIdle(self) then\r\n\t\tEntityController.PerformAction(self, 126);\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x05\x16\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x85\x80\x00\x00\x86\xc0@\x01\xc1\x00\x01\x00\x9c@\x00\x01\x85\x00\x00\x00\x86@A\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\x9a\x00\x00\x00\x16@\xfd\x7f\x85\x00\x00\x00\x86\x80A\x01\xc0\x00\x00\x00\x01\xc1\x01\x00\x9c@\x80\x01\x16\xc0\xfb\x7f\x1e\x00\x80\x00\x08\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x00\x00\x00\x00\x00\x00\x0c@\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x80_@\x00\x00\x00\x00\x16\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x15\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00\x15\x00\x00\x00\x00\x00\x00\x00'
                }
                Enabled : 1
                Trigger : 1
            }
        }
        Component{
            ClassName : 'EntityInfo'
            Identifier : 2
            EntityInfoComponent{
                EntityClass : 'Mage'
            }
        }
        Component{
            ClassName : 'Model'
            Identifier : 101
            ModelComponent{
                Name : 'varimage_green'
                YRotation : 1.5707963705062866
                EmissionFactor : 0.30000001192092896
                XRotation : 0.0
                ShatterColor{
                    R : 0.0
                    G : 0.45490196347236633
                    B : 0.0
                    A : 1.0
                }
                Origin{
                    X : 0.0
                    Y : 0.0
                    Z : 0.0
                }
                Transparent : 0
                DiffuseColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
            }
        }
        Component{
            ClassName : 'MonsterEntity'
            Identifier : 103
            EntityComponent{
                FacingDirection : 18446744073709551615
                PhysicsEnabled : 1
            }
            MonsterEntityComponent{
                OnKill{
                }
                OnHurt{
                    String : $
local self = ...;

local target = EntityController.Target(self);

if target ~= nil then 
    local targetDirection = 1;
    if (target:position() - self:position()):x() < 0 then targetDirection = -1; end

    EntityController.SetFacingDirection(self, targetDirection, 0.2);
    EntityController.SetMoveDirection(self, targetDirection, 0.7);

    Program.Wait(0.8);

    if EntityController.IsIdle(self) then
        EntityController.PerformAction(self, 126);
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xcc\x01\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nif target ~= nil then \r\n\tlocal targetDirection = 1;\r\n\tif (target:position() - self:position()):x() < 0 then targetDirection = -1; end\r\n\r\n\tEntityController.SetFacingDirection(self, targetDirection, 0.2);\r\n\tEntityController.SetMoveDirection(self, targetDirection, 0.7);\r\n\r\n\tProgram.Wait(0.8);\r\n\r\n\tif EntityController.IsIdle(self) then\r\n\t\tEntityController.PerformAction(self, 126);\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x07.\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01W\x80\xc0\x00\x16@\t\x80\x81\xc0\x00\x00\xcb\x00\xc1\x00\xdc\x80\x00\x01\x0b\x01A\x00\x1c\x81\x00\x01\xcd\x00\x81\x01\xcb@\xc1\x01\xdc\x80\x00\x01\x18\x80\xc1\x01\x16\x00\x00\x80\x81\xc0\x01\x00\xc5\x00\x00\x00\xc6\x00\xc2\x01\x00\x01\x00\x00@\x01\x00\x01\x81A\x02\x00\xdc@\x00\x02\xc5\x00\x00\x00\xc6\x80\xc2\x01\x00\x01\x00\x00@\x01\x00\x01\x81\xc1\x02\x00\xdc@\x00\x02\xc5\x00\x03\x00\xc6@\xc3\x01\x01\x81\x03\x00\xdc@\x00\x01\xc5\x00\x00\x00\xc6\xc0\xc3\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xda\x00\x00\x00\x16\x00\x01\x80\xc5\x00\x00\x00\xc6\x00\xc4\x01\x00\x01\x00\x00AA\x04\x00\xdc@\x80\x01\x1e\x00\x80\x00\x12\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x13\x00\x00\x00SetFacingDirection\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x11\x00\x00\x00SetMoveDirection\x00\x03ffffff\xe6?\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xe9?\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x80_@\x00\x00\x00\x00.\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00-\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00-\x00\x00\x00\x10\x00\x00\x00targetDirection\x00\x08\x00\x00\x00-\x00\x00\x00\x00\x00\x00\x00'
                }
                GivesExperience : 1
                DefaultDeathAnimation : 1
            }
        }
        Component{
            ClassName : 'EntityController'
            Identifier : 104
            EntityControllerComponent{
                EntityId : 103
                AnimationControllerId : 105
                DefaultMoveAnimationId : 112
                RoamAreaId : 117
                DefaultMoveSpeed : 100.0
                DefaultAcceleration : 1000.0
                TargetingDistance : 300.0
                MovementBehavior : 4
            }
        }
        Component{
            ClassName : 'AnimationController'
            Identifier : 105
            AnimationControllerComponent{
                ModelId : 101
                DefaultAnimationId : 0
                SelfUpdate : 0
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 106
            Label : 'main'
            ShapeComponent{
                Rectangle{
                    X : -26.0
                    Y : -0.8095080256462097
                    Width : 54.0
                    Height : 70.80950927734375
                }
            }
            CollisionShapeComponent{
                Collides : 1
                ReceivesDamage : 1
                InflictsDamage : 1
                MinDepth : -15.0
                MaxDepth : 15.0
                Enabled : 1
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 112
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'varimage_walk'
                Repeating : 1
                SpeedMultiplier : 1.2000000476837158
                Running : 1
            }
        }
        Component{
            ClassName : 'UtilityShape'
            Identifier : 117
            Label : 'roam'
            ShapeComponent{
                Rectangle{
                    X : -300.0
                    Y : -50.0
                    Width : 600.0
                    Height : 100.0
                }
            }
        }
        Component{
            ClassName : 'Damage'
            Identifier : 119
            DamageComponent{
                MinDamage : 1
                DamageType : 0
                SpecialDamageType : 0
                PhysicalDamageFactor : 1.0
                MagicDamageFactor : 0.0
                IgnoreTargetImmunity : 0
                CanBeBlocked : 1
            }
        }
        Component{
            ClassName : 'Health'
            Identifier : 120
            HealthComponent{
                MaxHealth : 10
                HEALTHTYPE : 0
                BarOffset{
                    X : 0.0
                    Y : 50.0
                }
            }
        }
        Component{
            ClassName : 'EntityAction'
            Identifier : 126
            EntityActionComponent{
                OnActivate{
                    String : $
local self = ...;

local invokeAnimation = 127;
local castAnimation = 132;

EntityController.SetMoveSpeed(self, 0);
KeyframeAnimation.SetCurrentTime(self, invokeAnimation, 0.0);
AnimationController.BlendToAnimation(self, invokeAnimation);

Skill.BeginCasting(self, "varimage_magic_bolt", Vector3.New(EntityController.FacingDirection(self), 0, 0));
Program.Wait(1);

KeyframeAnimation.SetCurrentTime(self, castAnimation, 0.0);
AnimationController.BlendToAnimation(self, castAnimation);

Program.Wait(KeyframeAnimation.TimeToFrame(self, castAnimation, 13));

Skill.FinishCasting(self);

Program.Wait(KeyframeAnimation.TimeToCompletion(self, castAnimation));

EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xf4\x02\x00\x00local self = ...;\r\n\r\nlocal invokeAnimation = 127;\r\nlocal castAnimation = 132;\r\n\r\nEntityController.SetMoveSpeed(self, 0);\r\nKeyframeAnimation.SetCurrentTime(self, invokeAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, invokeAnimation);\r\n\r\nSkill.BeginCasting(self, "varimage_magic_bolt", Vector3.New(EntityController.FacingDirection(self), 0, 0));\r\nProgram.Wait(1);\r\n\r\nKeyframeAnimation.SetCurrentTime(self, castAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, castAnimation);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, castAnimation, 13));\r\n\r\nSkill.FinishCasting(self);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, castAnimation));\r\n\r\nEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\nN\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x00\x01\x00\x00A\x01\x01\x00\xdc@\x80\x01\xc5@\x01\x00\xc6\x80\xc1\x01\x00\x01\x00\x00@\x01\x80\x00\x81\x01\x01\x00\xdc@\x00\x02\xc5\xc0\x01\x00\xc6\x00\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\xdc@\x80\x01\xc5@\x02\x00\xc6\x80\xc2\x01\x00\x01\x00\x00A\xc1\x02\x00\x85\x01\x03\x00\x86AC\x03\xc5\x81\x00\x00\xc6\x81\xc3\x03\x00\x02\x00\x00\xdc\x81\x00\x01\x01\x02\x01\x00A\x02\x01\x00\x9c\x01\x00\x02\xdc@\x00\x00\xc5\xc0\x03\x00\xc6\x00\xc4\x01\x01A\x04\x00\xdc@\x00\x01\xc5@\x01\x00\xc6\x80\xc1\x01\x00\x01\x00\x00@\x01\x00\x01\x81\x01\x01\x00\xdc@\x00\x02\xc5\xc0\x01\x00\xc6\x00\xc2\x01\x00\x01\x00\x00@\x01\x00\x01\xdc@\x80\x01\xc5\xc0\x03\x00\xc6\x00\xc4\x01\x05A\x01\x00\x06\x81D\x02@\x01\x00\x00\x80\x01\x00\x01\xc1\xc1\x04\x00\x1c\x01\x00\x02\xdc@\x00\x00\xc5@\x02\x00\xc6\x00\xc5\x01\x00\x01\x00\x00\xdc@\x00\x01\xc5\xc0\x03\x00\xc6\x00\xc4\x01\x05A\x01\x00\x06AE\x02@\x01\x00\x00\x80\x01\x00\x01\x1c\x01\x80\x01\xdc@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x00\x01\x00\x00E\x81\x00\x00F\x81\xc5\x02\x80\x01\x00\x00\\\x01\x00\x01\xdc@\x00\x00\x1e\x00\x80\x00\x17\x00\x00\x00\x03\x00\x00\x00\x00\x00\xc0_@\x03\x00\x00\x00\x00\x00\x80`@\x04\x11\x00\x00\x00EntityController\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x06\x00\x00\x00Skill\x00\x04\r\x00\x00\x00BeginCasting\x00\x04\x14\x00\x00\x00varimage_magic_bolt\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x04\x10\x00\x00\x00FacingDirection\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00*@\x04\x0e\x00\x00\x00FinishCasting\x00\x04\x11\x00\x00\x00TimeToCompletion\x00\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x00\x00\x00\x00N\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00M\x00\x00\x00\x10\x00\x00\x00invokeAnimation\x00\x02\x00\x00\x00M\x00\x00\x00\x0e\x00\x00\x00castAnimation\x00\x03\x00\x00\x00M\x00\x00\x00\x00\x00\x00\x00'
                }
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 127
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'varimage_invoke'
                Repeating : 1
                SpeedMultiplier : 1.0
                Running : 1
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 132
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'varimage_cast'
                Repeating : 0
                SpeedMultiplier : 1.0
                Running : 1
            }
        }
        Component{
            ClassName : 'Skill'
            Identifier : 136
            SkillComponent{
                CastFinishAnimationId : 0
                Origin{
                    X : 80.0
                    Y : 30.0
                }
                CastObjectTemplateName : 'varimage_spell_cast'
            }
        }
        Position{
            X : 0.0
            Y : 0.0
        }
        Depth : 0.0
        Rotation : 0.0
        Scaling : 1.0
        LocalAabb{
            X : -26.0
            Y : -0.8095080256462097
            Width : 54.0
            Height : 70.80950927734375
        }
        Hidden : 0
    }
    Scaling : 1.0
}
Template{
    Object{
        Identifier : 'varimage_magic_bolt'
        Component{
            ClassName : 'SimpleGlow'
            Identifier : 1
            SimpleGlowComponent{
                Color{
                    R : 1.0
                    G : 0.0
                    B : 3.5762786865234375e-07
                    A : 0.5
                }
                Size : 30.0
                NumSegments : 10
                Depth : 15.0
                PulseAmount : 0.15000000596046448
                PulseTime : 0.800000011920929
                Offset{
                    X : 0.0
                    Y : 0.0
                }
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 2
            ShapeComponent{
                Rectangle{
                    X : -10.0
                    Y : -10.0
                    Width : 20.0
                    Height : 20.0
                }
            }
            CollisionShapeComponent{
                InflictsDamage : 1
                MinDepth : -15.0
                MaxDepth : 15.0
                Enabled : 1
            }
        }
        Component{
            ClassName : 'SoundEffect'
            Identifier : 3
            SoundEffectComponent{
                Name : 'woosh1'
                Delay : 0.0
                Volume : 1.0
            }
        }
        Component{
            ClassName : 'Damage'
            Identifier : 4
            DamageComponent{
                MinDamage : 4
                DamageType : 0
                SpecialDamageType : 0
                PhysicalDamageFactor : 0.0
                MagicDamageFactor : 1.0
                IgnoreTargetImmunity : 0
                CanBeBlocked : 1
            }
        }
        Component{
            ClassName : 'Light'
            Identifier : 6
            LightComponent{
                Type : 3
                Intensity : 2.0
                Color{
                    R : 1.0
                    G : 0.35555556416511536
                    B : 0.35555556416511536
                    A : 1.0
                }
                LinearAttenuation : 0.0
                QuadraticAttenuation : 0.00019999999494757503
                Offset{
                    X : 0.0
                    Y : 0.0
                    Z : 0.0
                }
                Radius : 250.0
            }
        }
        Component{
            ClassName : 'EntityInfo'
            Identifier : 7
            EntityInfoComponent{
                EntityClass : 'bolt'
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 8
            ShapeComponent{
                Rectangle{
                    X : -10.0
                    Y : -3.0
                    Width : 20.0
                    Height : 6.0
                }
            }
            CollisionShapeComponent{
                Collides : 1
                MinDepth : -15.0
                MaxDepth : 15.0
                Enabled : 1
            }
        }
        Component{
            ClassName : 'ParticleEmitter'
            Identifier : 102
            ParticleEmitterComponent{
                ParticleId : 103
                ParticleId : 104
                ParticleId : 105
                ModelBindingId : 0
                MaxParticles : 30
                ParentEmitterId : 0
                DestroyWhenFinished : 0
                LocalSystem : 0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 103
            ParticleComponent{
                TextureName : 'particle_fure_1'
                Size : 40.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 104
            ParticleComponent{
                TextureName : 'particle_fure_2'
                Size : 40.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 105
            ParticleComponent{
                TextureName : 'particle_fure_3'
                Size : 40.0
            }
        }
        Component{
            ClassName : 'MagicBolt'
            Identifier : 106
            MagicBoltComponent{
                ParticleEmitterId : 102
                SwooshSoundId : 3
                HitSoundId : 0
                Color{
                    R : 0.3412628471851349
                    G : 0.046070486307144165
                    B : 0.04607059061527252
                    A : 0.0
                }
                Speed : 500.0
            }
            SpellComponent{
            }
        }
        Position{
            X : 0.0
            Y : 0.0
        }
        Depth : 0.0
        Rotation : 0.0
        Scaling : 1.0
        LocalAabb{
            X : -50.0
            Y : -50.0
            Width : 100.0
            Height : 100.0
        }
        Hidden : 0
    }
    Scaling : 1.5
}
Template{
    Object{
        Identifier : 'varimage_magic_bolt_ballistic'
        Component{
            ClassName : 'SimpleGlow'
            Identifier : 1
            SimpleGlowComponent{
                Color{
                    R : 1.0
                    G : 0.0
                    B : 3.5762786865234375e-07
                    A : 0.5
                }
                Size : 30.0
                NumSegments : 10
                Depth : 15.0
                PulseAmount : 0.15000000596046448
                PulseTime : 0.800000011920929
                Offset{
                    X : 0.0
                    Y : 0.0
                }
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 2
            ShapeComponent{
                Rectangle{
                    X : -10.0
                    Y : -10.0
                    Width : 20.0
                    Height : 20.0
                }
            }
            CollisionShapeComponent{
                Collides : 1
                InflictsDamage : 1
                MinDepth : -15.0
                MaxDepth : 15.0
                Enabled : 1
            }
        }
        Component{
            ClassName : 'SoundEffect'
            Identifier : 3
            SoundEffectComponent{
                Name : 'woosh1'
                Delay : 0.0
                Volume : 1.0
            }
        }
        Component{
            ClassName : 'Damage'
            Identifier : 4
            DamageComponent{
                MinDamage : 1
                DamageType : 0
                SpecialDamageType : 0
                MaxDamage : 2
                PhysicalDamageFactor : 0.0
                MagicDamageFactor : 1.0
                IgnoreTargetImmunity : 0
                CanBeBlocked : 1
            }
        }
        Component{
            ClassName : 'Light'
            Identifier : 6
            LightComponent{
                Type : 3
                Intensity : 2.0
                Color{
                    R : 1.0
                    G : 0.35555556416511536
                    B : 0.35555556416511536
                    A : 1.0
                }
                LinearAttenuation : 0.0
                QuadraticAttenuation : 0.00019999999494757503
                Offset{
                    X : 0.0
                    Y : 0.0
                    Z : 0.0
                }
                Radius : 250.0
            }
        }
        Component{
            ClassName : 'EntityInfo'
            Identifier : 7
            EntityInfoComponent{
                EntityClass : 'bolt'
            }
        }
        Component{
            ClassName : 'ParticleEmitter'
            Identifier : 102
            ParticleEmitterComponent{
                ParticleId : 103
                ParticleId : 104
                ParticleId : 105
                ModelBindingId : 0
                MaxParticles : 30
                ParentEmitterId : 0
                DestroyWhenFinished : 0
                LocalSystem : 0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 103
            ParticleComponent{
                TextureName : 'particle_fure_1'
                Size : 40.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 104
            ParticleComponent{
                TextureName : 'particle_fure_2'
                Size : 40.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 105
            ParticleComponent{
                TextureName : 'particle_fure_3'
                Size : 40.0
            }
        }
        Component{
            ClassName : 'MagicBolt'
            Identifier : 106
            MagicBoltComponent{
                ParticleEmitterId : 102
                SwooshSoundId : 3
                HitSoundId : 0
                Color{
                    R : 0.4000000059604645
                    G : 0.05399999022483826
                    B : 0.054000113159418106
                    A : 0.0
                }
                Speed : 440.0
            }
            SpellComponent{
            }
        }
        Component{
            ClassName : 'PhysicsObject'
            Identifier : 109
            PhysicsObjectComponent{
                PhysicsEnabled : 1
                GravityMagnitude : 0.6000000238418579
                GroundDeceleration : 1500.0
                AirDeceleration : 0.0
                MaxSpeed : 700.0
                AllowRotation : 0
                Elasticity : 0.0
            }
        }
        Position{
            X : 0.0
            Y : 0.0
        }
        Depth : 0.0
        Rotation : 0.0
        Scaling : 1.0
        LocalAabb{
            X : -50.0
            Y : -50.0
            Width : 100.0
            Height : 100.0
        }
        Hidden : 0
    }
    Scaling : 1.5
}
Template{
    Object{
        Identifier : 'varimage_red'
        Component{
            ClassName : 'Program'
            Identifier : 1
            ProgramComponent{
                ExecuteOnce : 1
                Program{
                    String : $
local self = ...;

local target = EntityController.Target(self);
while true do
    Program.Wait(3.5);
    if EntityController.IsIdle(self) then
        if Math.RandomFloat(0.0,1.0) < 0.5 then
            EntityController.PerformAction(self, 2);
        else 
            EntityController.PerformAction(self, 126);
        end
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x001\x01\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\nwhile true do\r\n\tProgram.Wait(3.5);\r\n\tif EntityController.IsIdle(self) then\r\n\t\tif Math.RandomFloat(0.0,1.0) < 0.5 then\r\n\t\t\tEntityController.PerformAction(self, 2);\r\n\t\telse \r\n\t\t\tEntityController.PerformAction(self, 126);\r\n\t\tend\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x05#\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x85\x80\x00\x00\x86\xc0@\x01\xc1\x00\x01\x00\x9c@\x00\x01\x85\x00\x00\x00\x86@A\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\x9a\x00\x00\x00\x16@\xfd\x7f\x85\x80\x01\x00\x86\xc0A\x01\xc1\x00\x02\x00\x01A\x02\x00\x9c\x80\x80\x01\x18\x80B\x01\x16@\x01\x80\x85\x00\x00\x00\x86\xc0B\x01\xc0\x00\x00\x00\x01\x01\x03\x00\x9c@\x80\x01\x16\x00\xfa\x7f\x85\x00\x00\x00\x86\xc0B\x01\xc0\x00\x00\x00\x01A\x03\x00\x9c@\x80\x01\x16\x80\xf8\x7f\x1e\x00\x80\x00\x0e\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x00\x00\x00\x00\x00\x00\x0c@\x04\x07\x00\x00\x00IsIdle\x00\x04\x05\x00\x00\x00Math\x00\x04\x0c\x00\x00\x00RandomFloat\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x03\x00\x00\x00\x00\x00\x00\xe0?\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x00\x00@\x03\x00\x00\x00\x00\x00\x80_@\x00\x00\x00\x00#\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00"\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00"\x00\x00\x00\x00\x00\x00\x00'
                }
                Enabled : 1
                Trigger : 1
            }
        }
        Component{
            ClassName : 'EntityAction'
            Identifier : 2
            EntityActionComponent{
                OnActivate{
                    String : $
local self = ...;

local invokeAnimation = 127;
local castAnimation = 132;

EntityController.SetMoveSpeed(self, 0);
KeyframeAnimation.SetCurrentTime(self, invokeAnimation, 0.0);
AnimationController.BlendToAnimation(self, invokeAnimation);

Skill.BeginCasting(self, "varimage_magic_bolt_ballistic", Vector3.New(EntityController.FacingDirection(self)*2, 10, 0):normalized());
Program.Wait(1);

KeyframeAnimation.SetCurrentTime(self, castAnimation, 0.0);
AnimationController.BlendToAnimation(self, castAnimation);

Program.Wait(KeyframeAnimation.TimeToFrame(self, castAnimation, 13));

Skill.FinishCasting(self);
Skill.BeginCasting(self, "varimage_magic_bolt_ballistic", Vector3.New(EntityController.FacingDirection(self)*-2, 10, 0):normalized());
Program.Wait(0.1);
Skill.FinishCasting(self);
Program.Wait(0.1);
Skill.BeginCasting(self, "varimage_magic_bolt_ballistic", Vector3.New(EntityController.FacingDirection(self)*4, 10, 0):normalized());
Skill.FinishCasting(self);
Program.Wait(KeyframeAnimation.TimeToCompletion(self, castAnimation));

EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00{\x04\x00\x00local self = ...;\r\n\r\nlocal invokeAnimation = 127;\r\nlocal castAnimation = 132;\r\n\r\nEntityController.SetMoveSpeed(self, 0);\r\nKeyframeAnimation.SetCurrentTime(self, invokeAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, invokeAnimation);\r\n\r\nSkill.BeginCasting(self, "varimage_magic_bolt_ballistic", Vector3.New(EntityController.FacingDirection(self)*2, 10, 0):normalized());\r\nProgram.Wait(1);\r\n\r\nKeyframeAnimation.SetCurrentTime(self, castAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, castAnimation);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, castAnimation, 13));\r\n\r\nSkill.FinishCasting(self);\r\nSkill.BeginCasting(self, "varimage_magic_bolt_ballistic", Vector3.New(EntityController.FacingDirection(self)*-2, 10, 0):normalized());\r\nProgram.Wait(0.1);\r\nSkill.FinishCasting(self);\r\nProgram.Wait(0.1);\r\nSkill.BeginCasting(self, "varimage_magic_bolt_ballistic", Vector3.New(EntityController.FacingDirection(self)*4, 10, 0):normalized());\r\nSkill.FinishCasting(self);\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, castAnimation));\r\n\r\nEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\n\x83\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x00\x01\x00\x00A\x01\x01\x00\xdc@\x80\x01\xc5@\x01\x00\xc6\x80\xc1\x01\x00\x01\x00\x00@\x01\x80\x00\x81\x01\x01\x00\xdc@\x00\x02\xc5\xc0\x01\x00\xc6\x00\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\xdc@\x80\x01\xc5@\x02\x00\xc6\x80\xc2\x01\x00\x01\x00\x00A\xc1\x02\x00\x85\x01\x03\x00\x86AC\x03\xc5\x81\x00\x00\xc6\x81\xc3\x03\x00\x02\x00\x00\xdc\x81\x00\x01\xce\xc1\xc3\x03\x01\x02\x04\x00A\x02\x01\x00\x9c\x81\x00\x02\x8bAD\x03\x9c\x01\x00\x01\xdc@\x00\x00\xc5\x80\x04\x00\xc6\xc0\xc4\x01\x01\x01\x05\x00\xdc@\x00\x01\xc5@\x01\x00\xc6\x80\xc1\x01\x00\x01\x00\x00@\x01\x00\x01\x81\x01\x01\x00\xdc@\x00\x02\xc5\xc0\x01\x00\xc6\x00\xc2\x01\x00\x01\x00\x00@\x01\x00\x01\xdc@\x80\x01\xc5\x80\x04\x00\xc6\xc0\xc4\x01\x05A\x01\x00\x06AE\x02@\x01\x00\x00\x80\x01\x00\x01\xc1\x81\x05\x00\x1c\x01\x00\x02\xdc@\x00\x00\xc5@\x02\x00\xc6\xc0\xc5\x01\x00\x01\x00\x00\xdc@\x00\x01\xc5@\x02\x00\xc6\x80\xc2\x01\x00\x01\x00\x00A\xc1\x02\x00\x85\x01\x03\x00\x86AC\x03\xc5\x81\x00\x00\xc6\x81\xc3\x03\x00\x02\x00\x00\xdc\x81\x00\x01\xce\x01\xc6\x03\x01\x02\x04\x00A\x02\x01\x00\x9c\x81\x00\x02\x8bAD\x03\x9c\x01\x00\x01\xdc@\x00\x00\xc5\x80\x04\x00\xc6\xc0\xc4\x01\x01A\x06\x00\xdc@\x00\x01\xc5@\x02\x00\xc6\xc0\xc5\x01\x00\x01\x00\x00\xdc@\x00\x01\xc5\x80\x04\x00\xc6\xc0\xc4\x01\x01A\x06\x00\xdc@\x00\x01\xc5@\x02\x00\xc6\x80\xc2\x01\x00\x01\x00\x00A\xc1\x02\x00\x85\x01\x03\x00\x86AC\x03\xc5\x81\x00\x00\xc6\x81\xc3\x03\x00\x02\x00\x00\xdc\x81\x00\x01\xce\x81\xc6\x03\x01\x02\x04\x00A\x02\x01\x00\x9c\x81\x00\x02\x8bAD\x03\x9c\x01\x00\x01\xdc@\x00\x00\xc5@\x02\x00\xc6\xc0\xc5\x01\x00\x01\x00\x00\xdc@\x00\x01\xc5\x80\x04\x00\xc6\xc0\xc4\x01\x05A\x01\x00\x06\xc1F\x02@\x01\x00\x00\x80\x01\x00\x01\x1c\x01\x80\x01\xdc@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x00\x01\x00\x00E\x81\x00\x00F\x01\xc7\x02\x80\x01\x00\x00\\\x01\x00\x01\xdc@\x00\x00\x1e\x00\x80\x00\x1d\x00\x00\x00\x03\x00\x00\x00\x00\x00\xc0_@\x03\x00\x00\x00\x00\x00\x80`@\x04\x11\x00\x00\x00EntityController\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x06\x00\x00\x00Skill\x00\x04\r\x00\x00\x00BeginCasting\x00\x04\x1e\x00\x00\x00varimage_magic_bolt_ballistic\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x04\x10\x00\x00\x00FacingDirection\x00\x03\x00\x00\x00\x00\x00\x00\x00@\x03\x00\x00\x00\x00\x00\x00$@\x04\x0b\x00\x00\x00normalized\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00*@\x04\x0e\x00\x00\x00FinishCasting\x00\x03\x00\x00\x00\x00\x00\x00\x00\xc0\x03\x9a\x99\x99\x99\x99\x99\xb9?\x03\x00\x00\x00\x00\x00\x00\x10@\x04\x11\x00\x00\x00TimeToCompletion\x00\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x00\x00\x00\x00\x83\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x82\x00\x00\x00\x10\x00\x00\x00invokeAnimation\x00\x02\x00\x00\x00\x82\x00\x00\x00\x0e\x00\x00\x00castAnimation\x00\x03\x00\x00\x00\x82\x00\x00\x00\x00\x00\x00\x00'
                }
            }
        }
        Component{
            ClassName : 'EntityInfo'
            Identifier : 3
            EntityInfoComponent{
                EntityClass : 'Sorcerer'
            }
        }
        Component{
            ClassName : 'Model'
            Identifier : 101
            ModelComponent{
                Name : 'varimage_red'
                YRotation : 1.5707963705062866
                EmissionFactor : 0.30000001192092896
                XRotation : 0.0
                ShatterColor{
                    R : 0.5529412031173706
                    G : 0.0
                    B : 0.0
                    A : 1.0
                }
                Origin{
                    X : 0.0
                    Y : 0.0
                    Z : 0.0
                }
                Transparent : 0
                DiffuseColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
            }
        }
        Component{
            ClassName : 'MonsterEntity'
            Identifier : 103
            EntityComponent{
                FacingDirection : 18446744073709551615
                PhysicsEnabled : 1
            }
            MonsterEntityComponent{
                OnKill{
                }
                OnHurt{
                    String : $
local self = ...;

local target = EntityController.Target(self);

if target ~= nil then 
    local targetDirection = 1;
    if (target:position() - self:position()):x() < 0 then targetDirection = -1; end

    EntityController.SetFacingDirection(self, targetDirection, 0.2);
    EntityController.SetMoveDirection(self, targetDirection, 0.7);

    Program.Wait(0.8);

    if EntityController.IsIdle(self) then
        EntityController.PerformAction(self, 126);
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xcc\x01\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nif target ~= nil then \r\n\tlocal targetDirection = 1;\r\n\tif (target:position() - self:position()):x() < 0 then targetDirection = -1; end\r\n\r\n\tEntityController.SetFacingDirection(self, targetDirection, 0.2);\r\n\tEntityController.SetMoveDirection(self, targetDirection, 0.7);\r\n\r\n\tProgram.Wait(0.8);\r\n\r\n\tif EntityController.IsIdle(self) then\r\n\t\tEntityController.PerformAction(self, 126);\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x07.\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01W\x80\xc0\x00\x16@\t\x80\x81\xc0\x00\x00\xcb\x00\xc1\x00\xdc\x80\x00\x01\x0b\x01A\x00\x1c\x81\x00\x01\xcd\x00\x81\x01\xcb@\xc1\x01\xdc\x80\x00\x01\x18\x80\xc1\x01\x16\x00\x00\x80\x81\xc0\x01\x00\xc5\x00\x00\x00\xc6\x00\xc2\x01\x00\x01\x00\x00@\x01\x00\x01\x81A\x02\x00\xdc@\x00\x02\xc5\x00\x00\x00\xc6\x80\xc2\x01\x00\x01\x00\x00@\x01\x00\x01\x81\xc1\x02\x00\xdc@\x00\x02\xc5\x00\x03\x00\xc6@\xc3\x01\x01\x81\x03\x00\xdc@\x00\x01\xc5\x00\x00\x00\xc6\xc0\xc3\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xda\x00\x00\x00\x16\x00\x01\x80\xc5\x00\x00\x00\xc6\x00\xc4\x01\x00\x01\x00\x00AA\x04\x00\xdc@\x80\x01\x1e\x00\x80\x00\x12\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x13\x00\x00\x00SetFacingDirection\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x11\x00\x00\x00SetMoveDirection\x00\x03ffffff\xe6?\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xe9?\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x80_@\x00\x00\x00\x00.\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00-\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00-\x00\x00\x00\x10\x00\x00\x00targetDirection\x00\x08\x00\x00\x00-\x00\x00\x00\x00\x00\x00\x00'
                }
                GivesExperience : 1
                DefaultDeathAnimation : 1
            }
        }
        Component{
            ClassName : 'EntityController'
            Identifier : 104
            EntityControllerComponent{
                EntityId : 103
                AnimationControllerId : 105
                DefaultMoveAnimationId : 112
                RoamAreaId : 117
                DefaultMoveSpeed : 100.0
                DefaultAcceleration : 1000.0
                TargetingDistance : 300.0
                MovementBehavior : 4
            }
        }
        Component{
            ClassName : 'AnimationController'
            Identifier : 105
            AnimationControllerComponent{
                ModelId : 101
                DefaultAnimationId : 0
                SelfUpdate : 0
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 106
            Label : 'main'
            ShapeComponent{
                Rectangle{
                    X : -26.0
                    Y : -0.8095080256462097
                    Width : 54.0
                    Height : 70.80950927734375
                }
            }
            CollisionShapeComponent{
                Collides : 1
                ReceivesDamage : 1
                InflictsDamage : 1
                MinDepth : -15.0
                MaxDepth : 15.0
                Enabled : 1
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 112
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'varimage_walk'
                Repeating : 1
                SpeedMultiplier : 1.2000000476837158
                Running : 1
            }
        }
        Component{
            ClassName : 'UtilityShape'
            Identifier : 117
            Label : 'roam'
            ShapeComponent{
                Rectangle{
                    X : -300.0
                    Y : -50.0
                    Width : 600.0
                    Height : 100.0
                }
            }
        }
        Component{
            ClassName : 'Damage'
            Identifier : 119
            DamageComponent{
                MinDamage : 1
                DamageType : 0
                SpecialDamageType : 0
                PhysicalDamageFactor : 1.0
                MagicDamageFactor : 0.0
                IgnoreTargetImmunity : 0
                CanBeBlocked : 1
            }
        }
        Component{
            ClassName : 'Health'
            Identifier : 120
            HealthComponent{
                MaxHealth : 10
                HEALTHTYPE : 0
                BarOffset{
                    X : 0.0
                    Y : 50.0
                }
            }
        }
        Component{
            ClassName : 'EntityAction'
            Identifier : 126
            EntityActionComponent{
                OnActivate{
                    String : $
local self = ...;

local invokeAnimation = 127;
local castAnimation = 132;

EntityController.SetMoveSpeed(self, 0);
KeyframeAnimation.SetCurrentTime(self, invokeAnimation, 0.0);
AnimationController.BlendToAnimation(self, invokeAnimation);

Skill.BeginCasting(self, "varimage_magic_bolt", Vector3.New(EntityController.FacingDirection(self), 0, 0));
Program.Wait(1);

KeyframeAnimation.SetCurrentTime(self, castAnimation, 0.0);
AnimationController.BlendToAnimation(self, castAnimation);

Program.Wait(KeyframeAnimation.TimeToFrame(self, castAnimation, 13));

Skill.FinishCasting(self);
Skill.BeginCasting(self, "varimage_magic_bolt", Vector3.New(EntityController.FacingDirection(self), 0.2, 0):normalized());
Program.Wait(0.1);
Skill.FinishCasting(self);

Program.Wait(KeyframeAnimation.TimeToCompletion(self, castAnimation));

EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xa0\x03\x00\x00local self = ...;\r\n\r\nlocal invokeAnimation = 127;\r\nlocal castAnimation = 132;\r\n\r\nEntityController.SetMoveSpeed(self, 0);\r\nKeyframeAnimation.SetCurrentTime(self, invokeAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, invokeAnimation);\r\n\r\nSkill.BeginCasting(self, "varimage_magic_bolt", Vector3.New(EntityController.FacingDirection(self), 0, 0));\r\nProgram.Wait(1);\r\n\r\nKeyframeAnimation.SetCurrentTime(self, castAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, castAnimation);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, castAnimation, 13));\r\n\r\nSkill.FinishCasting(self);\r\nSkill.BeginCasting(self, "varimage_magic_bolt", Vector3.New(EntityController.FacingDirection(self), 0.2, 0):normalized());\r\nProgram.Wait(0.1);\r\nSkill.FinishCasting(self);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, castAnimation));\r\n\r\nEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\nf\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x00\x01\x00\x00A\x01\x01\x00\xdc@\x80\x01\xc5@\x01\x00\xc6\x80\xc1\x01\x00\x01\x00\x00@\x01\x80\x00\x81\x01\x01\x00\xdc@\x00\x02\xc5\xc0\x01\x00\xc6\x00\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\xdc@\x80\x01\xc5@\x02\x00\xc6\x80\xc2\x01\x00\x01\x00\x00A\xc1\x02\x00\x85\x01\x03\x00\x86AC\x03\xc5\x81\x00\x00\xc6\x81\xc3\x03\x00\x02\x00\x00\xdc\x81\x00\x01\x01\x02\x01\x00A\x02\x01\x00\x9c\x01\x00\x02\xdc@\x00\x00\xc5\xc0\x03\x00\xc6\x00\xc4\x01\x01A\x04\x00\xdc@\x00\x01\xc5@\x01\x00\xc6\x80\xc1\x01\x00\x01\x00\x00@\x01\x00\x01\x81\x01\x01\x00\xdc@\x00\x02\xc5\xc0\x01\x00\xc6\x00\xc2\x01\x00\x01\x00\x00@\x01\x00\x01\xdc@\x80\x01\xc5\xc0\x03\x00\xc6\x00\xc4\x01\x05A\x01\x00\x06\x81D\x02@\x01\x00\x00\x80\x01\x00\x01\xc1\xc1\x04\x00\x1c\x01\x00\x02\xdc@\x00\x00\xc5@\x02\x00\xc6\x00\xc5\x01\x00\x01\x00\x00\xdc@\x00\x01\xc5@\x02\x00\xc6\x80\xc2\x01\x00\x01\x00\x00A\xc1\x02\x00\x85\x01\x03\x00\x86AC\x03\xc5\x81\x00\x00\xc6\x81\xc3\x03\x00\x02\x00\x00\xdc\x81\x00\x01\x01B\x05\x00A\x02\x01\x00\x9c\x81\x00\x02\x8b\x81E\x03\x9c\x01\x00\x01\xdc@\x00\x00\xc5\xc0\x03\x00\xc6\x00\xc4\x01\x01\xc1\x05\x00\xdc@\x00\x01\xc5@\x02\x00\xc6\x00\xc5\x01\x00\x01\x00\x00\xdc@\x00\x01\xc5\xc0\x03\x00\xc6\x00\xc4\x01\x05A\x01\x00\x06\x01F\x02@\x01\x00\x00\x80\x01\x00\x01\x1c\x01\x80\x01\xdc@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x00\x01\x00\x00E\x81\x00\x00FA\xc6\x02\x80\x01\x00\x00\\\x01\x00\x01\xdc@\x00\x00\x1e\x00\x80\x00\x1a\x00\x00\x00\x03\x00\x00\x00\x00\x00\xc0_@\x03\x00\x00\x00\x00\x00\x80`@\x04\x11\x00\x00\x00EntityController\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x06\x00\x00\x00Skill\x00\x04\r\x00\x00\x00BeginCasting\x00\x04\x14\x00\x00\x00varimage_magic_bolt\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x04\x10\x00\x00\x00FacingDirection\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00*@\x04\x0e\x00\x00\x00FinishCasting\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x0b\x00\x00\x00normalized\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x11\x00\x00\x00TimeToCompletion\x00\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x00\x00\x00\x00f\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00e\x00\x00\x00\x10\x00\x00\x00invokeAnimation\x00\x02\x00\x00\x00e\x00\x00\x00\x0e\x00\x00\x00castAnimation\x00\x03\x00\x00\x00e\x00\x00\x00\x00\x00\x00\x00'
                }
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 127
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'varimage_invoke'
                Repeating : 1
                SpeedMultiplier : 1.0
                Running : 1
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 132
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'varimage_cast'
                Repeating : 0
                SpeedMultiplier : 1.0
                Running : 1
            }
        }
        Component{
            ClassName : 'Skill'
            Identifier : 136
            SkillComponent{
                CastFinishAnimationId : 0
                Origin{
                    X : 80.0
                    Y : 30.0
                }
                CastObjectTemplateName : 'varimage_spell_cast'
            }
        }
        Position{
            X : 0.0
            Y : 0.0
        }
        Depth : 0.0
        Rotation : 0.0
        Scaling : 1.0
        LocalAabb{
            X : -26.0
            Y : -0.8095080256462097
            Width : 54.0
            Height : 70.80950927734375
        }
        Hidden : 0
    }
    Scaling : 1.0
}
Template{
    Object{
        Identifier : 'varimage_spell_cast'
        Component{
            ClassName : 'SimpleGlow'
            Identifier : 1
            SimpleGlowComponent{
                Color{
                    R : 1.0
                    G : 0.16666662693023682
                    B : 0.1666669249534607
                    A : 0.5
                }
                Size : 20.0
                NumSegments : 10
                Depth : 15.0
                PulseAmount : 0.15000000596046448
                PulseTime : 0.800000011920929
                Offset{
                    X : 0.0
                    Y : 0.0
                }
            }
        }
        Component{
            ClassName : 'MagicSpellCast'
            Identifier : 2
            MagicSpellCastComponent{
                ParticleEmitterId : 102
                SoundEffectId : 0
            }
        }
        Component{
            ClassName : 'ParticleEmitter'
            Identifier : 102
            ParticleEmitterComponent{
                ParticleId : 103
                ParticleId : 104
                ParticleId : 105
                ModelBindingId : 0
                MaxParticles : 30
                ParentEmitterId : 0
                DestroyWhenFinished : 0
                LocalSystem : 0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 103
            ParticleComponent{
                TextureName : 'particle_fure_1'
                Size : 40.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 104
            ParticleComponent{
                TextureName : 'particle_fure_2'
                Size : 40.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 105
            ParticleComponent{
                TextureName : 'particle_fure_3'
                Size : 40.0
            }
        }
        Position{
            X : 0.0
            Y : 0.0
        }
        Depth : 0.0
        Rotation : 0.0
        Scaling : 1.0
        LocalAabb{
            X : -20.0
            Y : -20.0
            Width : 40.0
            Height : 40.0
        }
        Hidden : 0
    }
    Scaling : 2.0
}
