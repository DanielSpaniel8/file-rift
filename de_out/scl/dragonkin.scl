# rifted with FR v5.7.0

Name : 'dragonkin'
Template{
    Object{
        Identifier : 'corrupted_bat'
        Component{
            ClassName : 'EntityInfo'
            Identifier : 1
            EntityInfoComponent{
                EntityClass : 'corruptor'
            }
        }
        Component{
            ClassName : 'Model'
            Identifier : 101
            ModelComponent{
                Name : 'bat_black'
                YRotation : 1.5707963705062866
                EmissionFactor : 0.699999988079071
                XRotation : 0.0
                ShatterColor{
                    R : 0.0
                    G : 0.0
                    B : 0.0
                    A : 1.0
                }
                Origin{
                    X : 0.0
                    Y : 0.0
                    Z : 0.0
                }
                Transparent : 0
                DiffuseColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 103
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'bat_fly'
                Repeating : 1
                SpeedMultiplier : 2.0
                Running : 1
            }
        }
        Component{
            ClassName : 'AnimationController'
            Identifier : 105
            AnimationControllerComponent{
                ModelId : 101
                DefaultAnimationId : 0
                SelfUpdate : 0
            }
        }
        Component{
            ClassName : 'MonsterEntity'
            Identifier : 107
            EntityComponent{
                FacingDirection : 18446744073709551615
                PhysicsEnabled : 0
            }
            MonsterEntityComponent{
                OnKill{
                }
                OnHurt{
                }
                GivesExperience : 1
                DefaultDeathAnimation : 1
            }
        }
        Component{
            ClassName : 'Damage'
            Identifier : 111
            DamageComponent{
                MinDamage : 1
                DamageType : 0
                SpecialDamageType : 0
                PhysicalDamageFactor : 1.0
                MagicDamageFactor : 0.0
                IgnoreTargetImmunity : 0
                CanBeBlocked : 1
            }
        }
        Component{
            ClassName : 'Health'
            Identifier : 113
            HealthComponent{
                MaxHealth : 1
                HEALTHTYPE : 0
                BarOffset{
                    X : 0.0
                    Y : 50.0
                }
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 115
            ShapeComponent{
                Rectangle{
                    X : -20.0
                    Y : -7.7837300300598145
                    Width : 40.0
                    Height : 42.783729553222656
                }
            }
            CollisionShapeComponent{
                Collides : 1
                ReceivesDamage : 1
                InflictsDamage : 1
                MinDepth : -15.0
                MaxDepth : 15.0
                OnCollide{
                    String : $
local self, collidedObject, collisionNormal, groundCollision = ...;

if groundCollision then
    self:setVelocity(self:velocity() - collisionNormal*(2 * self:velocity():dot(collisionNormal)));
    if self:velocity():length() < 250 then
        self:setVelocity(self:velocity():normalized()*250);
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00,\x01\x00\x00local self, collidedObject, collisionNormal, groundCollision = ...;\r\n\r\nif groundCollision then\r\n\tself:setVelocity(self:velocity() - collisionNormal*(2 * self:velocity():dot(collisionNormal)));\r\n\tif self:velocity():length() < 250 then\r\n\t\tself:setVelocity(self:velocity():normalized()*250);\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\n\x1d\x00\x00\x00%\x00\x80\x02\xda\x00\x00\x00\x16\x00\x06\x80\x0b\x01@\x00\x8bA@\x00\x9c\x81\x00\x01\xcbA@\x00\xdc\x81\x00\x01\xcb\x81\xc0\x03@\x02\x00\x01\xdc\x81\x80\x01\xce\xc1\x81\x81\xce\xc1\x01\x01\x8d\xc1\x01\x03\x1cA\x80\x01\x0bA@\x00\x1c\x81\x00\x01\x0b\x01A\x02\x1c\x81\x00\x01\x18@A\x02\x16\x80\x01\x80\x0b\x01@\x00\x8bA@\x00\x9c\x81\x00\x01\x8b\x81A\x03\x9c\x81\x00\x01\x8eAA\x03\x1cA\x80\x01\x1e\x00\x80\x00\x07\x00\x00\x00\x04\x0c\x00\x00\x00setVelocity\x00\x04\t\x00\x00\x00velocity\x00\x04\x04\x00\x00\x00dot\x00\x03\x00\x00\x00\x00\x00\x00\x00@\x04\x07\x00\x00\x00length\x00\x03\x00\x00\x00\x00\x00@o@\x04\x0b\x00\x00\x00normalized\x00\x00\x00\x00\x00\x1d\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x1c\x00\x00\x00\x0f\x00\x00\x00collidedObject\x00\x01\x00\x00\x00\x1c\x00\x00\x00\x10\x00\x00\x00collisionNormal\x00\x01\x00\x00\x00\x1c\x00\x00\x00\x10\x00\x00\x00groundCollision\x00\x01\x00\x00\x00\x1c\x00\x00\x00\x00\x00\x00\x00'
                }
                Enabled : 1
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 118
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'bat_attack'
                Repeating : 0
                SpeedMultiplier : 1.0
                Running : 1
            }
        }
        Component{
            ClassName : 'EntityController'
            Identifier : 119
            EntityControllerComponent{
                EntityId : 107
                AnimationControllerId : 105
                DefaultMoveAnimationId : 103
                RoamAreaId : 115
                DefaultMoveSpeed : 100.0
                DefaultAcceleration : 800.0
                TargetingDistance : 1000.0
                MovementBehavior : 1
            }
        }
        Component{
            ClassName : 'Program'
            Identifier : 122
            ProgramComponent{
                ExecuteOnce : 1
                Program{
                    String : $
local self = ...;

local function ShouldAttack()
    if EntityController.Target(self) == nil then 
        return false; 
    end

    return (EntityController.Target(self):position() - self:position()):length() < 400;
end

local targetPosition = self:position();

local timeSinceAttack = 3;

while true do
    Program.Wait(0.2);
    timeSinceAttack = timeSinceAttack + 0.2;
    local target = EntityController.Target(self);

    if EntityController.IsIdle(self) then    

        if target ~= nil then
            EntityController.SetFacingDirection(self, 
                DirectionToTargetFromPosition(EntityController.Target(self):position(), self:position()));
        end

        local delta = targetPosition - self:position();

        PhysicsObject.SetGravityDirection(self, delta:normalized());
        PhysicsObject.SetGravityMagnitude(self, 0.5);
        PhysicsObject.SetDecelerationForce(self, 2);


        if  target ~= nil then
            targetPosition = target:position();
        end

    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xb0\x03\x00\x00local self = ...;\r\n\r\nlocal function ShouldAttack()\r\n\tif EntityController.Target(self) == nil then \r\n\t\treturn false; \r\n\tend\r\n\r\n\treturn (EntityController.Target(self):position() - self:position()):length() < 400;\r\nend\r\n\r\nlocal targetPosition = self:position();\r\n\r\nlocal timeSinceAttack = 3;\r\n\r\nwhile true do\r\n\tProgram.Wait(0.2);\r\n\ttimeSinceAttack = timeSinceAttack + 0.2;\r\n\tlocal target = EntityController.Target(self);\r\n\r\n\tif EntityController.IsIdle(self) then\t\r\n\r\n\t\tif target ~= nil then\r\n\t\t\tEntityController.SetFacingDirection(self, \r\n\t\t\t\tDirectionToTargetFromPosition(EntityController.Target(self):position(), self:position()));\r\n\t\tend\r\n\r\n\t\tlocal delta = targetPosition - self:position();\r\n\r\n\t\tPhysicsObject.SetGravityDirection(self, delta:normalized());\r\n\t\tPhysicsObject.SetGravityMagnitude(self, 0.5);\r\n\t\tPhysicsObject.SetDecelerationForce(self, 2);\r\n\r\n\r\n\t\tif  target ~= nil then\r\n\t\t\ttargetPosition = target:position();\r\n\t\tend\r\n\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x0b?\x00\x00\x00%\x00\x00\x01d\x00\x00\x00\x00\x00\x00\x00\x8b\x00@\x00\x9c\x80\x00\x01\xc1@\x00\x00\x05\x81\x00\x00\x06\xc1@\x02A\x01\x01\x00\x1cA\x00\x01\xcc\x00\xc1\x01\x05A\x01\x00\x06\x81A\x02@\x01\x00\x00\x1c\x81\x00\x01EA\x01\x00F\xc1\xc1\x02\x80\x01\x00\x00\\\x81\x00\x01Z\x01\x00\x00\x16\x00\xfc\x7fW\x00B\x02\x16@\x03\x80EA\x01\x00FA\xc2\x02\x80\x01\x00\x00\xc5\x81\x02\x00\x05B\x01\x00\x06\x82A\x04@\x02\x00\x00\x1c\x82\x00\x01\x0b\x02@\x04\x1c\x82\x00\x01K\x02@\x00\\\x02\x00\x01\xdc\x01\x00\x00\\A\x00\x00K\x01@\x00\\\x81\x00\x01MA\x01\x01\x85\xc1\x02\x00\x86\x01C\x03\xc0\x01\x00\x00\x0bB\xc3\x02\x1c\x02\x00\x01\x9cA\x00\x00\x85\xc1\x02\x00\x86\x81C\x03\xc0\x01\x00\x00\x01\xc2\x03\x00\x9cA\x80\x01\x85\xc1\x02\x00\x86\x01D\x03\xc0\x01\x00\x00\x01B\x04\x00\x9cA\x80\x01W\x00B\x02\x16\xc0\xf2\x7f\x8b\x01@\x02\x9c\x81\x00\x01\x80\x00\x00\x03\x16\xc0\xf1\x7f\x1e\x00\x80\x00\x12\x00\x00\x00\x04\t\x00\x00\x00position\x00\x03\x00\x00\x00\x00\x00\x00\x08@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x07\x00\x00\x00IsIdle\x00\x00\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\x1e\x00\x00\x00DirectionToTargetFromPosition\x00\x04\x0e\x00\x00\x00PhysicsObject\x00\x04\x14\x00\x00\x00SetGravityDirection\x00\x04\x0b\x00\x00\x00normalized\x00\x04\x14\x00\x00\x00SetGravityMagnitude\x00\x03\x00\x00\x00\x00\x00\x00\xe0?\x04\x15\x00\x00\x00SetDecelerationForce\x00\x03\x00\x00\x00\x00\x00\x00\x00@\x01\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\t\x00\x00\x00\x01\x00\x00\x03\x1a\x00\x00\x00\x05\x00\x00\x00\x06@@\x00D\x00\x00\x00\x1c\x80\x00\x01\x17\x80@\x00\x16@\x00\x80\x02\x00\x00\x00\x1e\x00\x00\x01\x05\x00\x00\x00\x06@@\x00D\x00\x00\x00\x1c\x80\x00\x01\x0b\xc0@\x00\x1c\x80\x00\x01D\x00\x00\x00K\xc0\xc0\x00\\\x80\x00\x01\r@\x00\x00\x0b\x00A\x00\x1c\x80\x00\x01X@A\x00\x16\x00\x00\x80\x02@\x00\x00\x02\x00\x80\x00\x1e\x00\x00\x01\x1e\x00\x80\x00\x06\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x00\x04\t\x00\x00\x00position\x00\x04\x07\x00\x00\x00length\x00\x03\x00\x00\x00\x00\x00\x00y@\x00\x00\x00\x00\x1a\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x05\x00\x00\x00self\x00?\x00\x00\x00\x01\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x17\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00"\x00\x00\x00"\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00&\x00\x00\x00\'\x00\x00\x00\x06\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00>\x00\x00\x00\r\x00\x00\x00ShouldAttack\x00\x03\x00\x00\x00>\x00\x00\x00\x0f\x00\x00\x00targetPosition\x00\x05\x00\x00\x00>\x00\x00\x00\x10\x00\x00\x00timeSinceAttack\x00\x06\x00\x00\x00>\x00\x00\x00\x07\x00\x00\x00target\x00\x0f\x00\x00\x00=\x00\x00\x00\x06\x00\x00\x00delta\x00(\x00\x00\x00=\x00\x00\x00\x00\x00\x00\x00'
                }
                Enabled : 1
                Trigger : 1
            }
        }
        Component{
            ClassName : 'PhysicsObject'
            Identifier : 125
            PhysicsObjectComponent{
                PhysicsEnabled : 1
                GroundDeceleration : 1500.0
                AirDeceleration : 0.0
                MaxSpeed : 700.0
                AllowRotation : 0
                Elasticity : 0.0
            }
        }
        Component{
            ClassName : 'EntityAction'
            Identifier : 128
            Label : 'attack'
            EntityActionComponent{
                OnActivate{
                    String : $
local self = ...;

local attackAnimation = 118;

PhysicsObject.SetGravityMagnitude(self, 0);
PhysicsObject.SetDecelerationForce(self, 0);

self:setVelocity(Vector3.New(0, 0, 0));
AnimationController.BlendToAnimation(self, attackAnimation);

Program.Wait(0.5);

local speed = 550;

local delta = (EntityController.Target(self):position() - self:position());
self:setVelocity(delta:normalized() * speed);

Program.Wait(0.9 * delta:length() / speed);

$end
                    Bytes : "\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xd3\x01\x00\x00local self = ...;\r\n\r\nlocal attackAnimation = 118;\r\n\r\nPhysicsObject.SetGravityMagnitude(self, 0);\r\nPhysicsObject.SetDecelerationForce(self, 0);\r\n\r\nself:setVelocity(Vector3.New(0, 0, 0));\r\nAnimationController.BlendToAnimation(self, attackAnimation);\r\n\r\nProgram.Wait(0.5);\r\n\r\nlocal speed = 550;\r\n\r\nlocal delta = (EntityController.Target(self):position() - self:position());\r\nself:setVelocity(delta:normalized() * speed);\r\n\r\nProgram.Wait(0.9 * delta:length() / speed);\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x084\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x85@\x00\x00\x86\x80@\x01\xc0\x00\x00\x00\x01\xc1\x00\x00\x9c@\x80\x01\x85@\x00\x00\x86\x00A\x01\xc0\x00\x00\x00\x01\xc1\x00\x00\x9c@\x80\x01\x8b@A\x00\x05\x81\x01\x00\x06\xc1A\x02A\xc1\x00\x00\x81\xc1\x00\x00\xc1\xc1\x00\x00\x1c\x01\x00\x02\x9c@\x00\x00\x85\x00\x02\x00\x86@B\x01\xc0\x00\x00\x00\x00\x01\x80\x00\x9c@\x80\x01\x85\x80\x02\x00\x86\xc0B\x01\xc1\x00\x03\x00\x9c@\x00\x01\x81@\x03\x00\xc5\x80\x03\x00\xc6\xc0\xc3\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xcb\x00\xc4\x01\xdc\x80\x00\x01\x0b\x01D\x00\x1c\x81\x00\x01\xcd\x00\x81\x01\x0bAA\x00\x8bA\xc4\x01\x9c\x81\x00\x01\x8e\x81\x00\x03\x1cA\x80\x01\x05\x81\x02\x00\x06\xc1B\x02K\x81\xc4\x01\\\x81\x00\x01NA\x81\x89O\x81\x80\x02\x1cA\x00\x01\x1e\x00\x80\x00\x14\x00\x00\x00\x03\x00\x00\x00\x00\x00\x80]@\x04\x0e\x00\x00\x00PhysicsObject\x00\x04\x14\x00\x00\x00SetGravityMagnitude\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x15\x00\x00\x00SetDecelerationForce\x00\x04\x0c\x00\x00\x00setVelocity\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x00\x00\x00\x00\x00\x00\xe0?\x03\x00\x00\x00\x00\x000\x81@\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\t\x00\x00\x00position\x00\x04\x0b\x00\x00\x00normalized\x00\x04\x07\x00\x00\x00length\x00\x03\xcd\xcc\xcc\xcc\xcc\xcc\xec?\x00\x00\x00\x004\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x003\x00\x00\x00\x10\x00\x00\x00attackAnimation\x00\x02\x00\x00\x003\x00\x00\x00\x06\x00\x00\x00speed\x00\x1e\x00\x00\x003\x00\x00\x00\x06\x00\x00\x00delta\x00'\x00\x00\x003\x00\x00\x00\x00\x00\x00\x00"
                }
            }
        }
        Component{
            ClassName : 'SimpleGlow'
            Identifier : 132
            SimpleGlowComponent{
                Color{
                    R : 0.5
                    G : 0.5
                    B : 0.5
                    A : 0.5
                }
                Size : 30.0
                NumSegments : 10
                Depth : 15.0
                PulseAmount : 0.15000000596046448
                PulseTime : 0.800000011920929
                Offset{
                    X : 0.0
                    Y : 10.0
                }
            }
        }
        Component{
            ClassName : 'ParticleEmitter'
            Identifier : 133
            ParticleEmitterComponent{
                ParticleId : 134
                ParticleId : 135
                ParticleId : 136
                ModelBindingId : 0
                MaxParticles : 30
                ParentEmitterId : 0
                DestroyWhenFinished : 0
                Emitter{
                    Type : 5
                    BaseColor{
                        R : 0.17777779698371887
                        G : 0.17777779698371887
                        B : 0.46666666865348816
                        A : 0.0
                    }
                    Parameter : 90.0
                    Parameter : 360.0
                    Parameter : 0.0
                    Parameter : 0.0
                    Parameter : 0.0
                    Parameter : 70.0
                    Parameter : 0.20000000298023224
                    Parameter : 0.0
                    Parameter : 1.0
                    Parameter : 0.5
                    Parameter : 1.0
                    Parameter : 0.029999999329447746
                    Parameter : 0.30000001192092896
                    Parameter : 0.20000000298023224
                    Parameter : 0.0
                    HueVariance : 0.0
                    SaturationVariance : 0.0
                    LightnessVariance : 0.0
                    OriginOffset{
                        X : 0.0
                        Y : 0.0
                        Z : 0.0
                    }
                }
                LocalSystem : 0
                Gravity{
                    X : 0.0
                    Y : 800.0
                    Z : 0.0
                }
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 134
            ParticleComponent{
                TextureName : 'particle_fure_1'
                Size : 40.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 135
            ParticleComponent{
                TextureName : 'particle_fure_2'
                Size : 30.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 136
            ParticleComponent{
                TextureName : 'particle_fure_3'
                Size : 20.0
            }
        }
        Position{
            X : 0.0
            Y : 0.0
        }
        Depth : 0.0
        Rotation : 0.0
        Scaling : 1.0
        LocalAabb{
            X : -30.0
            Y : -30.0
            Width : 60.0
            Height : 65.0
        }
        Hidden : 0
    }
    Scaling : 1.0
}
Template{
    Object{
        Identifier : 'corrupted_bug'
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 1
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'snowbug_jump'
                Repeating : 0
                SpeedMultiplier : 1.0
                Running : 1
            }
        }
        Component{
            ClassName : 'EntityAction'
            Identifier : 2
            EntityActionComponent{
                OnActivate{
                    String : $
local self = ...;

local target = EntityController.Target(self);

local jumpAnimation = 1;

EntityController.SetMovementBehavior(self, "none");    

local targetDirection = 1;
if target:position():x() - self:position():x()  < 0 then targetDirection = -1; end

EntityController.SetFacingDirection(self, targetDirection);

EntityController.SetMoveDirection(self, targetDirection);    
EntityController.SetMoveSpeed(self, 0);

KeyframeAnimation.SetCurrentTime(self, jumpAnimation, 0.0);
AnimationController.BlendToAnimation(self, jumpAnimation);
        
EntityController.SetAcceleration(self, 50, false);
self:setVelocity(Vector3.New(targetDirection*350,300,0));

Program.Wait(0.6);

EntityController.SetAcceleration(self, 800, false);

EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));

Program.Wait(0.2);

EntityController.SetMovementBehavior(self, "follow");



$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x90\x03\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nlocal jumpAnimation = 1;\r\n\r\nEntityController.SetMovementBehavior(self, "none");\t\r\n\r\nlocal targetDirection = 1;\r\nif target:position():x() - self:position():x()  < 0 then targetDirection = -1; end\r\n\r\nEntityController.SetFacingDirection(self, targetDirection);\r\n\r\nEntityController.SetMoveDirection(self, targetDirection);\t\r\nEntityController.SetMoveSpeed(self, 0);\r\n\r\nKeyframeAnimation.SetCurrentTime(self, jumpAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, jumpAnimation);\r\n\t\t\r\nEntityController.SetAcceleration(self, 50, false);\r\nself:setVelocity(Vector3.New(targetDirection*350,300,0));\r\n\r\nProgram.Wait(0.6);\r\n\r\nEntityController.SetAcceleration(self, 800, false);\r\n\r\nEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\r\n\r\nProgram.Wait(0.2);\r\n\r\nEntityController.SetMovementBehavior(self, "follow");\r\n\r\n\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\n\\\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x81\x80\x00\x00\xc5\x00\x00\x00\xc6\xc0\xc0\x01\x00\x01\x00\x00A\x01\x01\x00\xdc@\x80\x01\xc1\x80\x00\x00\x0bA\xc1\x00\x1c\x81\x00\x01\x0b\x81A\x02\x1c\x81\x00\x01KAA\x00\\\x81\x00\x01K\x81\xc1\x02\\\x81\x00\x01\rA\x01\x02\x18\xc0A\x02\x16\x00\x00\x80\xc1\x00\x02\x00\x05\x01\x00\x00\x06AB\x02@\x01\x00\x00\x80\x01\x80\x01\x1cA\x80\x01\x05\x01\x00\x00\x06\x81B\x02@\x01\x00\x00\x80\x01\x80\x01\x1cA\x80\x01\x05\x01\x00\x00\x06\xc1B\x02@\x01\x00\x00\x81\xc1\x01\x00\x1cA\x80\x01\x05\x01\x03\x00\x06AC\x02@\x01\x00\x00\x80\x01\x00\x01\xc1\xc1\x01\x00\x1cA\x00\x02\x05\x81\x03\x00\x06\xc1C\x02@\x01\x00\x00\x80\x01\x00\x01\x1cA\x80\x01\x05\x01\x00\x00\x06\x01D\x02@\x01\x00\x00\x81A\x04\x00\xc2\x01\x00\x00\x1cA\x00\x02\x0b\x81D\x00\x85\xc1\x04\x00\x86\x01E\x03\xceA\xc5\x01\x01\x82\x05\x00A\xc2\x01\x00\x9c\x01\x00\x02\x1cA\x00\x00\x05\xc1\x05\x00\x06\x01F\x02AA\x06\x00\x1cA\x00\x01\x05\x01\x00\x00\x06\x01D\x02@\x01\x00\x00\x81\x81\x06\x00\xc2\x01\x00\x00\x1cA\x00\x02\x05\x01\x00\x00\x06\xc1B\x02@\x01\x00\x00\x85\x01\x00\x00\x86\xc1F\x03\xc0\x01\x00\x00\x9c\x01\x00\x01\x1cA\x00\x00\x05\xc1\x05\x00\x06\x01F\x02A\x01\x07\x00\x1cA\x00\x01\x05\x01\x00\x00\x06\xc1@\x02@\x01\x00\x00\x81A\x07\x00\x1cA\x80\x01\x1e\x00\x80\x00\x1e\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\x14\x00\x00\x00SetMovementBehavior\x00\x04\x05\x00\x00\x00none\x00\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\x11\x00\x00\x00SetMoveDirection\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x10\x00\x00\x00SetAcceleration\x00\x03\x00\x00\x00\x00\x00\x00I@\x04\x0c\x00\x00\x00setVelocity\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\xe0u@\x03\x00\x00\x00\x00\x00\xc0r@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03333333\xe3?\x03\x00\x00\x00\x00\x00\x00\x89@\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x07\x00\x00\x00follow\x00\x00\x00\x00\x00\\\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00[\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00[\x00\x00\x00\x0e\x00\x00\x00jumpAnimation\x00\x06\x00\x00\x00[\x00\x00\x00\x10\x00\x00\x00targetDirection\x00\x0c\x00\x00\x00[\x00\x00\x00\x00\x00\x00\x00'
                }
            }
        }
        Component{
            ClassName : 'EntityAction'
            Identifier : 3
            EntityActionComponent{
                OnActivate{
                    String : $
local self = ...;

local target = EntityController.Target(self);

local attackAnimation = 4;

EntityController.SetMovementBehavior(self, "none");    

local targetDirection = 1;
if target:position():x() - self:position():x()  < 0 then targetDirection = -1; end

EntityController.SetFacingDirection(self, targetDirection);

EntityController.SetMoveDirection(self, targetDirection);    
EntityController.SetMoveSpeed(self, 0);

KeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);
AnimationController.BlendToAnimation(self, attackAnimation);
        
EntityController.SetAcceleration(self, 50, false);
self:setVelocity(Vector3.New(targetDirection*100,100,0));

Program.Wait(0.5);

EntityController.SetAcceleration(self, 800, false);

EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));

Program.Wait(0.1);

EntityController.SetMovementBehavior(self, "fight");



$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x95\x03\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nlocal attackAnimation = 4;\r\n\r\nEntityController.SetMovementBehavior(self, "none");\t\r\n\r\nlocal targetDirection = 1;\r\nif target:position():x() - self:position():x()  < 0 then targetDirection = -1; end\r\n\r\nEntityController.SetFacingDirection(self, targetDirection);\r\n\r\nEntityController.SetMoveDirection(self, targetDirection);\t\r\nEntityController.SetMoveSpeed(self, 0);\r\n\r\nKeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, attackAnimation);\r\n\t\t\r\nEntityController.SetAcceleration(self, 50, false);\r\nself:setVelocity(Vector3.New(targetDirection*100,100,0));\r\n\r\nProgram.Wait(0.5);\r\n\r\nEntityController.SetAcceleration(self, 800, false);\r\n\r\nEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\r\n\r\nProgram.Wait(0.1);\r\n\r\nEntityController.SetMovementBehavior(self, "fight");\r\n\r\n\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\n\\\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x81\x80\x00\x00\xc5\x00\x00\x00\xc6\xc0\xc0\x01\x00\x01\x00\x00A\x01\x01\x00\xdc@\x80\x01\xc1@\x01\x00\x0b\x81\xc1\x00\x1c\x81\x00\x01\x0b\xc1A\x02\x1c\x81\x00\x01K\x81A\x00\\\x81\x00\x01K\xc1\xc1\x02\\\x81\x00\x01\rA\x01\x02\x18\x00B\x02\x16\x00\x00\x80\xc1@\x02\x00\x05\x01\x00\x00\x06\x81B\x02@\x01\x00\x00\x80\x01\x80\x01\x1cA\x80\x01\x05\x01\x00\x00\x06\xc1B\x02@\x01\x00\x00\x80\x01\x80\x01\x1cA\x80\x01\x05\x01\x00\x00\x06\x01C\x02@\x01\x00\x00\x81\x01\x02\x00\x1cA\x80\x01\x05A\x03\x00\x06\x81C\x02@\x01\x00\x00\x80\x01\x00\x01\xc1\x01\x02\x00\x1cA\x00\x02\x05\xc1\x03\x00\x06\x01D\x02@\x01\x00\x00\x80\x01\x00\x01\x1cA\x80\x01\x05\x01\x00\x00\x06AD\x02@\x01\x00\x00\x81\x81\x04\x00\xc2\x01\x00\x00\x1cA\x00\x02\x0b\xc1D\x00\x85\x01\x05\x00\x86AE\x03\xce\x81\xc5\x01\x01\x82\x05\x00A\x02\x02\x00\x9c\x01\x00\x02\x1cA\x00\x00\x05\xc1\x05\x00\x06\x01F\x02AA\x06\x00\x1cA\x00\x01\x05\x01\x00\x00\x06AD\x02@\x01\x00\x00\x81\x81\x06\x00\xc2\x01\x00\x00\x1cA\x00\x02\x05\x01\x00\x00\x06\x01C\x02@\x01\x00\x00\x85\x01\x00\x00\x86\xc1F\x03\xc0\x01\x00\x00\x9c\x01\x00\x01\x1cA\x00\x00\x05\xc1\x05\x00\x06\x01F\x02A\x01\x07\x00\x1cA\x00\x01\x05\x01\x00\x00\x06\xc1@\x02@\x01\x00\x00\x81A\x07\x00\x1cA\x80\x01\x1e\x00\x80\x00\x1e\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x03\x00\x00\x00\x00\x00\x00\x10@\x04\x14\x00\x00\x00SetMovementBehavior\x00\x04\x05\x00\x00\x00none\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\x11\x00\x00\x00SetMoveDirection\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x10\x00\x00\x00SetAcceleration\x00\x03\x00\x00\x00\x00\x00\x00I@\x04\x0c\x00\x00\x00setVelocity\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\x00Y@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x00\x00\x00\x00\x00\x00\xe0?\x03\x00\x00\x00\x00\x00\x00\x89@\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x06\x00\x00\x00fight\x00\x00\x00\x00\x00\\\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00[\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00[\x00\x00\x00\x10\x00\x00\x00attackAnimation\x00\x06\x00\x00\x00[\x00\x00\x00\x10\x00\x00\x00targetDirection\x00\x0c\x00\x00\x00[\x00\x00\x00\x00\x00\x00\x00'
                }
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 4
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'snowbug_attack'
                Repeating : 1
                SpeedMultiplier : 1.5
                Running : 1
            }
        }
        Component{
            ClassName : 'Program'
            Identifier : 5
            ProgramComponent{
                ExecuteOnce : 1
                Program{
                    String : $
local self = ...;

local behavior = "follow";
local waitTime = Math.RandomFloat(1.4,1.7);
local moveSpeed = 400;

while true do

    Program.Wait(waitTime);

    local target = EntityController.Target(self);

    if Math.Abs( target:position():x() - self:position():x() ) > 150 then
        behavior = "follow";
        waitTime = Math.RandomFloat(1.4,1.7);
        moveSpeed = 400;
        if Math.RandomInt(1,2) == 2 then
            SoundLibrary.PlayEffect("insect_move");
        end
    else
        behavior = "fight";
        waitTime = 0.2;
        moveSpeed = 200;
        if Math.RandomInt(1,2) == 2 then
            SoundLibrary.PlayEffect("insect_move");
        end
    end
     
    EntityController.SetMovementBehavior(self, behavior);
    EntityController.SetMoveSpeed(self, moveSpeed, false);

    if target ~= nil and EntityController.IsIdle(self) and Entity.IsOnGround(self) then

        if behavior == "follow" then
                EntityController.PerformAction(self, 2);
        else if behavior == "fight" then
                EntityController.PerformAction(self, 3);
            end
        end

    end

end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xf9\x03\x00\x00local self = ...;\r\n\r\nlocal behavior = "follow";\r\nlocal waitTime = Math.RandomFloat(1.4,1.7);\r\nlocal moveSpeed = 400;\r\n\r\nwhile true do\r\n\r\n\tProgram.Wait(waitTime);\r\n\r\n\tlocal target = EntityController.Target(self);\r\n\r\n\tif Math.Abs( target:position():x() - self:position():x() ) > 150 then\r\n\t\tbehavior = "follow";\r\n\t\twaitTime = Math.RandomFloat(1.4,1.7);\r\n\t\tmoveSpeed = 400;\r\n\t\tif Math.RandomInt(1,2) == 2 then\r\n\t\t\tSoundLibrary.PlayEffect("insect_move");\r\n\t\tend\r\n\telse\r\n\t\tbehavior = "fight";\r\n\t\twaitTime = 0.2;\r\n\t\tmoveSpeed = 200;\r\n\t\tif Math.RandomInt(1,2) == 2 then\r\n\t\t\tSoundLibrary.PlayEffect("insect_move");\r\n\t\tend\r\n\tend\r\n \t\r\n\tEntityController.SetMovementBehavior(self, behavior);\r\n\tEntityController.SetMoveSpeed(self, moveSpeed, false);\r\n\r\n\tif target ~= nil and EntityController.IsIdle(self) and Entity.IsOnGround(self) then\r\n\r\n\t\tif behavior == "follow" then\r\n\t\t\t\tEntityController.PerformAction(self, 2);\r\n\t\telse if behavior == "fight" then\r\n\t\t\t\tEntityController.PerformAction(self, 3);\r\n\t\t\tend\r\n\t\tend\r\n\r\n\tend\r\n\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\tj\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x85@\x00\x00\x86\x80@\x01\xc1\xc0\x00\x00\x01\x01\x01\x00\x9c\x80\x80\x01\xc1@\x01\x00\x05\x81\x01\x00\x06\xc1A\x02@\x01\x00\x01\x1cA\x00\x01\x05\x01\x02\x00\x06AB\x02@\x01\x00\x00\x1c\x81\x00\x01EA\x00\x00F\x81\xc2\x02\x8b\xc1B\x02\x9c\x81\x00\x01\x8b\x01C\x03\x9c\x81\x00\x01\xcb\xc1B\x00\xdc\x81\x00\x01\xcb\x01\xc3\x03\xdc\x81\x00\x01\x8d\xc1\x01\x03\\\x81\x00\x01\x18@\x81\x86\x16\xc0\x04\x80A\x00\x00\x00EA\x00\x00F\x81\xc0\x02\x81\xc1\x00\x00\xc1\x01\x01\x00\\\x81\x80\x01\x80\x00\x80\x02\xc1@\x01\x00EA\x00\x00F\x81\xc3\x02\x81\xc1\x03\x00\xc1\x01\x04\x00\\\x81\x80\x01\x17\x00\xc4\x02\x16\x80\x04\x80EA\x04\x00F\x81\xc4\x02\x81\xc1\x04\x00\\A\x00\x01\x16@\x03\x80A\x00\x05\x00\x81@\x05\x00\xc1\x80\x05\x00EA\x00\x00F\x81\xc3\x02\x81\xc1\x03\x00\xc1\x01\x04\x00\\\x81\x80\x01\x17\x00\xc4\x02\x16\xc0\x00\x80EA\x04\x00F\x81\xc4\x02\x81\xc1\x04\x00\\A\x00\x01E\x01\x02\x00F\xc1\xc5\x02\x80\x01\x00\x00\xc0\x01\x80\x00\\A\x80\x01E\x01\x02\x00F\x01\xc6\x02\x80\x01\x00\x00\xc0\x01\x80\x01\x02\x02\x00\x00\\A\x00\x02W@F\x02\x16\x80\xee\x7fE\x01\x02\x00F\x81\xc6\x02\x80\x01\x00\x00\\\x81\x00\x01Z\x01\x00\x00\x16\x00\xed\x7fE\xc1\x06\x00F\x01\xc7\x02\x80\x01\x00\x00\\\x81\x00\x01Z\x01\x00\x00\x16\x80\xeb\x7f\x17\x00\xc0\x00\x16@\x01\x80E\x01\x02\x00FA\xc7\x02\x80\x01\x00\x00\xc1\x01\x04\x00\\A\x80\x01\x16\x80\xe9\x7f\x17\x00\xc5\x00\x16\x00\xe9\x7fE\x01\x02\x00FA\xc7\x02\x80\x01\x00\x00\xc1\x81\x07\x00\\A\x80\x01\x16\x80\xe7\x7f\x1e\x00\x80\x00\x1f\x00\x00\x00\x04\x07\x00\x00\x00follow\x00\x04\x05\x00\x00\x00Math\x00\x04\x0c\x00\x00\x00RandomFloat\x00\x03ffffff\xf6?\x03333333\xfb?\x03\x00\x00\x00\x00\x00\x00y@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x04\x00\x00\x00Abs\x00\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\xc0b@\x04\n\x00\x00\x00RandomInt\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x03\x00\x00\x00\x00\x00\x00\x00@\x04\r\x00\x00\x00SoundLibrary\x00\x04\x0b\x00\x00\x00PlayEffect\x00\x04\x0c\x00\x00\x00insect_move\x00\x04\x06\x00\x00\x00fight\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x03\x00\x00\x00\x00\x00\x00i@\x04\x14\x00\x00\x00SetMovementBehavior\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x00\x04\x07\x00\x00\x00IsIdle\x00\x04\x07\x00\x00\x00Entity\x00\x04\x0b\x00\x00\x00IsOnGround\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x00\x08@\x00\x00\x00\x00j\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x13\x00\x00\x00\x15\x00\x00\x00\x16\x00\x00\x00\x17\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00"\x00\x00\x00"\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00$\x00\x00\x00$\x00\x00\x00%\x00\x00\x00%\x00\x00\x00%\x00\x00\x00%\x00\x00\x00%\x00\x00\x00)\x00\x00\x00+\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00i\x00\x00\x00\t\x00\x00\x00behavior\x00\x02\x00\x00\x00i\x00\x00\x00\t\x00\x00\x00waitTime\x00\x07\x00\x00\x00i\x00\x00\x00\n\x00\x00\x00moveSpeed\x00\x08\x00\x00\x00i\x00\x00\x00\x07\x00\x00\x00target\x00\x10\x00\x00\x00h\x00\x00\x00\x00\x00\x00\x00'
                }
                Enabled : 1
                Trigger : 1
            }
        }
        Component{
            ClassName : 'Program'
            Identifier : 6
            ProgramComponent{
                ExecuteOnce : 1
                Program{
                }
                Enabled : 1
                Trigger : 1
            }
        }
        Component{
            ClassName : 'EntityInfo'
            Identifier : 7
            EntityInfoComponent{
                EntityClass : 'corruptor'
            }
        }
        Component{
            ClassName : 'Model'
            Identifier : 101
            ModelComponent{
                Name : 'corrupted_snowbug'
                YRotation : 1.5707963705062866
                EmissionFactor : 0.5
                XRotation : 0.0
                ShatterColor{
                    R : 0.0
                    G : 0.0
                    B : 0.0
                    A : 1.0
                }
                Origin{
                    X : 0.0
                    Y : 0.0
                    Z : 0.0
                }
                Transparent : 0
                DiffuseColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
            }
        }
        Component{
            ClassName : 'AnimationController'
            Identifier : 102
            AnimationControllerComponent{
                ModelId : 101
                DefaultAnimationId : 0
                SelfUpdate : 0
            }
        }
        Component{
            ClassName : 'MonsterEntity'
            Identifier : 103
            EntityComponent{
                FacingDirection : 1
                PhysicsEnabled : 1
            }
            MonsterEntityComponent{
                OnKill{
                    String : $
SoundLibrary.PlayEffect("insect_die");
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\'\x00\x00\x00SoundLibrary.PlayEffect("insect_die");\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x02\x05\x00\x00\x00\x05\x00\x00\x00\x06@@\x00A\x80\x00\x00\x1c@\x00\x01\x1e\x00\x80\x00\x03\x00\x00\x00\x04\r\x00\x00\x00SoundLibrary\x00\x04\x0b\x00\x00\x00PlayEffect\x00\x04\x0b\x00\x00\x00insect_die\x00\x00\x00\x00\x00\x05\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'
                }
                OnHurt{
                }
                GivesExperience : 1
                DefaultDeathAnimation : 1
            }
        }
        Component{
            ClassName : 'EntityController'
            Identifier : 104
            EntityControllerComponent{
                EntityId : 103
                AnimationControllerId : 102
                DefaultMoveAnimationId : 108
                RoamAreaId : 0
                DefaultMoveSpeed : 600.0
                DefaultAcceleration : 800.0
                TargetingDistance : 10000.0
                MovementBehavior : 3
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 106
            Label : 'general'
            ShapeComponent{
                Rectangle{
                    X : -23.0
                    Y : -3.352979898452759
                    Width : 46.0
                    Height : 25.35297966003418
                }
            }
            CollisionShapeComponent{
                Collides : 1
                ReceivesDamage : 1
                InflictsDamage : 1
                MinDepth : -15.0
                MaxDepth : 15.0
                Enabled : 1
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 108
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'snowbug_walk'
                Repeating : 1
                SpeedMultiplier : 1.2999999523162842
                Running : 1
            }
        }
        Component{
            ClassName : 'Damage'
            Identifier : 111
            DamageComponent{
                MinDamage : 1
                DamageType : 0
                SpecialDamageType : 0
                PhysicalDamageFactor : 1.0
                MagicDamageFactor : 0.0
                IgnoreTargetImmunity : 0
                CanBeBlocked : 1
            }
        }
        Component{
            ClassName : 'Health'
            Identifier : 112
            HealthComponent{
                MaxHealth : 2
                HEALTHTYPE : 0
                BarOffset{
                    X : 0.0
                    Y : 50.0
                }
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 115
            ShapeComponent{
                Rectangle{
                    X : -31.56399917602539
                    Y : -3.352979898452759
                    Width : 62.73246383666992
                    Height : 43.35298156738281
                }
            }
            CollisionShapeComponent{
                ReceivesDamage : 1
                MinDepth : -15.0
                MaxDepth : 15.0
                Enabled : 1
            }
        }
        Component{
            ClassName : 'ParticleEmitter'
            Identifier : 120
            ParticleEmitterComponent{
                ParticleId : 121
                ParticleId : 122
                ParticleId : 123
                ModelBindingId : 0
                MaxParticles : 50
                ParentEmitterId : 0
                DestroyWhenFinished : 0
                Emitter{
                    Type : 5
                    BaseColor{
                        R : 0.8444445729255676
                        G : 0.6222220659255981
                        B : 0.9777778387069702
                        A : 0.0
                    }
                    Parameter : 90.0
                    Parameter : 360.0
                    Parameter : 0.0
                    Parameter : 0.0
                    Parameter : 0.0
                    Parameter : 100.0
                    Parameter : 0.0
                    Parameter : 0.0
                    Parameter : 1.0
                    Parameter : 1.0
                    Parameter : 2.0
                    Parameter : 0.019999999552965164
                    Parameter : 0.30000001192092896
                    Parameter : 0.0
                    Parameter : 0.0
                    HueVariance : 0.0
                    SaturationVariance : 0.0
                    LightnessVariance : 0.0
                    OriginOffset{
                        X : 0.0
                        Y : 25.0
                        Z : 0.0
                    }
                }
                LocalSystem : 0
                Gravity{
                    X : 0.0
                    Y : -400.0
                    Z : 0.0
                }
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 121
            ParticleComponent{
                TextureName : 'particle_fure_1'
                Size : 20.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 122
            ParticleComponent{
                TextureName : 'particle_fure_2'
                Size : 25.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 123
            ParticleComponent{
                TextureName : 'particle_fure_3'
                Size : 15.0
            }
        }
        Component{
            ClassName : 'SimpleGlow'
            Identifier : 128
            SimpleGlowComponent{
                Color{
                    R : 0.18888889253139496
                    G : 0.30000001192092896
                    B : 0.5777778029441833
                    A : 0.5
                }
                Size : 30.0
                NumSegments : 10
                Depth : 15.0
                PulseAmount : 0.15000000596046448
                PulseTime : 0.800000011920929
                Offset{
                    X : 0.0
                    Y : 25.0
                }
            }
        }
        Position{
            X : 0.0
            Y : 0.0
        }
        Depth : 0.0
        Rotation : 0.0
        Scaling : 1.0
        LocalAabb{
            X : -31.56399917602539
            Y : -30.0
            Width : 62.73246383666992
            Height : 70.0
        }
        Hidden : 0
    }
    Scaling : 0.699999988079071
}
Template{
    Object{
        Identifier : 'corrupted_skeleton'
        Component{
            ClassName : 'ModelTransformController'
            Identifier : 1
            ModelTransformControllerComponent{
                ModelId : 101
            }
        }
        Component{
            ClassName : 'EntityAction'
            Identifier : 2
            Label : 'spinswing'
            EntityActionComponent{
                OnActivate{
                    String : $
local self = ...;

local target = EntityController.Target(self);

local attackAnimation = 122;

if target ~= nil then 
    local targetDirection = 1;
    if (target:position() - self:position()):x() < 0 then targetDirection = -1; end

    EntityController.SetFacingDirection(self, targetDirection, 0);
    EntityController.SetMoveDirection(self, targetDirection, 0);    
    EntityController.SetMoveSpeed(self, 0);

    KeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);
    AnimationController.BlendToAnimation(self, attackAnimation);
    
    Program.Wait(0.2);


    EntityController.SetAcceleration(self, 0.1, false);
    self:setVelocity(Vector3.New(targetDirection*350,200,0));

    local swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 15);
    local swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 22);

    ModelTransformController.SetRotationSpeed(self, 400 / (swingStartTime + 0.1));
    
    Program.Wait(swingStartTime);

     EntityController.StartSwing(self, 108, swingEndTime - swingStartTime);

    Program.Wait(0.1);
    ModelTransformController.SetRotationSpeed(self, 0);

    Program.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));    
    ModelTransformController.SetRotationAngle(self, 0);

    EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));

    EntityController.SetAcceleration(self, 1000, false);

end


$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00w\x05\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nlocal attackAnimation = 122;\r\n\r\nif target ~= nil then \r\n\tlocal targetDirection = 1;\r\n\tif (target:position() - self:position()):x() < 0 then targetDirection = -1; end\r\n\r\n\tEntityController.SetFacingDirection(self, targetDirection, 0);\r\n\tEntityController.SetMoveDirection(self, targetDirection, 0);\t\r\n\tEntityController.SetMoveSpeed(self, 0);\r\n\r\n\tKeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);\r\n\tAnimationController.BlendToAnimation(self, attackAnimation);\r\n\t\r\n\tProgram.Wait(0.2);\r\n\r\n\r\n\tEntityController.SetAcceleration(self, 0.1, false);\r\n\tself:setVelocity(Vector3.New(targetDirection*350,200,0));\r\n\r\n\tlocal swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 15);\r\n\tlocal swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 22);\r\n\r\n\tModelTransformController.SetRotationSpeed(self, 400 / (swingStartTime + 0.1));\r\n\t\r\n\tProgram.Wait(swingStartTime);\r\n\r\n \tEntityController.StartSwing(self, 108, swingEndTime - swingStartTime);\r\n\r\n\tProgram.Wait(0.1);\r\n\tModelTransformController.SetRotationSpeed(self, 0);\r\n\r\n\tProgram.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));\t\r\n\tModelTransformController.SetRotationAngle(self, 0);\r\n\r\n\tEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\r\n\r\n\tEntityController.SetAcceleration(self, 1000, false);\r\n\r\nend\r\n\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\n\x82\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x81\x80\x00\x00W\xc0\xc0\x00\x16\x00\x1e\x80\xc1\x00\x01\x00\x0bA\xc1\x00\x1c\x81\x00\x01KAA\x00\\\x81\x00\x01\rA\x01\x02\x0b\x81A\x02\x1c\x81\x00\x01\x18\xc0A\x02\x16\x00\x00\x80\xc1\x00\x02\x00\x05\x01\x00\x00\x06AB\x02@\x01\x00\x00\x80\x01\x80\x01\xc1\xc1\x01\x00\x1cA\x00\x02\x05\x01\x00\x00\x06\x81B\x02@\x01\x00\x00\x80\x01\x80\x01\xc1\xc1\x01\x00\x1cA\x00\x02\x05\x01\x00\x00\x06\xc1B\x02@\x01\x00\x00\x81\xc1\x01\x00\x1cA\x80\x01\x05\x01\x03\x00\x06AC\x02@\x01\x00\x00\x80\x01\x00\x01\xc1\xc1\x01\x00\x1cA\x00\x02\x05\x81\x03\x00\x06\xc1C\x02@\x01\x00\x00\x80\x01\x00\x01\x1cA\x80\x01\x05\x01\x04\x00\x06AD\x02A\x81\x04\x00\x1cA\x00\x01\x05\x01\x00\x00\x06\xc1D\x02@\x01\x00\x00\x81\x01\x05\x00\xc2\x01\x00\x00\x1cA\x00\x02\x0bAE\x00\x85\x81\x05\x00\x86\xc1E\x03\xce\x01\xc6\x01\x01B\x06\x00A\xc2\x01\x00\x9c\x01\x00\x02\x1cA\x00\x00\x05\x01\x03\x00\x06\x81F\x02@\x01\x00\x00\x80\x01\x00\x01\xc1\xc1\x06\x00\x1c\x81\x00\x02E\x01\x03\x00F\x81\xc6\x02\x80\x01\x00\x00\xc0\x01\x00\x01\x01\x02\x07\x00\\\x81\x00\x02\x85A\x07\x00\x86\x81G\x03\xc0\x01\x00\x00\x0c\x02E\x02\x0f\x02\x82\x8f\x9cA\x80\x01\x85\x01\x04\x00\x86AD\x03\xc0\x01\x00\x02\x9cA\x00\x01\x85\x01\x00\x00\x86\x01H\x03\xc0\x01\x00\x00\x01B\x08\x00M\x02\x81\x02\x9cA\x00\x02\x85\x01\x04\x00\x86AD\x03\xc1\x01\x05\x00\x9cA\x00\x01\x85A\x07\x00\x86\x81G\x03\xc0\x01\x00\x00\x01\xc2\x01\x00\x9cA\x80\x01\x85\x01\x04\x00\x86AD\x03\xc5\x01\x03\x00\xc6\x81\xc8\x03\x00\x02\x00\x00@\x02\x00\x01\xdc\x01\x80\x01\x9cA\x00\x00\x85A\x07\x00\x86\xc1H\x03\xc0\x01\x00\x00\x01\xc2\x01\x00\x9cA\x80\x01\x85\x01\x00\x00\x86\xc1B\x03\xc0\x01\x00\x00\x05\x02\x00\x00\x06\x02I\x04@\x02\x00\x00\x1c\x02\x00\x01\x9cA\x00\x00\x85\x01\x00\x00\x86\xc1D\x03\xc0\x01\x00\x00\x01B\t\x00B\x02\x00\x00\x9cA\x00\x02\x1e\x00\x80\x00&\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x03\x00\x00\x00\x00\x00\x80^@\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\x11\x00\x00\x00SetMoveDirection\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x10\x00\x00\x00SetAcceleration\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x0c\x00\x00\x00setVelocity\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\xe0u@\x03\x00\x00\x00\x00\x00\x00i@\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00.@\x03\x00\x00\x00\x00\x00\x006@\x04\x19\x00\x00\x00ModelTransformController\x00\x04\x11\x00\x00\x00SetRotationSpeed\x00\x03\x00\x00\x00\x00\x00\x00y@\x04\x0b\x00\x00\x00StartSwing\x00\x03\x00\x00\x00\x00\x00\x00[@\x04\x11\x00\x00\x00TimeToCompletion\x00\x04\x11\x00\x00\x00SetRotationAngle\x00\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x03\x00\x00\x00\x00\x00@\x8f@\x00\x00\x00\x00\x82\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00$\x00\x00\x00%\x00\x00\x00%\x00\x00\x00%\x00\x00\x00%\x00\x00\x00%\x00\x00\x00\'\x00\x00\x00\'\x00\x00\x00\'\x00\x00\x00\'\x00\x00\x00\'\x00\x00\x00\'\x00\x00\x00\'\x00\x00\x00\'\x00\x00\x00)\x00\x00\x00)\x00\x00\x00)\x00\x00\x00)\x00\x00\x00)\x00\x00\x00)\x00\x00\x00+\x00\x00\x00\x06\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x81\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00\x81\x00\x00\x00\x10\x00\x00\x00attackAnimation\x00\x06\x00\x00\x00\x81\x00\x00\x00\x10\x00\x00\x00targetDirection\x00\t\x00\x00\x00\x81\x00\x00\x00\x0f\x00\x00\x00swingStartTime\x00G\x00\x00\x00\x81\x00\x00\x00\r\x00\x00\x00swingEndTime\x00M\x00\x00\x00\x81\x00\x00\x00\x00\x00\x00\x00'
                }
            }
        }
        Component{
            ClassName : 'Model'
            Identifier : 101
            ModelComponent{
                Name : 'corrupted_skeleton'
                YRotation : 1.5707963705062866
                EmissionFactor : 0.699999988079071
                XRotation : 0.0
                ShatterColor{
                    R : 0.0
                    G : 0.0
                    B : 0.0
                    A : 1.0
                }
                Origin{
                    X : 0.0
                    Y : 0.0
                    Z : 0.0
                }
                Transparent : 0
                DiffuseColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
            }
        }
        Component{
            ClassName : 'AnimationController'
            Identifier : 102
            AnimationControllerComponent{
                ModelId : 101
                DefaultAnimationId : 0
                SelfUpdate : 0
            }
        }
        Component{
            ClassName : 'MonsterEntity'
            Identifier : 103
            EntityComponent{
                FacingDirection : 1
                PhysicsEnabled : 1
            }
            MonsterEntityComponent{
                OnKill{
                    String : $

for i = 1, 6 do
Game.Flash();
Program.Wait(0.02);
end

Program.Wait(0.7);
MusicPlayer.FadeOut();
Program.Wait(1);
MusicPlayer.PlayMusic(Game.DefaultMusicName());
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xac\x00\x00\x00\r\nfor i = 1, 6 do\r\nGame.Flash();\r\nProgram.Wait(0.02);\r\nend\r\n\r\nProgram.Wait(0.7);\r\nMusicPlayer.FadeOut();\r\nProgram.Wait(1);\r\nMusicPlayer.PlayMusic(Game.DefaultMusicName());\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x06\x1e\x00\x00\x00\x01\x00\x00\x00A@\x00\x00\x81\x00\x00\x00 \x80\x01\x80\x05\x81\x00\x00\x06\xc1@\x02\x1cA\x80\x00\x05\x01\x01\x00\x06AA\x02A\x81\x01\x00\x1cA\x00\x01\x1f\xc0\xfd\x7f\x05\x00\x01\x00\x06@A\x00A\xc0\x01\x00\x1c@\x00\x01\x05\x00\x02\x00\x06@B\x00\x1c@\x80\x00\x05\x00\x01\x00\x06@A\x00A\x00\x00\x00\x1c@\x00\x01\x05\x00\x02\x00\x06\x80B\x00E\x80\x00\x00F\xc0\xc2\x00\\\x00\x80\x00\x1c@\x00\x00\x1e\x00\x80\x00\x0c\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x03\x00\x00\x00\x00\x00\x00\x18@\x04\x05\x00\x00\x00Game\x00\x04\x06\x00\x00\x00Flash\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03{\x14\xaeG\xe1z\x94?\x03ffffff\xe6?\x04\x0c\x00\x00\x00MusicPlayer\x00\x04\x08\x00\x00\x00FadeOut\x00\x04\n\x00\x00\x00PlayMusic\x00\x04\x11\x00\x00\x00DefaultMusicName\x00\x00\x00\x00\x00\x1e\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x02\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x04\x00\x00\x00\x0c\x00\x00\x00(for index)\x00\x03\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00(for limit)\x00\x03\x00\x00\x00\x0c\x00\x00\x00\x0b\x00\x00\x00(for step)\x00\x03\x00\x00\x00\x0c\x00\x00\x00\x02\x00\x00\x00i\x00\x04\x00\x00\x00\x0b\x00\x00\x00\x00\x00\x00\x00'
                }
                OnHurt{
                    String : $
local self = ...;

local target = EntityController.Target(self);
Program.Wait(0.3);
if EntityController.IsIdle(self) then
    EntityController.PerformAction(self, 112);
end

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xb2\x00\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\nProgram.Wait(0.3);\r\nif EntityController.IsIdle(self) then\r\n\tEntityController.PerformAction(self, 112);\r\nend\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x05\x15\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x85\x80\x00\x00\x86\xc0@\x01\xc1\x00\x01\x00\x9c@\x00\x01\x85\x00\x00\x00\x86@A\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\x9a\x00\x00\x00\x16\x00\x01\x80\x85\x00\x00\x00\x86\x80A\x01\xc0\x00\x00\x00\x01\xc1\x01\x00\x9c@\x80\x01\x1e\x00\x80\x00\x08\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03333333\xd3?\x04\x07\x00\x00\x00IsIdle\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x00\\@\x00\x00\x00\x00\x15\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x14\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00\x14\x00\x00\x00\x00\x00\x00\x00'
                }
                GivesExperience : 1
                DefaultDeathAnimation : 1
            }
        }
        Component{
            ClassName : 'EntityController'
            Identifier : 104
            EntityControllerComponent{
                EntityId : 103
                AnimationControllerId : 102
                DefaultMoveAnimationId : 109
                RoamAreaId : 0
                DefaultMoveSpeed : 100.0
                DefaultAcceleration : 800.0
                TargetingDistance : 1000.0
                MovementBehavior : 4
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 106
            ShapeComponent{
                Rectangle{
                    X : -10.0
                    Y : 0.0
                    Width : 20.0
                    Height : 50.0
                }
            }
            CollisionShapeComponent{
                Collides : 1
                ReceivesDamage : 1
                InflictsDamage : 1
                MinDepth : -15.0
                MaxDepth : 15.0
                Enabled : 1
            }
        }
        Component{
            ClassName : 'SwingableWeaponController'
            Identifier : 108
            SwingableWeaponControllerComponent{
                ControllingModelId : 101
                ControllingBoneName : 'BoneWeapon1'
                WeaponTemplateName : 'skeleton_lord_sword'
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 109
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'skelly_walk'
                Repeating : 1
                SpeedMultiplier : 1.25
                Running : 1
            }
        }
        Component{
            ClassName : 'Damage'
            Identifier : 110
            DamageComponent{
                MinDamage : 1
                DamageType : 0
                SpecialDamageType : 0
                PhysicalDamageFactor : 1.0
                MagicDamageFactor : 0.0
                IgnoreTargetImmunity : 0
                CanBeBlocked : 1
            }
        }
        Component{
            ClassName : 'Health'
            Identifier : 111
            HealthComponent{
                MaxHealth : 12
                HEALTHTYPE : 0
                BarOffset{
                    X : 0.0
                    Y : 50.0
                }
            }
        }
        Component{
            ClassName : 'EntityAction'
            Identifier : 112
            Label : 'vertswing'
            EntityActionComponent{
                OnActivate{
                    String : $
local self = ...;

local attackAnimation = 113;

EntityController.SetMoveSpeed(self, 0);
KeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);
AnimationController.BlendToAnimation(self, attackAnimation);

Program.Wait(0.1);

local swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 13);
local swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 17);

Program.Wait(swingStartTime);
EntityController.StartSwing(self, 108, swingEndTime - swingStartTime);

Program.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));

EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x9a\x02\x00\x00local self = ...;\r\n\r\nlocal attackAnimation = 113;\r\n\r\nEntityController.SetMoveSpeed(self, 0);\r\nKeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, attackAnimation);\r\n\r\nProgram.Wait(0.1);\r\n\r\nlocal swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 13);\r\nlocal swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 17);\r\n\r\nProgram.Wait(swingStartTime);\r\nEntityController.StartSwing(self, 108, swingEndTime - swingStartTime);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));\r\n\r\nEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x08=\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x85@\x00\x00\x86\x80@\x01\xc0\x00\x00\x00\x01\xc1\x00\x00\x9c@\x80\x01\x85\x00\x01\x00\x86@A\x01\xc0\x00\x00\x00\x00\x01\x80\x00A\xc1\x00\x00\x9c@\x00\x02\x85\x80\x01\x00\x86\xc0A\x01\xc0\x00\x00\x00\x00\x01\x80\x00\x9c@\x80\x01\x85\x00\x02\x00\x86@B\x01\xc1\x80\x02\x00\x9c@\x00\x01\x85\x00\x01\x00\x86\xc0B\x01\xc0\x00\x00\x00\x00\x01\x80\x00A\x01\x03\x00\x9c\x80\x00\x02\xc5\x00\x01\x00\xc6\xc0\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\x81A\x03\x00\xdc\x80\x00\x02\x05\x01\x02\x00\x06AB\x02@\x01\x00\x01\x1cA\x00\x01\x05A\x00\x00\x06\x81C\x02@\x01\x00\x00\x81\xc1\x03\x00\xcd\x81\x80\x01\x1cA\x00\x02\x05\x01\x02\x00\x06AB\x02E\x01\x01\x00F\x01\xc4\x02\x80\x01\x00\x00\xc0\x01\x80\x00\\\x01\x80\x01\x1cA\x00\x00\x05A\x00\x00\x06\x81@\x02@\x01\x00\x00\x85A\x00\x00\x86AD\x03\xc0\x01\x00\x00\x9c\x01\x00\x01\x1cA\x00\x00\x1e\x00\x80\x00\x12\x00\x00\x00\x03\x00\x00\x00\x00\x00@\\@\x04\x11\x00\x00\x00EntityController\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00*@\x03\x00\x00\x00\x00\x00\x001@\x04\x0b\x00\x00\x00StartSwing\x00\x03\x00\x00\x00\x00\x00\x00[@\x04\x11\x00\x00\x00TimeToCompletion\x00\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x00\x00\x00\x00=\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00<\x00\x00\x00\x10\x00\x00\x00attackAnimation\x00\x02\x00\x00\x00<\x00\x00\x00\x0f\x00\x00\x00swingStartTime\x00\x1c\x00\x00\x00<\x00\x00\x00\r\x00\x00\x00swingEndTime\x00"\x00\x00\x00<\x00\x00\x00\x00\x00\x00\x00'
                }
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 113
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'skelly_attack1'
                Repeating : 0
                SpeedMultiplier : 1.2999999523162842
                Running : 1
            }
        }
        Component{
            ClassName : 'Program'
            Identifier : 116
            ProgramComponent{
                ExecuteOnce : 1
                Program{
                    String : $
local self = ...;

while true do
    local target = EntityController.Target(self);
    Program.Wait(Math.RandomInt(1,2));
    if EntityController.IsIdle(self) and target ~= nil then
        local distance = Math.Abs(target:position():x()- self:position():x());
        if  distance > 300 then 
            if Math.RandomInt(1, 3) == 3 then
                EntityController.PerformAction(self, 2); -- spin swing
            else
                EntityController.PerformAction(self, 126); -- normal side swing
            end
        elseif distance > 150 then 
            EntityController.PerformAction(self, 121); -- jump, no swing
        elseif distance < 150 then 
            EntityController.PerformAction(self, 112); -- top swing
        end
    end
end

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x9f\x02\x00\x00local self = ...;\r\n\r\nwhile true do\r\n\tlocal target = EntityController.Target(self);\r\n\tProgram.Wait(Math.RandomInt(1,2));\r\n\tif EntityController.IsIdle(self) and target ~= nil then\r\n\t\tlocal distance = Math.Abs(target:position():x()- self:position():x());\r\n\t\tif  distance > 300 then \r\n\t\t\tif Math.RandomInt(1, 3) == 3 then\r\n\t\t\t\tEntityController.PerformAction(self, 2); -- spin swing\r\n\t\t\telse\r\n\t\t\t\tEntityController.PerformAction(self, 126); -- normal side swing\r\n\t\t\tend\r\n\t\telseif distance > 150 then \r\n\t\t\tEntityController.PerformAction(self, 121); -- jump, no swing\r\n\t\telseif distance < 150 then \r\n\t\t\tEntityController.PerformAction(self, 112); -- top swing\r\n\t\tend\r\n\tend\r\nend\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x06G\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x85\x80\x00\x00\x86\xc0@\x01\xc5\x00\x01\x00\xc6@\xc1\x01\x01\x81\x01\x00A\xc1\x01\x00\xdc\x00\x80\x01\x9c@\x00\x00\x85\x00\x00\x00\x86\x00B\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\x9a\x00\x00\x00\x16@\xfb\x7fW@\xc2\x00\x16\xc0\xfa\x7f\x85\x00\x01\x00\x86\x80B\x01\xcb\xc0\xc2\x00\xdc\x80\x00\x01\xcb\x00\xc3\x01\xdc\x80\x00\x01\x0b\xc1B\x00\x1c\x81\x00\x01\x0b\x01C\x02\x1c\x81\x00\x01\xcd\x00\x81\x01\x9c\x80\x00\x01\x18\x80\x80\x86\x16\x80\x04\x80\xc5\x00\x01\x00\xc6@\xc1\x01\x01\x81\x01\x00A\x81\x03\x00\xdc\x80\x80\x01\x17\x80\xc3\x01\x16@\x01\x80\xc5\x00\x00\x00\xc6\xc0\xc3\x01\x00\x01\x00\x00A\xc1\x01\x00\xdc@\x80\x01\x16\x00\xf4\x7f\xc5\x00\x00\x00\xc6\xc0\xc3\x01\x00\x01\x00\x00A\x01\x04\x00\xdc@\x80\x01\x16\x80\xf2\x7f\x18\x80\x80\x88\x16@\x01\x80\xc5\x00\x00\x00\xc6\xc0\xc3\x01\x00\x01\x00\x00A\x81\x04\x00\xdc@\x80\x01\x16\x80\xf0\x7f\x18@D\x01\x16\x00\xf0\x7f\xc5\x00\x00\x00\xc6\xc0\xc3\x01\x00\x01\x00\x00A\xc1\x04\x00\xdc@\x80\x01\x16\x80\xee\x7f\x1e\x00\x80\x00\x14\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x04\x05\x00\x00\x00Math\x00\x04\n\x00\x00\x00RandomInt\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x03\x00\x00\x00\x00\x00\x00\x00@\x04\x07\x00\x00\x00IsIdle\x00\x00\x04\x04\x00\x00\x00Abs\x00\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\xc0r@\x03\x00\x00\x00\x00\x00\x00\x08@\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\x80_@\x03\x00\x00\x00\x00\x00\xc0b@\x03\x00\x00\x00\x00\x00@^@\x03\x00\x00\x00\x00\x00\x00\\@\x00\x00\x00\x00G\x00\x00\x00\x01\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x13\x00\x00\x00\x14\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00F\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00E\x00\x00\x00\t\x00\x00\x00distance\x00!\x00\x00\x00E\x00\x00\x00\x00\x00\x00\x00'
                }
                Enabled : 1
                Trigger : 1
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 120
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'skelly_jump'
                Repeating : 0
                SpeedMultiplier : 0.800000011920929
                Running : 1
            }
        }
        Component{
            ClassName : 'EntityAction'
            Identifier : 121
            EntityActionComponent{
                OnActivate{
                    String : $
local self = ...;

local target = EntityController.Target(self);

local jumpAnimation = 120;

if target ~= nil then 
    local targetDirection = 1;
    if (target:position() - self:position()):x() < 0 then targetDirection = -1; end

    EntityController.SetFacingDirection(self, targetDirection, 0);
    EntityController.SetMoveDirection(self, targetDirection, 0);    
    EntityController.SetMoveSpeed(self, 0);

    KeyframeAnimation.SetCurrentTime(self, jumpAnimation, 0.0);
    AnimationController.BlendToAnimation(self, jumpAnimation);
    
    Program.Wait(0.2);
        
    EntityController.SetAcceleration(self, 0.1, false);
    self:setVelocity(Vector3.New(targetDirection*450,350,0));

    Program.Wait(0.6);

    EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));
    
    EntityController.SetAcceleration(self, 1000, false);

end

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00N\x03\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nlocal jumpAnimation = 120;\r\n\r\nif target ~= nil then \r\n\tlocal targetDirection = 1;\r\n\tif (target:position() - self:position()):x() < 0 then targetDirection = -1; end\r\n\r\n\tEntityController.SetFacingDirection(self, targetDirection, 0);\r\n\tEntityController.SetMoveDirection(self, targetDirection, 0);\t\r\n\tEntityController.SetMoveSpeed(self, 0);\r\n\r\n\tKeyframeAnimation.SetCurrentTime(self, jumpAnimation, 0.0);\r\n\tAnimationController.BlendToAnimation(self, jumpAnimation);\r\n\t\r\n\tProgram.Wait(0.2);\r\n\t\t\r\n\tEntityController.SetAcceleration(self, 0.1, false);\r\n\tself:setVelocity(Vector3.New(targetDirection*450,350,0));\r\n\r\n\tProgram.Wait(0.6);\r\n\r\n\tEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\r\n\t\r\n\tEntityController.SetAcceleration(self, 1000, false);\r\n\r\nend\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\nT\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x81\x80\x00\x00W\xc0\xc0\x00\x16\x80\x12\x80\xc1\x00\x01\x00\x0bA\xc1\x00\x1c\x81\x00\x01KAA\x00\\\x81\x00\x01\rA\x01\x02\x0b\x81A\x02\x1c\x81\x00\x01\x18\xc0A\x02\x16\x00\x00\x80\xc1\x00\x02\x00\x05\x01\x00\x00\x06AB\x02@\x01\x00\x00\x80\x01\x80\x01\xc1\xc1\x01\x00\x1cA\x00\x02\x05\x01\x00\x00\x06\x81B\x02@\x01\x00\x00\x80\x01\x80\x01\xc1\xc1\x01\x00\x1cA\x00\x02\x05\x01\x00\x00\x06\xc1B\x02@\x01\x00\x00\x81\xc1\x01\x00\x1cA\x80\x01\x05\x01\x03\x00\x06AC\x02@\x01\x00\x00\x80\x01\x00\x01\xc1\xc1\x01\x00\x1cA\x00\x02\x05\x81\x03\x00\x06\xc1C\x02@\x01\x00\x00\x80\x01\x00\x01\x1cA\x80\x01\x05\x01\x04\x00\x06AD\x02A\x81\x04\x00\x1cA\x00\x01\x05\x01\x00\x00\x06\xc1D\x02@\x01\x00\x00\x81\x01\x05\x00\xc2\x01\x00\x00\x1cA\x00\x02\x0bAE\x00\x85\x81\x05\x00\x86\xc1E\x03\xce\x01\xc6\x01\x01B\x06\x00A\xc2\x01\x00\x9c\x01\x00\x02\x1cA\x00\x00\x05\x01\x04\x00\x06AD\x02A\x81\x06\x00\x1cA\x00\x01\x05\x01\x00\x00\x06\xc1B\x02@\x01\x00\x00\x85\x01\x00\x00\x86\xc1F\x03\xc0\x01\x00\x00\x9c\x01\x00\x01\x1cA\x00\x00\x05\x01\x00\x00\x06\xc1D\x02@\x01\x00\x00\x81\x01\x07\x00\xc2\x01\x00\x00\x1cA\x00\x02\x1e\x00\x80\x00\x1d\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x03\x00\x00\x00\x00\x00\x00^@\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\x11\x00\x00\x00SetMoveDirection\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x10\x00\x00\x00SetAcceleration\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x0c\x00\x00\x00setVelocity\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00 |@\x03\x00\x00\x00\x00\x00\xe0u@\x03333333\xe3?\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x03\x00\x00\x00\x00\x00@\x8f@\x00\x00\x00\x00T\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1d\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00S\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00S\x00\x00\x00\x0e\x00\x00\x00jumpAnimation\x00\x06\x00\x00\x00S\x00\x00\x00\x10\x00\x00\x00targetDirection\x00\t\x00\x00\x00S\x00\x00\x00\x00\x00\x00\x00'
                }
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 122
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'skelly_jumpattack'
                Repeating : 0
                SpeedMultiplier : 1.0
                Running : 1
            }
        }
        Component{
            ClassName : 'EntityAction'
            Identifier : 126
            Label : 'horizswing'
            EntityActionComponent{
                OnActivate{
                    String : $
local self = ...;

local target = EntityController.Target(self);

local attackAnimation = 122;

if target ~= nil then 
    local targetDirection = 1;
    if (target:position() - self:position()):x() < 0 then targetDirection = -1; end

    EntityController.SetFacingDirection(self, targetDirection, 0);
    EntityController.SetMoveDirection(self, targetDirection, 0);    
    EntityController.SetMoveSpeed(self, 0);

    KeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);
    AnimationController.BlendToAnimation(self, attackAnimation);
    
    Program.Wait(0.2);


    EntityController.SetAcceleration(self, 0.1, false);
    self:setVelocity(Vector3.New(targetDirection*350,200,0));

    local swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 15);
    local swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 22);

    Program.Wait(swingStartTime);

     EntityController.StartSwing(self, 108, swingEndTime - swingStartTime);

    Program.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));    

    EntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));

    EntityController.SetAcceleration(self, 1000, false);

end

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x9e\x04\x00\x00local self = ...;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nlocal attackAnimation = 122;\r\n\r\nif target ~= nil then \r\n\tlocal targetDirection = 1;\r\n\tif (target:position() - self:position()):x() < 0 then targetDirection = -1; end\r\n\r\n\tEntityController.SetFacingDirection(self, targetDirection, 0);\r\n\tEntityController.SetMoveDirection(self, targetDirection, 0);\t\r\n\tEntityController.SetMoveSpeed(self, 0);\r\n\r\n\tKeyframeAnimation.SetCurrentTime(self, attackAnimation, 0.0);\r\n\tAnimationController.BlendToAnimation(self, attackAnimation);\r\n\t\r\n\tProgram.Wait(0.2);\r\n\r\n\r\n\tEntityController.SetAcceleration(self, 0.1, false);\r\n\tself:setVelocity(Vector3.New(targetDirection*350,200,0));\r\n\r\n\tlocal swingStartTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 15);\r\n\tlocal swingEndTime = KeyframeAnimation.TimeToFrame(self, attackAnimation, 22);\r\n\r\n\tProgram.Wait(swingStartTime);\r\n\r\n \tEntityController.StartSwing(self, 108, swingEndTime - swingStartTime);\r\n\r\n\tProgram.Wait(KeyframeAnimation.TimeToCompletion(self, attackAnimation));\t\r\n\r\n\tEntityController.SetMoveSpeed(self, EntityController.DefaultMoveSpeed(self));\r\n\r\n\tEntityController.SetAcceleration(self, 1000, false);\r\n\r\nend\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\nn\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x80\x00\x00\x00\\\x80\x00\x01\x81\x80\x00\x00W\xc0\xc0\x00\x16\x00\x19\x80\xc1\x00\x01\x00\x0bA\xc1\x00\x1c\x81\x00\x01KAA\x00\\\x81\x00\x01\rA\x01\x02\x0b\x81A\x02\x1c\x81\x00\x01\x18\xc0A\x02\x16\x00\x00\x80\xc1\x00\x02\x00\x05\x01\x00\x00\x06AB\x02@\x01\x00\x00\x80\x01\x80\x01\xc1\xc1\x01\x00\x1cA\x00\x02\x05\x01\x00\x00\x06\x81B\x02@\x01\x00\x00\x80\x01\x80\x01\xc1\xc1\x01\x00\x1cA\x00\x02\x05\x01\x00\x00\x06\xc1B\x02@\x01\x00\x00\x81\xc1\x01\x00\x1cA\x80\x01\x05\x01\x03\x00\x06AC\x02@\x01\x00\x00\x80\x01\x00\x01\xc1\xc1\x01\x00\x1cA\x00\x02\x05\x81\x03\x00\x06\xc1C\x02@\x01\x00\x00\x80\x01\x00\x01\x1cA\x80\x01\x05\x01\x04\x00\x06AD\x02A\x81\x04\x00\x1cA\x00\x01\x05\x01\x00\x00\x06\xc1D\x02@\x01\x00\x00\x81\x01\x05\x00\xc2\x01\x00\x00\x1cA\x00\x02\x0bAE\x00\x85\x81\x05\x00\x86\xc1E\x03\xce\x01\xc6\x01\x01B\x06\x00A\xc2\x01\x00\x9c\x01\x00\x02\x1cA\x00\x00\x05\x01\x03\x00\x06\x81F\x02@\x01\x00\x00\x80\x01\x00\x01\xc1\xc1\x06\x00\x1c\x81\x00\x02E\x01\x03\x00F\x81\xc6\x02\x80\x01\x00\x00\xc0\x01\x00\x01\x01\x02\x07\x00\\\x81\x00\x02\x85\x01\x04\x00\x86AD\x03\xc0\x01\x00\x02\x9cA\x00\x01\x85\x01\x00\x00\x86AG\x03\xc0\x01\x00\x00\x01\x82\x07\x00M\x02\x81\x02\x9cA\x00\x02\x85\x01\x04\x00\x86AD\x03\xc5\x01\x03\x00\xc6\xc1\xc7\x03\x00\x02\x00\x00@\x02\x00\x01\xdc\x01\x80\x01\x9cA\x00\x00\x85\x01\x00\x00\x86\xc1B\x03\xc0\x01\x00\x00\x05\x02\x00\x00\x06\x02H\x04@\x02\x00\x00\x1c\x02\x00\x01\x9cA\x00\x00\x85\x01\x00\x00\x86\xc1D\x03\xc0\x01\x00\x00\x01B\x08\x00B\x02\x00\x00\x9cA\x00\x02\x1e\x00\x80\x00"\x00\x00\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x03\x00\x00\x00\x00\x00\x80^@\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\x11\x00\x00\x00SetMoveDirection\x00\x04\r\x00\x00\x00SetMoveSpeed\x00\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x10\x00\x00\x00SetAcceleration\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x0c\x00\x00\x00setVelocity\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\xe0u@\x03\x00\x00\x00\x00\x00\x00i@\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00.@\x03\x00\x00\x00\x00\x00\x006@\x04\x0b\x00\x00\x00StartSwing\x00\x03\x00\x00\x00\x00\x00\x00[@\x04\x11\x00\x00\x00TimeToCompletion\x00\x04\x11\x00\x00\x00DefaultMoveSpeed\x00\x03\x00\x00\x00\x00\x00@\x8f@\x00\x00\x00\x00n\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00%\x00\x00\x00\x06\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00m\x00\x00\x00\x07\x00\x00\x00target\x00\x05\x00\x00\x00m\x00\x00\x00\x10\x00\x00\x00attackAnimation\x00\x06\x00\x00\x00m\x00\x00\x00\x10\x00\x00\x00targetDirection\x00\t\x00\x00\x00m\x00\x00\x00\x0f\x00\x00\x00swingStartTime\x00G\x00\x00\x00m\x00\x00\x00\r\x00\x00\x00swingEndTime\x00M\x00\x00\x00m\x00\x00\x00\x00\x00\x00\x00'
                }
            }
        }
        Component{
            ClassName : 'EntityInfo'
            Identifier : 134
            EntityInfoComponent{
                EntityClass : 'corruptor'
            }
        }
        Component{
            ClassName : 'SimpleGlow'
            Identifier : 138
            SimpleGlowComponent{
                Color{
                    R : 0.0
                    G : 0.0
                    B : 0.0
                    A : 0.5
                }
                Size : 30.0
                NumSegments : 10
                Depth : 15.0
                PulseAmount : 0.15000000596046448
                PulseTime : 0.800000011920929
                Offset{
                    X : 0.0
                    Y : 25.0
                }
            }
        }
        Component{
            ClassName : 'ParticleEmitter'
            Identifier : 139
            ParticleEmitterComponent{
                ParticleId : 140
                ParticleId : 141
                ParticleId : 142
                ModelBindingId : 0
                MaxParticles : 200
                ParentEmitterId : 0
                DestroyWhenFinished : 0
                Emitter{
                    Type : 5
                    BaseColor{
                        R : 0.0
                        G : 0.0
                        B : 0.0
                        A : 0.15555556118488312
                    }
                    Parameter : 90.0
                    Parameter : 360.0
                    Parameter : 0.0
                    Parameter : 10.0
                    Parameter : 30.0
                    Parameter : 100.0
                    Parameter : 0.0
                    Parameter : 0.0
                    Parameter : 1.0
                    Parameter : 0.0
                    Parameter : 1.0
                    Parameter : 0.0010000000474974513
                    Parameter : 0.4000000059604645
                    Parameter : 0.20000000298023224
                    Parameter : 0.0
                    HueVariance : 0.0
                    SaturationVariance : 0.0
                    LightnessVariance : 0.0
                    OriginOffset{
                        X : 0.0
                        Y : 0.0
                        Z : 0.0
                    }
                }
                LocalSystem : 0
                Gravity{
                    X : 0.0
                    Y : 1.0
                    Z : 0.0
                }
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 140
            ParticleComponent{
                TextureName : 'particle_fure_1'
                Size : 35.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 141
            ParticleComponent{
                TextureName : 'particle_fure_2'
                Size : 27.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 142
            ParticleComponent{
                TextureName : 'particle_fure_3'
                Size : 20.0
            }
        }
        Position{
            X : 0.0
            Y : 0.0
        }
        Depth : 0.0
        Rotation : 0.0
        Scaling : 1.0
        LocalAabb{
            X : -30.0
            Y : -30.0
            Width : 60.0
            Height : 80.0
        }
        Hidden : 0
    }
    Scaling : 1.5
}
Template{
    Object{
        Identifier : 'dragonkin_1seeker'
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 1
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'dragonkin_cast'
                Repeating : 1
                SpeedMultiplier : 0.6000000238418579
                Running : 1
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 2
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'dragonkin_castfinish'
                Repeating : 0
                SpeedMultiplier : 0.800000011920929
                Running : 1
            }
        }
        Component{
            ClassName : 'EntityInfo'
            Identifier : 3
            EntityInfoComponent{
                EntityClass : 'corruptor'
            }
        }
        Component{
            ClassName : 'Model'
            Identifier : 101
            ModelComponent{
                Name : 'dragonkin'
                YRotation : 1.5707963705062866
                EmissionFactor : 0.0
                XRotation : 0.0
                ShatterColor{
                    R : 0.0
                    G : 0.0
                    B : 0.0
                    A : 1.0
                }
                Origin{
                    X : 0.0
                    Y : 0.0
                    Z : 0.0
                }
                Transparent : 0
                DiffuseColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 103
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'dragonkin_fly'
                Repeating : 1
                SpeedMultiplier : 1.0
                Running : 1
            }
        }
        Component{
            ClassName : 'EntityController'
            Identifier : 104
            EntityControllerComponent{
                EntityId : 106
                AnimationControllerId : 105
                DefaultMoveAnimationId : 103
                RoamAreaId : 0
                DefaultMoveSpeed : 100.0
                DefaultAcceleration : 800.0
                TargetingDistance : 1000.0
                MovementBehavior : 1
            }
        }
        Component{
            ClassName : 'AnimationController'
            Identifier : 105
            AnimationControllerComponent{
                ModelId : 101
                DefaultAnimationId : 0
                SelfUpdate : 0
            }
        }
        Component{
            ClassName : 'MonsterEntity'
            Identifier : 106
            EntityComponent{
                FacingDirection : 1
                PhysicsEnabled : 0
            }
            MonsterEntityComponent{
                OnKill{
                }
                OnHurt{
                }
                GivesExperience : 1
                DefaultDeathAnimation : 1
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 108
            ShapeComponent{
                Rectangle{
                    X : -20.0
                    Y : 10.0
                    Width : 30.0
                    Height : 75.0
                }
            }
            CollisionShapeComponent{
                Collides : 1
                ReceivesDamage : 1
                InflictsDamage : 1
                MinDepth : -15.0
                MaxDepth : 15.0
                Enabled : 1
            }
        }
        Component{
            ClassName : 'Damage'
            Identifier : 110
            DamageComponent{
                MinDamage : 1
                DamageType : 0
                SpecialDamageType : 0
                PhysicalDamageFactor : 1.0
                MagicDamageFactor : 0.0
                IgnoreTargetImmunity : 0
                CanBeBlocked : 1
            }
        }
        Component{
            ClassName : 'Health'
            Identifier : 111
            HealthComponent{
                MaxHealth : 15
                HEALTHTYPE : 0
                BarOffset{
                    X : 0.0
                    Y : 50.0
                }
            }
        }
        Component{
            ClassName : 'ParticleEmitter'
            Identifier : 115
            ParticleEmitterComponent{
                ParticleId : 116
                ParticleId : 117
                ParticleId : 118
                ModelBindingId : 0
                MaxParticles : 100
                ParentEmitterId : 0
                DestroyWhenFinished : 0
                Emitter{
                    Type : 5
                    BaseColor{
                        R : 0.0
                        G : 0.0
                        B : 0.0
                        A : 0.5666666626930237
                    }
                    Parameter : -105.0
                    Parameter : 30.0
                    Parameter : 0.0
                    Parameter : 20.0
                    Parameter : 0.0
                    Parameter : 300.0
                    Parameter : 0.0
                    Parameter : 0.0
                    Parameter : 1.0
                    Parameter : 0.0
                    Parameter : 1.0
                    Parameter : 0.004999999888241291
                    Parameter : 0.4000000059604645
                    Parameter : 0.0
                    Parameter : 0.0
                    HueVariance : 0.0
                    SaturationVariance : 0.0
                    LightnessVariance : 0.0
                    OriginOffset{
                        X : 7.0
                        Y : 50.0
                        Z : 0.0
                    }
                }
                LocalSystem : 0
                Gravity{
                    X : 0.0
                    Y : 800.0
                    Z : 0.0
                }
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 116
            ParticleComponent{
                TextureName : 'particle_fure_1'
                Size : 40.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 117
            ParticleComponent{
                TextureName : 'particle_fure_2'
                Size : 30.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 118
            ParticleComponent{
                TextureName : 'particle_fure_3'
                Size : 20.0
            }
        }
        Component{
            ClassName : 'Program'
            Identifier : 122
            ProgramComponent{
                ExecuteOnce : 1
                Program{
                    String : $
local self = ...;

local targetPosition = self:position();

local timeSinceAttack = 3;

PhysicsObject.SetGravityMagnitude(self, 0.3);
PhysicsObject.SetDecelerationForce(self, 1.7);

while true do
    Program.Wait(0.2);
    timeSinceAttack = timeSinceAttack + 0.2;
    local target = EntityController.Target(self);

    if EntityController.IsIdle(self) then    

        if target ~= nil then
            EntityController.SetFacingDirection(self, 
                DirectionToTargetFromPosition(EntityController.Target(self):position(), self:position()));
        end

        local delta = targetPosition - self:position();

        PhysicsObject.SetGravityDirection(self, delta:normalized());


        if  target ~= nil  then
            targetPosition = target:position();
        end

    end

    if target ~= nil and self["seeker1"] == nil then
        EntityController.PerformAction(self, 127);
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00T\x03\x00\x00local self = ...;\r\n\r\nlocal targetPosition = self:position();\r\n\r\nlocal timeSinceAttack = 3;\r\n\r\nPhysicsObject.SetGravityMagnitude(self, 0.3);\r\nPhysicsObject.SetDecelerationForce(self, 1.7);\r\n\r\nwhile true do\r\n\tProgram.Wait(0.2);\r\n\ttimeSinceAttack = timeSinceAttack + 0.2;\r\n\tlocal target = EntityController.Target(self);\r\n\r\n\tif EntityController.IsIdle(self) then\t\r\n\r\n\t\tif target ~= nil then\r\n\t\t\tEntityController.SetFacingDirection(self, \r\n\t\t\t\tDirectionToTargetFromPosition(EntityController.Target(self):position(), self:position()));\r\n\t\tend\r\n\r\n\t\tlocal delta = targetPosition - self:position();\r\n\r\n\t\tPhysicsObject.SetGravityDirection(self, delta:normalized());\r\n\r\n\r\n\t\tif  target ~= nil  then\r\n\t\t\ttargetPosition = target:position();\r\n\t\tend\r\n\r\n\tend\r\n\r\n\tif target ~= nil and self["seeker1"] == nil then\r\n\t\tEntityController.PerformAction(self, 127);\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\nG\x00\x00\x00%\x00\x00\x01K\x00@\x00\\\x80\x00\x01\x81@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x00\x01\x00\x00A\x01\x01\x00\xdc@\x80\x01\xc5\x80\x00\x00\xc6@\xc1\x01\x00\x01\x00\x00A\x81\x01\x00\xdc@\x80\x01\xc5\xc0\x01\x00\xc6\x00\xc2\x01\x01A\x02\x00\xdc@\x00\x01\x8c@B\x01\xc5\x80\x02\x00\xc6\xc0\xc2\x01\x00\x01\x00\x00\xdc\x80\x00\x01\x05\x81\x02\x00\x06\x01C\x02@\x01\x00\x00\x1c\x81\x00\x01\x1a\x01\x00\x00\x16@\x07\x80W@\xc3\x01\x16@\x03\x80\x05\x81\x02\x00\x06\x81C\x02@\x01\x00\x00\x85\xc1\x03\x00\xc5\x81\x02\x00\xc6\xc1\xc2\x03\x00\x02\x00\x00\xdc\x81\x00\x01\xcb\x01\xc0\x03\xdc\x81\x00\x01\x0b\x02@\x00\x1c\x02\x00\x01\x9c\x01\x00\x00\x1cA\x00\x00\x0b\x01@\x00\x1c\x81\x00\x01\r\x01\x81\x00E\x81\x00\x00F\x01\xc4\x02\x80\x01\x00\x00\xcbAD\x02\xdc\x01\x00\x01\\A\x00\x00W@\xc3\x01\x16\x80\x00\x80K\x01\xc0\x01\\\x81\x00\x01@\x00\x80\x02W@\xc3\x01\x16\x00\xf4\x7f\x06\x81D\x00\x17@C\x02\x16@\xf3\x7f\x05\x81\x02\x00\x06\xc1D\x02@\x01\x00\x00\x81\x01\x05\x00\x1cA\x80\x01\x16\xc0\xf1\x7f\x1e\x00\x80\x00\x15\x00\x00\x00\x04\t\x00\x00\x00position\x00\x03\x00\x00\x00\x00\x00\x00\x08@\x04\x0e\x00\x00\x00PhysicsObject\x00\x04\x14\x00\x00\x00SetGravityMagnitude\x00\x03333333\xd3?\x04\x15\x00\x00\x00SetDecelerationForce\x00\x03333333\xfb?\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x07\x00\x00\x00IsIdle\x00\x00\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\x1e\x00\x00\x00DirectionToTargetFromPosition\x00\x04\x14\x00\x00\x00SetGravityDirection\x00\x04\x0b\x00\x00\x00normalized\x00\x04\x08\x00\x00\x00seeker1\x00\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00\xc0_@\x00\x00\x00\x00G\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x12\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00#\x00\x00\x00$\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00F\x00\x00\x00\x0f\x00\x00\x00targetPosition\x00\x03\x00\x00\x00F\x00\x00\x00\x10\x00\x00\x00timeSinceAttack\x00\x04\x00\x00\x00F\x00\x00\x00\x07\x00\x00\x00target\x00\x17\x00\x00\x00E\x00\x00\x00\x06\x00\x00\x00delta\x000\x00\x00\x00;\x00\x00\x00\x00\x00\x00\x00'
                }
                Enabled : 1
                Trigger : 1
            }
        }
        Component{
            ClassName : 'PhysicsObject'
            Identifier : 123
            PhysicsObjectComponent{
                PhysicsEnabled : 1
                GroundDeceleration : 1500.0
                AirDeceleration : 0.0
                MaxSpeed : 700.0
                AllowRotation : 0
                Elasticity : 0.0
            }
        }
        Component{
            ClassName : 'EntityAction'
            Identifier : 127
            Label : 'generate_seeker'
            EntityActionComponent{
                OnActivate{
                    String : $
local self = ...;

local seeker1 = Scene.CreateObject("seeker", "seeker1", self);

seeker1:setPosition(self:position()+Vector3.New(0,40,0));

seeker1:setParentObject(self);

seeker1["parent"] = self;
self["seeker1"] = seeker1;


$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xf0\x00\x00\x00local self = ...;\r\n\r\nlocal seeker1 = Scene.CreateObject("seeker", "seeker1", self);\r\n\r\nseeker1:setPosition(self:position()+Vector3.New(0,40,0));\r\n\r\nseeker1:setParentObject(self);\r\n\r\nseeker1["parent"] = self;\r\nself["seeker1"] = seeker1;\r\n\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\t\x18\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x81\x80\x00\x00\xc1\xc0\x00\x00\x00\x01\x00\x00\\\x80\x00\x02\x8b\x00\xc1\x00\x0bAA\x00\x1c\x81\x00\x01E\x81\x01\x00F\xc1\xc1\x02\x81\x01\x02\x00\xc1A\x02\x00\x01\x02\x02\x00\\\x81\x00\x02\x0cA\x01\x02\x9c@\x80\x01\x8b\x80\xc2\x00\x00\x01\x00\x00\x9c@\x80\x01I\x00\x80\x85\t@\x80\x81\x1e\x00\x80\x00\x0c\x00\x00\x00\x04\x06\x00\x00\x00Scene\x00\x04\r\x00\x00\x00CreateObject\x00\x04\x07\x00\x00\x00seeker\x00\x04\x08\x00\x00\x00seeker1\x00\x04\x0c\x00\x00\x00setPosition\x00\x04\t\x00\x00\x00position\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00D@\x04\x10\x00\x00\x00setParentObject\x00\x04\x07\x00\x00\x00parent\x00\x00\x00\x00\x00\x18\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x02\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x17\x00\x00\x00\x08\x00\x00\x00seeker1\x00\x07\x00\x00\x00\x17\x00\x00\x00\x00\x00\x00\x00'
                }
            }
        }
        Component{
            ClassName : 'Properties'
            Identifier : 129
            PropertiesComponent{
                OnLoad{
                }
            }
        }
        Component{
            ClassName : 'Skill'
            Identifier : 133
            SkillComponent{
                CastFinishAnimationId : 0
                Origin{
                    X : 30.0
                    Y : 40.0
                }
                CastObjectTemplateName : 'dragonkin_spell_cast'
            }
        }
        Component{
            ClassName : 'EntityAction'
            Identifier : 134
            Label : 'shoot'
            EntityActionComponent{
                OnActivate{
                    String : $
local self = ...;

local invokeAnimation = 1;
local castAnimation = 2;

PhysicsObject.SetGravityMagnitude(self, 0);
PhysicsObject.SetDecelerationForce(self, 3);

KeyframeAnimation.SetCurrentTime(self, invokeAnimation, 0.0);
AnimationController.BlendToAnimation(self, invokeAnimation);

local fireball = Skill.BeginCasting(self, "dragonkin_fireball", Vector3.New(1,0,0));

Program.Wait(0.4);

KeyframeAnimation.SetCurrentTime(self, castAnimation, 0.0);
AnimationController.BlendToAnimation(self, castAnimation);

Program.Wait(KeyframeAnimation.TimeToFrame(self, castAnimation, 6));

Skill.FinishCasting(self);

local direction = (self["seeker1"]:position() - Skill.Origin(self)):normalized();

fireball:setVelocity(direction * 800);
SoundLibrary.PlayEffect("woosh1");

Program.Wait(KeyframeAnimation.TimeToCompletion(self, castAnimation));

self["seeker1"]:destroy();
self["seeker1"] = nil;

PhysicsObject.SetGravityMagnitude(self, 0.3);
PhysicsObject.SetDecelerationForce(self, 1.7);




$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x01\x04\x00\x00local self = ...;\r\n\r\nlocal invokeAnimation = 1;\r\nlocal castAnimation = 2;\r\n\r\nPhysicsObject.SetGravityMagnitude(self, 0);\r\nPhysicsObject.SetDecelerationForce(self, 3);\r\n\r\nKeyframeAnimation.SetCurrentTime(self, invokeAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, invokeAnimation);\r\n\r\nlocal fireball = Skill.BeginCasting(self, "dragonkin_fireball", Vector3.New(1,0,0));\r\n\r\nProgram.Wait(0.4);\r\n\r\nKeyframeAnimation.SetCurrentTime(self, castAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, castAnimation);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToFrame(self, castAnimation, 6));\r\n\r\nSkill.FinishCasting(self);\r\n\r\nlocal direction = (self["seeker1"]:position() - Skill.Origin(self)):normalized();\r\n\r\nfireball:setVelocity(direction * 800);\r\nSoundLibrary.PlayEffect("woosh1");\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, castAnimation));\r\n\r\nself["seeker1"]:destroy();\r\nself["seeker1"] = nil;\r\n\r\nPhysicsObject.SetGravityMagnitude(self, 0.3);\r\nPhysicsObject.SetDecelerationForce(self, 1.7);\r\n\r\n\r\n\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\ng\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x81@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x00\x01\x00\x00A\x01\x01\x00\xdc@\x80\x01\xc5\x80\x00\x00\xc6@\xc1\x01\x00\x01\x00\x00A\x81\x01\x00\xdc@\x80\x01\xc5\xc0\x01\x00\xc6\x00\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\x81\x01\x01\x00\xdc@\x00\x02\xc5@\x02\x00\xc6\x80\xc2\x01\x00\x01\x00\x00@\x01\x80\x00\xdc@\x80\x01\xc5\xc0\x02\x00\xc6\x00\xc3\x01\x00\x01\x00\x00AA\x03\x00\x85\x81\x03\x00\x86\xc1C\x03\xc1\x01\x00\x00\x01\x02\x01\x00A\x02\x01\x00\x9c\x01\x00\x02\xdc\x80\x00\x00\x05\x01\x04\x00\x06AD\x02A\x81\x04\x00\x1cA\x00\x01\x05\xc1\x01\x00\x06\x01B\x02@\x01\x00\x00\x80\x01\x00\x01\xc1\x01\x01\x00\x1cA\x00\x02\x05A\x02\x00\x06\x81B\x02@\x01\x00\x00\x80\x01\x00\x01\x1cA\x80\x01\x05\x01\x04\x00\x06AD\x02E\xc1\x01\x00F\xc1\xc4\x02\x80\x01\x00\x00\xc0\x01\x00\x01\x01\x02\x05\x00\\\x01\x00\x02\x1cA\x00\x00\x05\xc1\x02\x00\x06AE\x02@\x01\x00\x00\x1cA\x00\x01\x06\x81E\x00\x0b\xc1E\x02\x1c\x81\x00\x01E\xc1\x02\x00F\x01\xc6\x02\x80\x01\x00\x00\\\x81\x00\x01\rA\x01\x02\x0bAF\x02\x1c\x81\x00\x01K\x81\xc6\x01\xce\xc1F\x02\\A\x80\x01E\x01\x07\x00FA\xc7\x02\x81\x81\x07\x00\\A\x00\x01E\x01\x04\x00FA\xc4\x02\x85\xc1\x01\x00\x86\xc1G\x03\xc0\x01\x00\x00\x00\x02\x00\x01\x9c\x01\x80\x01\\A\x00\x00F\x81E\x00K\x01\xc8\x02\\A\x00\x01\t@H\x8bE\x81\x00\x00F\xc1\xc0\x02\x80\x01\x00\x00\xc1\x81\x08\x00\\A\x80\x01E\x81\x00\x00FA\xc1\x02\x80\x01\x00\x00\xc1\xc1\x08\x00\\A\x80\x01\x1e\x00\x80\x00$\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x03\x00\x00\x00\x00\x00\x00\x00@\x04\x0e\x00\x00\x00PhysicsObject\x00\x04\x14\x00\x00\x00SetGravityMagnitude\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x04\x15\x00\x00\x00SetDecelerationForce\x00\x03\x00\x00\x00\x00\x00\x00\x08@\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x06\x00\x00\x00Skill\x00\x04\r\x00\x00\x00BeginCasting\x00\x04\x13\x00\x00\x00dragonkin_fireball\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xd9?\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00\x18@\x04\x0e\x00\x00\x00FinishCasting\x00\x04\x08\x00\x00\x00seeker1\x00\x04\t\x00\x00\x00position\x00\x04\x07\x00\x00\x00Origin\x00\x04\x0b\x00\x00\x00normalized\x00\x04\x0c\x00\x00\x00setVelocity\x00\x03\x00\x00\x00\x00\x00\x00\x89@\x04\r\x00\x00\x00SoundLibrary\x00\x04\x0b\x00\x00\x00PlayEffect\x00\x04\x07\x00\x00\x00woosh1\x00\x04\x11\x00\x00\x00TimeToCompletion\x00\x04\x08\x00\x00\x00destroy\x00\x00\x03333333\xd3?\x03333333\xfb?\x00\x00\x00\x00g\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x17\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1a\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1f\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00f\x00\x00\x00\x10\x00\x00\x00invokeAnimation\x00\x02\x00\x00\x00f\x00\x00\x00\x0e\x00\x00\x00castAnimation\x00\x03\x00\x00\x00f\x00\x00\x00\t\x00\x00\x00fireball\x00#\x00\x00\x00f\x00\x00\x00\n\x00\x00\x00direction\x00I\x00\x00\x00f\x00\x00\x00\x00\x00\x00\x00'
                }
            }
        }
        Component{
            ClassName : 'SwingableWeaponController'
            Identifier : 138
            SwingableWeaponControllerComponent{
                ControllingModelId : 101
                ControllingBoneName : 'BoneRightWeapon'
                WeaponTemplateName : 'weapon_handglow_red'
            }
        }
        Position{
            X : 0.0
            Y : 0.0
        }
        Depth : 0.0
        Rotation : 0.0
        Scaling : 1.0
        LocalAabb{
            X : -20.0
            Y : 0.0
            Width : 30.0
            Height : 85.0
        }
        Hidden : 0
        OnLoad{
            String : $
local self = ...;

self["seeker1"] = nil;
$end
            Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00,\x00\x00\x00local self = ...;\r\n\r\nself["seeker1"] = nil;\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x02\x03\x00\x00\x00%\x00\x00\x01\t@@\x80\x1e\x00\x80\x00\x02\x00\x00\x00\x04\x08\x00\x00\x00seeker1\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x01\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x02\x00\x00\x00\x00\x00\x00\x00'
        }
    }
    Scaling : 1.0
}
Template{
    Object{
        Identifier : 'dragonkin_fireball'
        Component{
            ClassName : 'SimpleGlow'
            Identifier : 1
            SimpleGlowComponent{
                Color{
                    R : 0.8333333134651184
                    G : 0.29147660732269287
                    B : 0.0
                    A : 0.0
                }
                Size : 25.0
                NumSegments : 20
                Depth : 15.0
                PulseAmount : 0.15000000596046448
                PulseTime : 0.800000011920929
                Offset{
                    X : 0.0
                    Y : 0.0
                }
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 2
            ShapeComponent{
                Rectangle{
                    X : -10.0
                    Y : -10.0
                    Width : 20.0
                    Height : 20.0
                }
            }
            CollisionShapeComponent{
                Collides : 1
                InflictsDamage : 1
                MinDepth : -15.0
                MaxDepth : 15.0
                Enabled : 1
            }
        }
        Component{
            ClassName : 'SoundEffect'
            Identifier : 3
            SoundEffectComponent{
                Name : 'woosh1'
                Delay : 0.0
                Volume : 1.0
            }
        }
        Component{
            ClassName : 'Damage'
            Identifier : 4
            DamageComponent{
                MinDamage : 1
                DamageType : 0
                SpecialDamageType : 0
                PhysicalDamageFactor : 1.0
                MagicDamageFactor : 0.0
                IgnoreTargetImmunity : 0
                CanBeBlocked : 1
            }
        }
        Component{
            ClassName : 'Light'
            Identifier : 6
            LightComponent{
                Type : 3
                Intensity : 2.0
                Color{
                    R : 1.0
                    G : 0.610582172870636
                    B : 0.28888893127441406
                    A : 1.0
                }
                LinearAttenuation : 0.0
                QuadraticAttenuation : 0.00019999999494757503
                Offset{
                    X : 0.0
                    Y : 0.0
                    Z : 0.0
                }
                Radius : 250.0
            }
        }
        Component{
            ClassName : 'EntityInfo'
            Identifier : 7
            EntityInfoComponent{
                EntityClass : 'bolt'
            }
        }
        Component{
            ClassName : 'ParticleEmitter'
            Identifier : 102
            ParticleEmitterComponent{
                ParticleId : 103
                ParticleId : 104
                ParticleId : 105
                ModelBindingId : 0
                MaxParticles : 30
                ParentEmitterId : 0
                DestroyWhenFinished : 0
                LocalSystem : 0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 103
            ParticleComponent{
                TextureName : 'particle_fure_1'
                Size : 40.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 104
            ParticleComponent{
                TextureName : 'particle_fure_2'
                Size : 40.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 105
            ParticleComponent{
                TextureName : 'particle_fure_3'
                Size : 40.0
            }
        }
        Component{
            ClassName : 'MagicBolt'
            Identifier : 106
            MagicBoltComponent{
                ParticleEmitterId : 102
                SwooshSoundId : 3
                HitSoundId : 0
                Color{
                    R : 1.0
                    G : 0.5160372257232666
                    B : 0.009555578231811523
                    A : 0.0
                }
                Speed : 0.0
            }
            SpellComponent{
            }
        }
        Position{
            X : 0.0
            Y : 0.0
        }
        Depth : 0.0
        Rotation : 0.0
        Scaling : 1.0
        LocalAabb{
            X : -50.0
            Y : -50.0
            Width : 100.0
            Height : 100.0
        }
        Hidden : 0
    }
    Scaling : 1.5
}
Template{
    Object{
        Identifier : 'dragonkin_melee'
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 1
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'dragonkin_swing'
                Repeating : 0
                SpeedMultiplier : 1.2999999523162842
                Running : 1
            }
        }
        Component{
            ClassName : 'EntityInfo'
            Identifier : 2
            EntityInfoComponent{
                EntityClass : 'corruptor'
            }
        }
        Component{
            ClassName : 'Model'
            Identifier : 101
            ModelComponent{
                Name : 'dragonkin'
                YRotation : 1.5707963705062866
                EmissionFactor : 0.0
                XRotation : 0.0
                ShatterColor{
                    R : 0.0
                    G : 0.0
                    B : 0.0
                    A : 1.0
                }
                Origin{
                    X : 0.0
                    Y : 0.0
                    Z : 0.0
                }
                Transparent : 0
                DiffuseColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
            }
        }
        Component{
            ClassName : 'KeyframeAnimation'
            Identifier : 103
            KeyframeAnimationComponent{
                ModelId : 101
                Name : 'dragonkin_sword_fly'
                Repeating : 1
                SpeedMultiplier : 1.0
                Running : 1
            }
        }
        Component{
            ClassName : 'EntityController'
            Identifier : 104
            EntityControllerComponent{
                EntityId : 106
                AnimationControllerId : 105
                DefaultMoveAnimationId : 103
                RoamAreaId : 0
                DefaultMoveSpeed : 100.0
                DefaultAcceleration : 800.0
                TargetingDistance : 1000.0
                MovementBehavior : 1
            }
        }
        Component{
            ClassName : 'AnimationController'
            Identifier : 105
            AnimationControllerComponent{
                ModelId : 101
                DefaultAnimationId : 0
                SelfUpdate : 0
            }
        }
        Component{
            ClassName : 'MonsterEntity'
            Identifier : 106
            EntityComponent{
                FacingDirection : 1
                PhysicsEnabled : 0
            }
            MonsterEntityComponent{
                OnKill{
                }
                OnHurt{
                }
                GivesExperience : 1
                DefaultDeathAnimation : 1
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 108
            ShapeComponent{
                Rectangle{
                    X : -20.0
                    Y : 10.0
                    Width : 30.0
                    Height : 75.0
                }
            }
            CollisionShapeComponent{
                Collides : 1
                ReceivesDamage : 1
                InflictsDamage : 1
                MinDepth : -15.0
                MaxDepth : 15.0
                Enabled : 1
            }
        }
        Component{
            ClassName : 'Damage'
            Identifier : 110
            DamageComponent{
                MinDamage : 1
                DamageType : 0
                SpecialDamageType : 0
                PhysicalDamageFactor : 1.0
                MagicDamageFactor : 0.0
                IgnoreTargetImmunity : 0
                CanBeBlocked : 1
            }
        }
        Component{
            ClassName : 'Health'
            Identifier : 111
            HealthComponent{
                MaxHealth : 15
                HEALTHTYPE : 0
                BarOffset{
                    X : 0.0
                    Y : 50.0
                }
            }
        }
        Component{
            ClassName : 'ParticleEmitter'
            Identifier : 115
            ParticleEmitterComponent{
                ParticleId : 116
                ParticleId : 117
                ParticleId : 118
                ModelBindingId : 0
                MaxParticles : 100
                ParentEmitterId : 0
                DestroyWhenFinished : 0
                Emitter{
                    Type : 5
                    BaseColor{
                        R : 0.0
                        G : 0.0
                        B : 0.0
                        A : 0.5666666626930237
                    }
                    Parameter : -105.0
                    Parameter : 30.0
                    Parameter : 0.0
                    Parameter : 20.0
                    Parameter : 0.0
                    Parameter : 300.0
                    Parameter : 0.0
                    Parameter : 0.0
                    Parameter : 1.0
                    Parameter : 0.0
                    Parameter : 1.0
                    Parameter : 0.004999999888241291
                    Parameter : 0.4000000059604645
                    Parameter : 0.0
                    Parameter : 0.0
                    HueVariance : 0.0
                    SaturationVariance : 0.0
                    LightnessVariance : 0.0
                    OriginOffset{
                        X : 7.0
                        Y : 50.0
                        Z : 0.0
                    }
                }
                LocalSystem : 0
                Gravity{
                    X : 0.0
                    Y : 800.0
                    Z : 0.0
                }
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 116
            ParticleComponent{
                TextureName : 'particle_fure_1'
                Size : 40.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 117
            ParticleComponent{
                TextureName : 'particle_fure_2'
                Size : 30.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 118
            ParticleComponent{
                TextureName : 'particle_fure_3'
                Size : 20.0
            }
        }
        Component{
            ClassName : 'Program'
            Identifier : 122
            ProgramComponent{
                ExecuteOnce : 1
                Program{
                    String : $
local self = ...;

local targetPosition = self:position();

local timeSinceAttack = 3;

PhysicsObject.SetGravityMagnitude(self, 0.7);
PhysicsObject.SetDecelerationForce(self, 2);

while true do
    Program.Wait(0.2);
    timeSinceAttack = timeSinceAttack + 0.2;
    local target = EntityController.Target(self);

    if EntityController.IsIdle(self) then    

        if target ~= nil then
            EntityController.SetFacingDirection(self, 
                DirectionToTargetFromPosition(EntityController.Target(self):position(), self:position()));
        end

        local delta = targetPosition - self:position();

        PhysicsObject.SetGravityDirection(self, delta:normalized());


        if  target ~= nil  then
            targetPosition = target:position();
        end

    end

    if target ~= nil and timeSinceAttack > 1.5 and Math.Abs(targetPosition:x() - self:position():x()) < 200 then
        EntityController.PerformAction(self, 137);
        timeSinceAttack = 0;
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\xa6\x03\x00\x00local self = ...;\r\n\r\nlocal targetPosition = self:position();\r\n\r\nlocal timeSinceAttack = 3;\r\n\r\nPhysicsObject.SetGravityMagnitude(self, 0.7);\r\nPhysicsObject.SetDecelerationForce(self, 2);\r\n\r\nwhile true do\r\n\tProgram.Wait(0.2);\r\n\ttimeSinceAttack = timeSinceAttack + 0.2;\r\n\tlocal target = EntityController.Target(self);\r\n\r\n\tif EntityController.IsIdle(self) then\t\r\n\r\n\t\tif target ~= nil then\r\n\t\t\tEntityController.SetFacingDirection(self, \r\n\t\t\t\tDirectionToTargetFromPosition(EntityController.Target(self):position(), self:position()));\r\n\t\tend\r\n\r\n\t\tlocal delta = targetPosition - self:position();\r\n\r\n\t\tPhysicsObject.SetGravityDirection(self, delta:normalized());\r\n\r\n\r\n\t\tif  target ~= nil  then\r\n\t\t\ttargetPosition = target:position();\r\n\t\tend\r\n\r\n\tend\r\n\r\n\tif target ~= nil and timeSinceAttack > 1.5 and Math.Abs(targetPosition:x() - self:position():x()) < 200 then\r\n\t\tEntityController.PerformAction(self, 137);\r\n\t\ttimeSinceAttack = 0;\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\nS\x00\x00\x00%\x00\x00\x01K\x00@\x00\\\x80\x00\x01\x81@\x00\x00\xc5\x80\x00\x00\xc6\xc0\xc0\x01\x00\x01\x00\x00A\x01\x01\x00\xdc@\x80\x01\xc5\x80\x00\x00\xc6@\xc1\x01\x00\x01\x00\x00A\x81\x01\x00\xdc@\x80\x01\xc5\xc0\x01\x00\xc6\x00\xc2\x01\x01A\x02\x00\xdc@\x00\x01\x8c@B\x01\xc5\x80\x02\x00\xc6\xc0\xc2\x01\x00\x01\x00\x00\xdc\x80\x00\x01\x05\x81\x02\x00\x06\x01C\x02@\x01\x00\x00\x1c\x81\x00\x01\x1a\x01\x00\x00\x16@\x07\x80W@\xc3\x01\x16@\x03\x80\x05\x81\x02\x00\x06\x81C\x02@\x01\x00\x00\x85\xc1\x03\x00\xc5\x81\x02\x00\xc6\xc1\xc2\x03\x00\x02\x00\x00\xdc\x81\x00\x01\xcb\x01\xc0\x03\xdc\x81\x00\x01\x0b\x02@\x00\x1c\x02\x00\x01\x9c\x01\x00\x00\x1cA\x00\x00\x0b\x01@\x00\x1c\x81\x00\x01\r\x01\x81\x00E\x81\x00\x00F\x01\xc4\x02\x80\x01\x00\x00\xcbAD\x02\xdc\x01\x00\x01\\A\x00\x00W@\xc3\x01\x16\x80\x00\x80K\x01\xc0\x01\\\x81\x00\x01@\x00\x80\x02W@\xc3\x01\x16\x00\xf4\x7f\x18\x80\x00\x89\x16\x80\xf3\x7f\x05\xc1\x04\x00\x06\x01E\x02KA\xc5\x00\\\x81\x00\x01\x8b\x01@\x00\x9c\x81\x00\x01\x8bAE\x03\x9c\x81\x00\x01M\x81\x81\x02\x1c\x81\x00\x01\x18\x80E\x02\x16\x80\xf0\x7f\x05\x81\x02\x00\x06\xc1E\x02@\x01\x00\x00\x81\x01\x06\x00\x1cA\x80\x01\x81@\x06\x00\x16\xc0\xee\x7f\x1e\x00\x80\x00\x1a\x00\x00\x00\x04\t\x00\x00\x00position\x00\x03\x00\x00\x00\x00\x00\x00\x08@\x04\x0e\x00\x00\x00PhysicsObject\x00\x04\x14\x00\x00\x00SetGravityMagnitude\x00\x03ffffff\xe6?\x04\x15\x00\x00\x00SetDecelerationForce\x00\x03\x00\x00\x00\x00\x00\x00\x00@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xc9?\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x07\x00\x00\x00IsIdle\x00\x00\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\x1e\x00\x00\x00DirectionToTargetFromPosition\x00\x04\x14\x00\x00\x00SetGravityDirection\x00\x04\x0b\x00\x00\x00normalized\x00\x03\x00\x00\x00\x00\x00\x00\xf8?\x04\x05\x00\x00\x00Math\x00\x04\x04\x00\x00\x00Abs\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00i@\x04\x0e\x00\x00\x00PerformAction\x00\x03\x00\x00\x00\x00\x00 a@\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00S\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x12\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x12\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00\x1c\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00#\x00\x00\x00$\x00\x00\x00%\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00R\x00\x00\x00\x0f\x00\x00\x00targetPosition\x00\x03\x00\x00\x00R\x00\x00\x00\x10\x00\x00\x00timeSinceAttack\x00\x04\x00\x00\x00R\x00\x00\x00\x07\x00\x00\x00target\x00\x17\x00\x00\x00Q\x00\x00\x00\x06\x00\x00\x00delta\x000\x00\x00\x00;\x00\x00\x00\x00\x00\x00\x00'
                }
                Enabled : 1
                Trigger : 1
            }
        }
        Component{
            ClassName : 'PhysicsObject'
            Identifier : 123
            PhysicsObjectComponent{
                PhysicsEnabled : 1
                GroundDeceleration : 1500.0
                AirDeceleration : 0.0
                MaxSpeed : 700.0
                AllowRotation : 0
                Elasticity : 0.0
            }
        }
        Component{
            ClassName : 'Skill'
            Identifier : 133
            SkillComponent{
                CastFinishAnimationId : 0
                Origin{
                    X : 30.0
                    Y : 40.0
                }
                CastObjectTemplateName : 'dragonkin_spell_cast'
            }
        }
        Component{
            ClassName : 'EntityAction'
            Identifier : 137
            EntityActionComponent{
                OnActivate{
                    String : $
local self = ...;

local swingAnimation = 1;

local target = EntityController.Target(self);

local targetDirection = 1;
if (target:position() - self:position()):x() < 0 then targetDirection = -1; end

EntityController.SetFacingDirection(self, targetDirection, 0.1);

PhysicsObject.SetGravityMagnitude(self, 0);
PhysicsObject.SetDecelerationForce(self, 3);

KeyframeAnimation.SetCurrentTime(self, swingAnimation, 0.0);
AnimationController.BlendToAnimation(self, swingAnimation);


local swingStartTime = KeyframeAnimation.TimeToFrame(self, swingAnimation, 8);
local swingEndTime = KeyframeAnimation.TimeToFrame(self, swingAnimation, 13);

Program.Wait(swingStartTime-0.15);

EntityController.SetFacingDirection(self, targetDirection);
EntityController.SetMoveDirection(self, targetDirection);    

Program.Wait(0.15);

EntityController.StartSwing(self, 141, swingEndTime - swingStartTime);

Program.Wait(KeyframeAnimation.TimeToCompletion(self, swingAnimation));

PhysicsObject.SetGravityMagnitude(self, 0.7);
PhysicsObject.SetDecelerationForce(self, 2);

$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00>\x04\x00\x00local self = ...;\r\n\r\nlocal swingAnimation = 1;\r\n\r\nlocal target = EntityController.Target(self);\r\n\r\nlocal targetDirection = 1;\r\nif (target:position() - self:position()):x() < 0 then targetDirection = -1; end\r\n\r\nEntityController.SetFacingDirection(self, targetDirection, 0.1);\r\n\r\nPhysicsObject.SetGravityMagnitude(self, 0);\r\nPhysicsObject.SetDecelerationForce(self, 3);\r\n\r\nKeyframeAnimation.SetCurrentTime(self, swingAnimation, 0.0);\r\nAnimationController.BlendToAnimation(self, swingAnimation);\r\n\r\n\r\nlocal swingStartTime = KeyframeAnimation.TimeToFrame(self, swingAnimation, 8);\r\nlocal swingEndTime = KeyframeAnimation.TimeToFrame(self, swingAnimation, 13);\r\n\r\nProgram.Wait(swingStartTime-0.15);\r\n\r\nEntityController.SetFacingDirection(self, targetDirection);\r\nEntityController.SetMoveDirection(self, targetDirection);\t\r\n\r\nProgram.Wait(0.15);\r\n\r\nEntityController.StartSwing(self, 141, swingEndTime - swingStartTime);\r\n\r\nProgram.Wait(KeyframeAnimation.TimeToCompletion(self, swingAnimation));\r\n\r\nPhysicsObject.SetGravityMagnitude(self, 0.7);\r\nPhysicsObject.SetDecelerationForce(self, 2);\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\nc\x00\x00\x00%\x00\x00\x01A\x00\x00\x00\x85@\x00\x00\x86\x80@\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\xc1\x00\x00\x00\x0b\xc1@\x01\x1c\x81\x00\x01K\xc1@\x00\\\x81\x00\x01\rA\x01\x02\x0b\x01A\x02\x1c\x81\x00\x01\x18@A\x02\x16\x00\x00\x80\xc1\x80\x01\x00\x05A\x00\x00\x06\xc1A\x02@\x01\x00\x00\x80\x01\x80\x01\xc1\x01\x02\x00\x1cA\x00\x02\x05A\x02\x00\x06\x81B\x02@\x01\x00\x00\x81A\x01\x00\x1cA\x80\x01\x05A\x02\x00\x06\xc1B\x02@\x01\x00\x00\x81\x01\x03\x00\x1cA\x80\x01\x05A\x03\x00\x06\x81C\x02@\x01\x00\x00\x80\x01\x80\x00\xc1A\x01\x00\x1cA\x00\x02\x05\xc1\x03\x00\x06\x01D\x02@\x01\x00\x00\x80\x01\x80\x00\x1cA\x80\x01\x05A\x03\x00\x06AD\x02@\x01\x00\x00\x80\x01\x80\x00\xc1\x81\x04\x00\x1c\x81\x00\x02EA\x03\x00FA\xc4\x02\x80\x01\x00\x00\xc0\x01\x80\x00\x01\xc2\x04\x00\\\x81\x00\x02\x85\x01\x05\x00\x86AE\x03\xcd\x81E\x02\x9cA\x00\x01\x85A\x00\x00\x86\xc1A\x03\xc0\x01\x00\x00\x00\x02\x80\x01\x9cA\x80\x01\x85A\x00\x00\x86\xc1E\x03\xc0\x01\x00\x00\x00\x02\x80\x01\x9cA\x80\x01\x85\x01\x05\x00\x86AE\x03\xc1\x81\x05\x00\x9cA\x00\x01\x85A\x00\x00\x86\x01F\x03\xc0\x01\x00\x00\x01B\x06\x00M\x02\x81\x02\x9cA\x00\x02\x85\x01\x05\x00\x86AE\x03\xc5A\x03\x00\xc6\x81\xc6\x03\x00\x02\x00\x00@\x02\x80\x00\xdc\x01\x80\x01\x9cA\x00\x00\x85A\x02\x00\x86\x81B\x03\xc0\x01\x00\x00\x01\xc2\x06\x00\x9cA\x80\x01\x85A\x02\x00\x86\xc1B\x03\xc0\x01\x00\x00\x01\x02\x07\x00\x9cA\x80\x01\x1e\x00\x80\x00\x1d\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\t\x00\x00\x00position\x00\x04\x02\x00\x00\x00x\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xbf\x04\x13\x00\x00\x00SetFacingDirection\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x0e\x00\x00\x00PhysicsObject\x00\x04\x14\x00\x00\x00SetGravityMagnitude\x00\x04\x15\x00\x00\x00SetDecelerationForce\x00\x03\x00\x00\x00\x00\x00\x00\x08@\x04\x12\x00\x00\x00KeyframeAnimation\x00\x04\x0f\x00\x00\x00SetCurrentTime\x00\x04\x14\x00\x00\x00AnimationController\x00\x04\x11\x00\x00\x00BlendToAnimation\x00\x04\x0c\x00\x00\x00TimeToFrame\x00\x03\x00\x00\x00\x00\x00\x00 @\x03\x00\x00\x00\x00\x00\x00*@\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03333333\xc3?\x04\x11\x00\x00\x00SetMoveDirection\x00\x04\x0b\x00\x00\x00StartSwing\x00\x03\x00\x00\x00\x00\x00\xa0a@\x04\x11\x00\x00\x00TimeToCompletion\x00\x03ffffff\xe6?\x03\x00\x00\x00\x00\x00\x00\x00@\x00\x00\x00\x00c\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x10\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x18\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00"\x00\x00\x00\x06\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00b\x00\x00\x00\x0f\x00\x00\x00swingAnimation\x00\x02\x00\x00\x00b\x00\x00\x00\x07\x00\x00\x00target\x00\x06\x00\x00\x00b\x00\x00\x00\x10\x00\x00\x00targetDirection\x00\x07\x00\x00\x00b\x00\x00\x00\x0f\x00\x00\x00swingStartTime\x002\x00\x00\x00b\x00\x00\x00\r\x00\x00\x00swingEndTime\x008\x00\x00\x00b\x00\x00\x00\x00\x00\x00\x00'
                }
            }
        }
        Component{
            ClassName : 'SwingableWeaponController'
            Identifier : 141
            SwingableWeaponControllerComponent{
                ControllingModelId : 101
                ControllingBoneName : 'BoneRightWeapon'
                WeaponTemplateName : 'dragonkin_sword'
            }
        }
        Position{
            X : 0.0
            Y : 0.0
        }
        Depth : 0.0
        Rotation : 0.0
        Scaling : 1.0
        LocalAabb{
            X : -20.0
            Y : 0.0
            Width : 30.0
            Height : 85.0
        }
        Hidden : 0
        OnLoad{
            String : $
local self = ...;

self["seeker1"] = nil;
$end
            Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00,\x00\x00\x00local self = ...;\r\n\r\nself["seeker1"] = nil;\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x02\x03\x00\x00\x00%\x00\x00\x01\t@@\x80\x1e\x00\x80\x00\x02\x00\x00\x00\x04\x08\x00\x00\x00seeker1\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x01\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x02\x00\x00\x00\x00\x00\x00\x00'
        }
    }
    Scaling : 1.0
}
Template{
    Object{
        Identifier : 'dragonkin_spell_cast'
        Component{
            ClassName : 'SimpleGlow'
            Identifier : 1
            SimpleGlowComponent{
                Color{
                    R : 1.0
                    G : 0.16666662693023682
                    B : 0.1666669249534607
                    A : 0.5
                }
                Size : 20.0
                NumSegments : 10
                Depth : 15.0
                PulseAmount : 0.15000000596046448
                PulseTime : 0.800000011920929
                Offset{
                    X : 0.0
                    Y : 0.0
                }
            }
        }
        Component{
            ClassName : 'ParticleEmitter'
            Identifier : 102
            ParticleEmitterComponent{
                ParticleId : 103
                ParticleId : 104
                ParticleId : 105
                ModelBindingId : 0
                MaxParticles : 30
                ParentEmitterId : 0
                DestroyWhenFinished : 0
                LocalSystem : 0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 103
            ParticleComponent{
                TextureName : 'particle_fure_1'
                Size : 40.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 104
            ParticleComponent{
                TextureName : 'particle_fure_2'
                Size : 40.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 105
            ParticleComponent{
                TextureName : 'particle_fure_3'
                Size : 40.0
            }
        }
        Component{
            ClassName : 'MagicSpellCast'
            Identifier : 109
            MagicSpellCastComponent{
                ParticleEmitterId : 102
                SoundEffectId : 0
            }
        }
        Position{
            X : 0.0
            Y : 0.0
        }
        Depth : 0.0
        Rotation : 0.0
        Scaling : 1.0
        LocalAabb{
            X : -20.0
            Y : -20.0
            Width : 40.0
            Height : 40.0
        }
        Hidden : 0
    }
    Scaling : 1.2999999523162842
}
Template{
    Object{
        Identifier : 'dragonkin_statue_scripted'
        Component{
            ClassName : 'CollisionShape'
            Identifier : 1
            ParentComponentIdentifier : 110
            ShapeComponent{
                Polygon{
                    Vertex{
                        X : 19.1015625
                        Y : 38.1519775390625
                    }
                    Vertex{
                        X : 0.4586181640625
                        Y : 90.96044921875
                    }
                    Vertex{
                        X : -17.4683837890625
                        Y : 98.51025390625
                    }
                    Vertex{
                        X : -14.41021728515625
                        Y : 67.4559326171875
                    }
                    Vertex{
                        X : -5.504425048828125
                        Y : 43.251953125
                    }
                    Vertex{
                        X : -14.747344970703125
                        Y : 12.609619140625
                    }
                    Vertex{
                        X : -31.7994384765625
                        Y : 10.823974609375
                    }
                    Vertex{
                        X : -30.858917236328125
                        Y : -0.478271484375
                    }
                    Vertex{
                        X : -1.468353271484375
                        Y : 0.7349853515625
                    }
                    Vertex{
                        X : 34.704010009765625
                        Y : 0.9876708984375
                    }
                    Vertex{
                        X : 30.930816650390625
                        Y : 8.8575439453125
                    }
                    Vertex{
                        X : 13.789398193359375
                        Y : 12.35302734375
                    }
                    Convex : 0
                    Closed : 1
                }
            }
            CollisionShapeComponent{
                IsGround : 1
                MinDepth : -50.0
                MaxDepth : 50.0
                Enabled : 1
            }
        }
        Component{
            ClassName : 'Model'
            Identifier : 101
            ModelComponent{
                Name : 'dragonkin_statue'
                YRotation : 0.0
                EmissionFactor : 0.30000001192092896
                XRotation : 0.0
                ShatterColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
                Origin{
                    X : 0.0
                    Y : 0.0
                    Z : 0.0
                }
                Transparent : 0
                DiffuseColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
            }
        }
        Component{
            ClassName : 'SimpleGlow'
            Identifier : 103
            SimpleGlowComponent{
                Color{
                    R : 0.4555555582046509
                    G : 0.47777777910232544
                    B : 1.0
                    A : 0.36666667461395264
                }
                Size : 17.0
                NumSegments : 10
                Depth : 15.0
                PulseAmount : 0.15000000596046448
                PulseTime : 0.800000011920929
                Offset{
                    X : -30.0
                    Y : 87.0
                }
            }
        }
        Component{
            ClassName : 'ParticleEmitter'
            Identifier : 105
            ParticleEmitterComponent{
                ParticleId : 106
                ParticleId : 107
                ParticleId : 108
                ModelBindingId : 0
                MaxParticles : 30
                ParentEmitterId : 0
                DestroyWhenFinished : 0
                Emitter{
                    Type : 5
                    BaseColor{
                        R : 0.13333332538604736
                        G : 0.1555556058883667
                        B : 0.5333333611488342
                        A : 0.0
                    }
                    Parameter : 0.0
                    Parameter : 0.0
                    Parameter : 0.0
                    Parameter : 0.0
                    Parameter : 0.0
                    Parameter : 0.0
                    Parameter : 0.0
                    Parameter : 0.0
                    Parameter : 1.0
                    Parameter : 0.0
                    Parameter : 1.0
                    Parameter : 0.05000000074505806
                    Parameter : 1.0
                    Parameter : 0.0
                    Parameter : 0.0
                    HueVariance : 0.0
                    SaturationVariance : 0.0
                    LightnessVariance : 0.0
                    OriginOffset{
                        X : -30.0
                        Y : 80.0
                        Z : -0.0
                    }
                }
                LocalSystem : 0
                Gravity{
                    X : 0.0
                    Y : 100.0
                    Z : 0.0
                }
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 106
            ParticleComponent{
                TextureName : 'particle_fure_1'
                Size : 20.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 107
            ParticleComponent{
                TextureName : 'particle_fure_2'
                Size : 22.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 108
            ParticleComponent{
                TextureName : 'particle_fure_3'
                Size : 25.0
            }
        }
        Component{
            ClassName : 'GroundPolygon'
            Identifier : 110
            GroundPolygonComponent{
                Polygon{
                    Vertex{
                        X : 19.1015625
                        Y : 38.1519775390625
                    }
                    Vertex{
                        X : 0.4586181640625
                        Y : 90.96044921875
                    }
                    Vertex{
                        X : -17.4683837890625
                        Y : 98.51025390625
                    }
                    Vertex{
                        X : -14.41021728515625
                        Y : 67.4559326171875
                    }
                    Vertex{
                        X : -5.504425048828125
                        Y : 43.251953125
                    }
                    Vertex{
                        X : -14.747344970703125
                        Y : 12.609619140625
                    }
                    Vertex{
                        X : -31.7994384765625
                        Y : 10.823974609375
                    }
                    Vertex{
                        X : -30.858917236328125
                        Y : -0.478271484375
                    }
                    Vertex{
                        X : -1.468353271484375
                        Y : 0.7349853515625
                    }
                    Vertex{
                        X : 34.704010009765625
                        Y : 0.9876708984375
                    }
                    Vertex{
                        X : 30.930816650390625
                        Y : 8.8575439453125
                    }
                    Vertex{
                        X : 13.789398193359375
                        Y : 12.35302734375
                    }
                    Convex : 0
                    Closed : 1
                }
                Collides : 1
                MinDepth : -50.0
                MaxDepth : 50.0
                OnCollide{
                }
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 112
            ShapeComponent{
                Rectangle{
                    X : -25.0
                    Y : 0.0
                    Width : 50.0
                    Height : 110.0
                }
            }
            CollisionShapeComponent{
                ReceivesDamage : 1
                MinDepth : -15.0
                MaxDepth : 15.0
                Enabled : 1
                OnReceiveDamage{
                    String : $
local self = ...;
local distance = Vector3.New(0,-35,0);
local time = 1;


TransformController.TranslateBy(self, distance, time);
TransformController.TranslateBy(Scene.Find("statueground"), distance, time);
for i = 1, 5 do
    Camera.Rumble();
    Program.Wait(0.1);
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x13\x01\x00\x00local self = ...;\r\nlocal distance = Vector3.New(0,-35,0);\r\nlocal time = 1;\r\n\r\n\r\nTransformController.TranslateBy(self, distance, time);\r\nTransformController.TranslateBy(Scene.Find("statueground"), distance, time);\r\nfor i = 1, 5 do\r\n\tCamera.Rumble();\r\n\tProgram.Wait(0.1);\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\t$\x00\x00\x00%\x00\x00\x01E\x00\x00\x00F@\xc0\x00\x81\x80\x00\x00\xc1\xc0\x00\x00\x01\x81\x00\x00\\\x80\x00\x02\x81\x00\x01\x00\xc5@\x01\x00\xc6\x80\xc1\x01\x00\x01\x00\x00@\x01\x80\x00\x80\x01\x00\x01\xdc@\x00\x02\xc5@\x01\x00\xc6\x80\xc1\x01\x05\xc1\x01\x00\x06\x01B\x02AA\x02\x00\x1c\x81\x00\x01@\x01\x80\x00\x80\x01\x00\x01\xdc@\x00\x02\xc1\x00\x01\x00\x01\x81\x02\x00A\x01\x01\x00\xe0\x80\x01\x80\xc5\xc1\x02\x00\xc6\x01\xc3\x03\xdcA\x80\x00\xc5A\x03\x00\xc6\x81\xc3\x03\x01\xc2\x03\x00\xdcA\x00\x01\xdf\xc0\xfd\x7f\x1e\x00\x80\x00\x10\x00\x00\x00\x04\x08\x00\x00\x00Vector3\x00\x04\x04\x00\x00\x00New\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x80A\xc0\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\x14\x00\x00\x00TransformController\x00\x04\x0c\x00\x00\x00TranslateBy\x00\x04\x06\x00\x00\x00Scene\x00\x04\x05\x00\x00\x00Find\x00\x04\r\x00\x00\x00statueground\x00\x03\x00\x00\x00\x00\x00\x00\x14@\x04\x07\x00\x00\x00Camera\x00\x04\x07\x00\x00\x00Rumble\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x00\x00\x00\x00$\x00\x00\x00\x01\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x03\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x08\x00\x00\x00\x0b\x00\x00\x00\x07\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00#\x00\x00\x00\t\x00\x00\x00distance\x00\x07\x00\x00\x00#\x00\x00\x00\x05\x00\x00\x00time\x00\x08\x00\x00\x00#\x00\x00\x00\x0c\x00\x00\x00(for index)\x00\x1a\x00\x00\x00#\x00\x00\x00\x0c\x00\x00\x00(for limit)\x00\x1a\x00\x00\x00#\x00\x00\x00\x0b\x00\x00\x00(for step)\x00\x1a\x00\x00\x00#\x00\x00\x00\x02\x00\x00\x00i\x00\x1b\x00\x00\x00"\x00\x00\x00\x00\x00\x00\x00'
                }
            }
        }
        Position{
            X : 0.0
            Y : 0.0
        }
        Depth : 0.0
        Rotation : 0.0
        Scaling : 1.0
        LocalAabb{
            X : -31.7994384765625
            Y : -17.0
            Width : 66.50344848632812
            Height : 127.0
        }
        Hidden : 0
    }
    Scaling : 1.0
}
Template{
    Object{
        Identifier : 'dragonkin_sword'
        Component{
            ClassName : 'WeaponTrail'
            Identifier : 1
            WeaponTrailComponent{
                Color{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 0.0
                }
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 2
            ShapeComponent{
                Rectangle{
                    X : 0.0
                    Y : 0.0
                    Width : 0.0
                    Height : 0.0
                }
            }
            CollisionShapeComponent{
                MinDepth : -15.0
                MaxDepth : 15.0
                Enabled : 0
            }
        }
        Component{
            ClassName : 'Damage'
            Identifier : 3
            DamageComponent{
                MinDamage : 4
                DamageType : 0
                SpecialDamageType : 0
                PhysicalDamageFactor : 1.0
                MagicDamageFactor : 0.0
                IgnoreTargetImmunity : 0
                CanBeBlocked : 1
            }
        }
        Component{
            ClassName : 'Transform'
            Identifier : 4
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 5
            ShapeComponent{
                Rectangle{
                    X : 0.0
                    Y : -25.0
                    Width : 90.0
                    Height : 50.0
                }
            }
            CollisionShapeComponent{
                InflictsDamage : 1
                MinDepth : -15.0
                MaxDepth : 15.0
                Enabled : 1
            }
        }
        Component{
            ClassName : 'SoundEffect'
            Identifier : 7
            Label : 'swing1'
            SoundEffectComponent{
                Name : 'sword_swing2'
                Delay : 0.0
                Volume : 1.0
            }
        }
        Component{
            ClassName : 'SoundEffect'
            Identifier : 8
            Label : 'impact1'
            SoundEffectComponent{
                Name : 'sword_impact3'
                Delay : 0.0
                Volume : 1.0
            }
        }
        Component{
            ClassName : 'WeaponTrail'
            Identifier : 16
            Label : 'glow'
            WeaponTrailComponent{
                Color{
                    R : 0.7568627595901489
                    G : 0.10588235408067703
                    B : 0.32156863808631897
                    A : 0.0
                }
            }
        }
        Component{
            ClassName : 'Model'
            Identifier : 101
            ModelComponent{
                Name : 'weapon_magicsword'
                YRotation : 0.0
                EmissionFactor : 1.0
                XRotation : 0.0
                ShatterColor{
                    R : 0.0
                    G : 0.0
                    B : 0.0
                    A : 1.0
                }
                Origin{
                    X : 0.0
                    Y : 0.0
                    Z : 0.0
                }
                Transparent : 0
                DiffuseColor{
                    R : 1.0
                    G : 1.0
                    B : 1.0
                    A : 1.0
                }
            }
        }
        Component{
            ClassName : 'SwingableWeapon'
            Identifier : 103
            SwingableWeaponComponent{
                ModelId : 101
                TrailId : 1
                ImpactParticleEmitterId : 0
                SwingSoundId : 7
                DamageImpactSoundId : 8
                GlowTrailId : 16
                CollisionShapeId : 2
                GlowId : 10
                BaseLength : 60.0
                GlowLength : 68.0
                GlowIntensity : 1.0
                Width : 6.0
                GlowColor{
                    R : 0.7607407569885254
                    G : 0.10592591762542725
                    B : 0.3241978585720062
                    A : 0.0
                }
            }
        }
        Position{
            X : 0.0
            Y : 0.0
        }
        Depth : 0.0
        Rotation : 0.0
        Scaling : 1.0
        LocalAabb{
            X : 0.0
            Y : -25.0
            Width : 90.0
            Height : 50.0
        }
        Hidden : 0
    }
    Scaling : 1.0
}
Template{
    Object{
        Identifier : 'seeker'
        Component{
            ClassName : 'ParticleEmitter'
            Identifier : 1
            ParticleEmitterComponent{
                ParticleId : 2
                ModelBindingId : 0
                MaxParticles : 30
                ParentEmitterId : 0
                DestroyWhenFinished : 0
                Emitter{
                    Type : 5
                    BaseColor{
                        R : 1.0
                        G : 0.0
                        B : 3.5762786865234375e-07
                        A : 0.0
                    }
                    Parameter : 0.0
                    Parameter : 360.0
                    Parameter : 0.0
                    Parameter : 0.0
                    Parameter : 0.0
                    Parameter : 0.0
                    Parameter : 0.0
                    Parameter : 0.0
                    Parameter : 0.699999988079071
                    Parameter : 1.0
                    Parameter : 0.5
                    Parameter : 0.30000001192092896
                    Parameter : 0.4000000059604645
                    Parameter : 0.0
                    Parameter : 0.0
                    HueVariance : 0.0
                    SaturationVariance : 0.0
                    LightnessVariance : 0.0
                    OriginOffset{
                        X : 0.0
                        Y : 0.0
                        Z : 0.0
                    }
                }
                LocalSystem : 1
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 2
            ParticleComponent{
                TextureName : 'particle_crosshair'
                Size : 64.0
            }
        }
        Component{
            ClassName : 'TransformController'
            Identifier : 3
        }
        Component{
            ClassName : 'Program'
            Identifier : 4
            ProgramComponent{
                ExecuteOnce : 1
                Program{
                    String : $
local self = ...;

self["parent"]["seeker1"] = nil;
self:destroy();
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00G\x00\x00\x00local self = ...;\r\n\r\nself["parent"]["seeker1"] = nil;\r\nself:destroy();\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x03\x06\x00\x00\x00%\x00\x00\x01F\x00@\x00I\x80\xc0\x80K\xc0@\x00\\@\x00\x01\x1e\x00\x80\x00\x04\x00\x00\x00\x04\x07\x00\x00\x00parent\x00\x04\x08\x00\x00\x00seeker1\x00\x00\x04\x08\x00\x00\x00destroy\x00\x00\x00\x00\x00\x06\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00\x01\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x05\x00\x00\x00\x00\x00\x00\x00'
                }
                Enabled : 1
                Trigger : 9
            }
        }
        Component{
            ClassName : 'MonsterEntity'
            Identifier : 106
            EntityComponent{
                FacingDirection : 1
                PhysicsEnabled : 0
            }
            MonsterEntityComponent{
                OnKill{
                }
                OnHurt{
                }
                GivesExperience : 1
                DefaultDeathAnimation : 1
            }
        }
        Component{
            ClassName : 'CollisionShape'
            Identifier : 108
            ShapeComponent{
                Rectangle{
                    X : -15.0
                    Y : -15.0
                    Width : 30.0
                    Height : 30.0
                }
            }
            CollisionShapeComponent{
                Collides : 1
                MinDepth : -15.0
                MaxDepth : 15.0
                OnCollide{
                    String : $
local self, target, normal, groundCollision = ...;

if groundCollision then


elseif target:identifier() == "hero" then
    self["locked"] = true;
    CollisionShape.SetEnabled(self, 108, false);
    EntityController.PerformAction(self["parent"], 134);
    for i=0, 3 do
        TransformController.ScaleTo(self, 2, 0.7);
        Program.Wait(0.7);
        TransformController.ScaleTo(self, 1, 0.7);
        Program.Wait(0.7);
    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00\x9f\x01\x00\x00local self, target, normal, groundCollision = ...;\r\n\r\nif groundCollision then\r\n\r\n\r\nelseif target:identifier() == "hero" then\r\n\tself["locked"] = true;\r\n\tCollisionShape.SetEnabled(self, 108, false);\r\n\tEntityController.PerformAction(self["parent"], 134);\r\n\tfor i=0, 3 do\r\n\t\tTransformController.ScaleTo(self, 2, 0.7);\r\n\t\tProgram.Wait(0.7);\r\n\t\tTransformController.ScaleTo(self, 1, 0.7);\r\n\t\tProgram.Wait(0.7);\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x0c.\x00\x00\x00%\x00\x80\x02\xda\x00\x00\x00\x16\x00\x00\x80\x16\x00\n\x80\x0b\x01\xc0\x00\x1c\x81\x00\x01\x17@@\x02\x16\x00\t\x80\t\xc0@\x81\x05\x01\x01\x00\x06AA\x02@\x01\x00\x00\x81\x81\x01\x00\xc2\x01\x00\x00\x1cA\x00\x02\x05\xc1\x01\x00\x06\x01B\x02FAB\x00\x81\x81\x02\x00\x1cA\x80\x01\x01\xc1\x02\x00A\x01\x03\x00\x81A\x03\x00 \xc1\x04\x80\x05\x82\x03\x00\x06\xc2C\x04@\x02\x00\x00\x81\x02\x04\x00\xc1B\x04\x00\x1cB\x00\x02\x05\x82\x04\x00\x06\xc2D\x04AB\x04\x00\x1cB\x00\x01\x05\x82\x03\x00\x06\xc2C\x04@\x02\x00\x00\x81B\x03\x00\xc1B\x04\x00\x1cB\x00\x02\x05\x82\x04\x00\x06\xc2D\x04AB\x04\x00\x1cB\x00\x01\x1f\x81\xfa\x7f\x1e\x00\x80\x00\x14\x00\x00\x00\x04\x0b\x00\x00\x00identifier\x00\x04\x05\x00\x00\x00hero\x00\x04\x07\x00\x00\x00locked\x00\x01\x01\x04\x0f\x00\x00\x00CollisionShape\x00\x04\x0b\x00\x00\x00SetEnabled\x00\x03\x00\x00\x00\x00\x00\x00[@\x04\x11\x00\x00\x00EntityController\x00\x04\x0e\x00\x00\x00PerformAction\x00\x04\x07\x00\x00\x00parent\x00\x03\x00\x00\x00\x00\x00\xc0`@\x03\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x08@\x03\x00\x00\x00\x00\x00\x00\xf0?\x04\x14\x00\x00\x00TransformController\x00\x04\x08\x00\x00\x00ScaleTo\x00\x03\x00\x00\x00\x00\x00\x00\x00@\x03ffffff\xe6?\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x00\x00\x00\x00.\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\r\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\x0e\x00\x00\x00\n\x00\x00\x00\x10\x00\x00\x00\x08\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00-\x00\x00\x00\x07\x00\x00\x00target\x00\x01\x00\x00\x00-\x00\x00\x00\x07\x00\x00\x00normal\x00\x01\x00\x00\x00-\x00\x00\x00\x10\x00\x00\x00groundCollision\x00\x01\x00\x00\x00-\x00\x00\x00\x0c\x00\x00\x00(for index)\x00\x17\x00\x00\x00-\x00\x00\x00\x0c\x00\x00\x00(for limit)\x00\x17\x00\x00\x00-\x00\x00\x00\x0b\x00\x00\x00(for step)\x00\x17\x00\x00\x00-\x00\x00\x00\x02\x00\x00\x00i\x00\x18\x00\x00\x00,\x00\x00\x00\x00\x00\x00\x00'
                }
                Enabled : 1
            }
        }
        Component{
            ClassName : 'ParticleEmitter'
            Identifier : 115
            ParticleEmitterComponent{
                ParticleId : 116
                ParticleId : 117
                ParticleId : 118
                ModelBindingId : 0
                MaxParticles : 10
                ParentEmitterId : 0
                DestroyWhenFinished : 0
                Emitter{
                    Type : 5
                    BaseColor{
                        R : 1.0
                        G : 0.0
                        B : 3.5762786865234375e-07
                        A : 0.0
                    }
                    Parameter : 0.0
                    Parameter : 360.0
                    Parameter : 0.0
                    Parameter : 0.0
                    Parameter : 0.0
                    Parameter : 100.0
                    Parameter : 0.0
                    Parameter : 0.0
                    Parameter : 0.20000000298023224
                    Parameter : 0.0
                    Parameter : 0.10000000149011612
                    Parameter : 0.009999999776482582
                    Parameter : 0.10000000149011612
                    Parameter : 0.0
                    Parameter : 0.0
                    HueVariance : 0.0
                    SaturationVariance : 0.0
                    LightnessVariance : 0.0
                    OriginOffset{
                        X : 0.0
                        Y : 0.0
                        Z : 0.0
                    }
                }
                LocalSystem : 0
                Gravity{
                    X : 0.0
                    Y : 800.0
                    Z : 0.0
                }
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 116
            ParticleComponent{
                TextureName : 'particle_fure_1'
                Size : 40.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 117
            ParticleComponent{
                TextureName : 'particle_fure_2'
                Size : 30.0
            }
        }
        Component{
            ClassName : 'Particle'
            Identifier : 118
            ParticleComponent{
                TextureName : 'particle_fure_3'
                Size : 20.0
            }
        }
        Component{
            ClassName : 'Program'
            Identifier : 122
            ProgramComponent{
                ExecuteOnce : 1
                Program{
                    String : $
local self = ...;

local targetPosition = self:position();

PhysicsObject.SetGravityMagnitude(self, 1.6);
PhysicsObject.SetDecelerationForce(self, 3);

while true do
    if self["locked"] then
        local target = EntityController.Target(self);
        Program.Wait(0.01);
        self:setPosition(target:position());
    else

    Program.Wait(0.1);

    local target = EntityController.Target(self);

    if EntityController.IsIdle(self) then
        if target ~= nil then
            EntityController.SetFacingDirection(self, 
                DirectionToTargetFromPosition(EntityController.Target(self):position(), self:position()));
        end

        local delta = targetPosition - self:position();

        PhysicsObject.SetGravityDirection(self, delta:normalized());

        if  target ~= nil then
            targetPosition = target:position();

            local distance = self:position():distance(targetPosition);
            local parentDistance = self["parent"]:position():distance(targetPosition);

            if distance > parentDistance + 100 then
                self["parent"]["seeker1"] = nil;
                self:destroy();
            end
        end
    end

    end
end
$end
                    Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x005\x04\x00\x00local self = ...;\r\n\r\nlocal targetPosition = self:position();\r\n\r\nPhysicsObject.SetGravityMagnitude(self, 1.6);\r\nPhysicsObject.SetDecelerationForce(self, 3);\r\n\r\nwhile true do\r\n\tif self["locked"] then\r\n\t\tlocal target = EntityController.Target(self);\r\n\t\tProgram.Wait(0.01);\r\n\t\tself:setPosition(target:position());\r\n\telse\r\n\r\n\tProgram.Wait(0.1);\r\n\r\n\tlocal target = EntityController.Target(self);\r\n\r\n\tif EntityController.IsIdle(self) then\r\n\t\tif target ~= nil then\r\n\t\t\tEntityController.SetFacingDirection(self, \r\n\t\t\t\tDirectionToTargetFromPosition(EntityController.Target(self):position(), self:position()));\r\n\t\tend\r\n\r\n\t\tlocal delta = targetPosition - self:position();\r\n\r\n\t\tPhysicsObject.SetGravityDirection(self, delta:normalized());\r\n\r\n\t\tif  target ~= nil then\r\n\t\t\ttargetPosition = target:position();\r\n\r\n\t\t\tlocal distance = self:position():distance(targetPosition);\r\n\t\t\tlocal parentDistance = self["parent"]:position():distance(targetPosition);\r\n\r\n\t\t\tif distance > parentDistance + 100 then\r\n\t\t\t\tself["parent"]["seeker1"] = nil;\r\n\t\t\t\tself:destroy();\r\n\t\t\tend\r\n\t\tend\r\n\tend\r\n\r\n\tend\r\nend\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\t]\x00\x00\x00%\x00\x00\x01K\x00@\x00\\\x80\x00\x01\x85@\x00\x00\x86\x80@\x01\xc0\x00\x00\x00\x01\xc1\x00\x00\x9c@\x80\x01\x85@\x00\x00\x86\x00A\x01\xc0\x00\x00\x00\x01A\x01\x00\x9c@\x80\x01\x86\x80A\x00\x9a\x00\x00\x00\x16\x00\x03\x80\x85\xc0\x01\x00\x86\x00B\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\xc5@\x02\x00\xc6\x80\xc2\x01\x01\xc1\x02\x00\xdc@\x00\x01\xcb\x00C\x00K\x01@\x01\\\x01\x00\x01\xdc@\x00\x00\x16\xc0\xfb\x7f\x85@\x02\x00\x86\x80B\x01\xc1@\x03\x00\x9c@\x00\x01\x85\xc0\x01\x00\x86\x00B\x01\xc0\x00\x00\x00\x9c\x80\x00\x01\xc5\xc0\x01\x00\xc6\x80\xc3\x01\x00\x01\x00\x00\xdc\x80\x00\x01\xda\x00\x00\x00\x16@\xf8\x7fW\xc0C\x01\x16@\x03\x80\xc5\xc0\x01\x00\xc6\x00\xc4\x01\x00\x01\x00\x00EA\x04\x00\x85\xc1\x01\x00\x86\x01B\x03\xc0\x01\x00\x00\x9c\x81\x00\x01\x8b\x01@\x03\x9c\x81\x00\x01\xcb\x01@\x00\xdc\x01\x00\x01\\\x01\x00\x00\xdc@\x00\x00\xcb\x00@\x00\xdc\x80\x00\x01\xcd\xc0\x80\x00\x05A\x00\x00\x06\x81D\x02@\x01\x00\x00\x8b\xc1\xc4\x01\x9c\x01\x00\x01\x1cA\x00\x00W\xc0C\x01\x16\x80\xf1\x7f\x0b\x01@\x01\x1c\x81\x00\x01@\x00\x00\x02\x0b\x01@\x00\x1c\x81\x00\x01\x0b\x01E\x02\x80\x01\x80\x00\x1c\x81\x80\x01FAE\x00K\x01\xc0\x02\\\x81\x00\x01K\x01\xc5\x02\xc0\x01\x80\x00\\\x81\x80\x01\x8c\x81\xc5\x02\x18\x00\x01\x03\x16@\xed\x7f\x86AE\x00\x89\xc1\xc3\x8b\x8b\x01F\x00\x9cA\x00\x01\x16\x00\xec\x7f\x1e\x00\x80\x00\x19\x00\x00\x00\x04\t\x00\x00\x00position\x00\x04\x0e\x00\x00\x00PhysicsObject\x00\x04\x14\x00\x00\x00SetGravityMagnitude\x00\x03\x9a\x99\x99\x99\x99\x99\xf9?\x04\x15\x00\x00\x00SetDecelerationForce\x00\x03\x00\x00\x00\x00\x00\x00\x08@\x04\x07\x00\x00\x00locked\x00\x04\x11\x00\x00\x00EntityController\x00\x04\x07\x00\x00\x00Target\x00\x04\x08\x00\x00\x00Program\x00\x04\x05\x00\x00\x00Wait\x00\x03{\x14\xaeG\xe1z\x84?\x04\x0c\x00\x00\x00setPosition\x00\x03\x9a\x99\x99\x99\x99\x99\xb9?\x04\x07\x00\x00\x00IsIdle\x00\x00\x04\x13\x00\x00\x00SetFacingDirection\x00\x04\x1e\x00\x00\x00DirectionToTargetFromPosition\x00\x04\x14\x00\x00\x00SetGravityDirection\x00\x04\x0b\x00\x00\x00normalized\x00\x04\t\x00\x00\x00distance\x00\x04\x07\x00\x00\x00parent\x00\x03\x00\x00\x00\x00\x00\x00Y@\x04\x08\x00\x00\x00seeker1\x00\x04\x08\x00\x00\x00destroy\x00\x00\x00\x00\x00]\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\x06\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\t\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\n\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0b\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x0f\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x11\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x14\x00\x00\x00\x14\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x15\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x16\x00\x00\x00\x15\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x19\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1b\x00\x00\x00\x1d\x00\x00\x00\x1d\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00\x1e\x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00 \x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00!\x00\x00\x00#\x00\x00\x00#\x00\x00\x00#\x00\x00\x00$\x00\x00\x00$\x00\x00\x00%\x00\x00\x00%\x00\x00\x00*\x00\x00\x00+\x00\x00\x00\x07\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\\\x00\x00\x00\x0f\x00\x00\x00targetPosition\x00\x03\x00\x00\x00\\\x00\x00\x00\x07\x00\x00\x00target\x00\x14\x00\x00\x00\x1c\x00\x00\x00\x07\x00\x00\x00target\x00%\x00\x00\x00[\x00\x00\x00\x06\x00\x00\x00delta\x00>\x00\x00\x00[\x00\x00\x00\t\x00\x00\x00distance\x00N\x00\x00\x00[\x00\x00\x00\x0f\x00\x00\x00parentDistance\x00T\x00\x00\x00[\x00\x00\x00\x00\x00\x00\x00'
                }
                Enabled : 1
                Trigger : 1
            }
        }
        Component{
            ClassName : 'PhysicsObject'
            Identifier : 123
            PhysicsObjectComponent{
                PhysicsEnabled : 1
                GroundDeceleration : 1500.0
                AirDeceleration : 0.0
                MaxSpeed : 700.0
                AllowRotation : 0
                Elasticity : 0.0
            }
        }
        Component{
            ClassName : 'SimpleGlow'
            Identifier : 127
            SimpleGlowComponent{
                Color{
                    R : 1.0
                    G : 0.0
                    B : 0.0
                    A : 0.5
                }
                Size : 5.0
                NumSegments : 6
                Depth : 15.0
                PulseAmount : 0.15000000596046448
                PulseTime : 0.800000011920929
                Offset{
                    X : 0.0
                    Y : 0.0
                }
            }
        }
        Component{
            ClassName : 'EntityController'
            Identifier : 128
            EntityControllerComponent{
                EntityId : 106
                AnimationControllerId : 0
                DefaultMoveAnimationId : 0
                RoamAreaId : 0
                DefaultMoveSpeed : 100.0
                DefaultAcceleration : 800.0
                TargetingDistance : 1000.0
                MovementBehavior : 1
            }
        }
        Position{
            X : 0.0
            Y : 0.0
        }
        Depth : 0.0
        Rotation : 0.0
        Scaling : 1.0
        LocalAabb{
            X : -15.0
            Y : -15.0
            Width : 30.0
            Height : 30.0
        }
        Hidden : 0
        OnLoad{
            String : $
local self = ...;

self["locked"] = false;

$end
            Bytes : '\x1bLuaQ\x00\x01\x04\x04\x04\x08\x00/\x00\x00\x00local self = ...;\r\n\r\nself["locked"] = false;\r\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x02\x03\x00\x00\x00%\x00\x00\x01\t@@\x80\x1e\x00\x80\x00\x02\x00\x00\x00\x04\x07\x00\x00\x00locked\x00\x01\x00\x00\x00\x00\x00\x03\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x01\x00\x00\x00\x05\x00\x00\x00self\x00\x01\x00\x00\x00\x02\x00\x00\x00\x00\x00\x00\x00'
        }
    }
    Scaling : 1.0
}
